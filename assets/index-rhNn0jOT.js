var Pg=Object.defineProperty;var Qh=r=>{throw TypeError(r)};var Tg=(r,t,e)=>t in r?Pg(r,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[t]=e;var k=(r,t,e)=>Tg(r,typeof t!="symbol"?t+"":t,e),dl=(r,t,e)=>t.has(r)||Qh("Cannot "+e);var p=(r,t,e)=>(dl(r,t,"read from private field"),e?e.call(r):t.get(r)),B=(r,t,e)=>t.has(r)?Qh("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(r):t.set(r,e),w=(r,t,e,i)=>(dl(r,t,"write to private field"),i?i.call(r,e):t.set(r,e),e),R=(r,t,e)=>(dl(r,t,"access private method"),e);var Lo=(r,t,e,i)=>({set _(o){w(r,t,o,e)},get _(){return p(r,t,i)}});(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const l of c.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function e(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function i(o){if(o.ep)return;o.ep=!0;const c=e(o);fetch(o.href,c)}})();var rc=function(){return rc=Object.assign||function(r){for(var t,e=1,i=arguments.length;e<i;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(r[o]=t[o]);return r},rc.apply(this,arguments)},Lg=function(){function r(t,e,i){var o=this;this.endVal=e,this.options=i,this.version="2.9.0",this.defaults={startVal:0,decimalPlaces:0,duration:2,useEasing:!0,useGrouping:!0,useIndianSeparators:!1,smartEasingThreshold:999,smartEasingAmount:333,separator:",",decimal:".",prefix:"",suffix:"",enableScrollSpy:!1,scrollSpyDelay:200,scrollSpyOnce:!1},this.finalEndVal=null,this.useEasing=!0,this.countDown=!1,this.error="",this.startVal=0,this.paused=!0,this.once=!1,this.count=function(c){o.startTime||(o.startTime=c);var l=c-o.startTime;o.remaining=o.duration-l,o.useEasing?o.countDown?o.frameVal=o.startVal-o.easingFn(l,0,o.startVal-o.endVal,o.duration):o.frameVal=o.easingFn(l,o.startVal,o.endVal-o.startVal,o.duration):o.frameVal=o.startVal+(o.endVal-o.startVal)*(l/o.duration);var h=o.countDown?o.frameVal<o.endVal:o.frameVal>o.endVal;o.frameVal=h?o.endVal:o.frameVal,o.frameVal=Number(o.frameVal.toFixed(o.options.decimalPlaces)),o.printValue(o.frameVal),l<o.duration?o.rAF=requestAnimationFrame(o.count):o.finalEndVal!==null?o.update(o.finalEndVal):o.options.onCompleteCallback&&o.options.onCompleteCallback()},this.formatNumber=function(c){var l,h,f,m,_=c<0?"-":"";l=Math.abs(c).toFixed(o.options.decimalPlaces);var y=(l+="").split(".");if(h=y[0],f=y.length>1?o.options.decimal+y[1]:"",o.options.useGrouping){m="";for(var b=3,E=0,T=0,x=h.length;T<x;++T)o.options.useIndianSeparators&&T===4&&(b=2,E=1),T!==0&&E%b==0&&(m=o.options.separator+m),E++,m=h[x-T-1]+m;h=m}return o.options.numerals&&o.options.numerals.length&&(h=h.replace(/[0-9]/g,function(O){return o.options.numerals[+O]}),f=f.replace(/[0-9]/g,function(O){return o.options.numerals[+O]})),_+o.options.prefix+h+f+o.options.suffix},this.easeOutExpo=function(c,l,h,f){return h*(1-Math.pow(2,-10*c/f))*1024/1023+l},this.options=rc(rc({},this.defaults),i),this.formattingFn=this.options.formattingFn?this.options.formattingFn:this.formatNumber,this.easingFn=this.options.easingFn?this.options.easingFn:this.easeOutExpo,this.el=typeof t=="string"?document.getElementById(t):t,e=e??this.parse(this.el.innerHTML),this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.endVal=this.validateValue(e),this.options.decimalPlaces=Math.max(this.options.decimalPlaces),this.resetDuration(),this.options.separator=String(this.options.separator),this.useEasing=this.options.useEasing,this.options.separator===""&&(this.options.useGrouping=!1),this.el?this.printValue(this.startVal):this.error="[CountUp] target is null or undefined",typeof window<"u"&&this.options.enableScrollSpy&&(this.error?console.error(this.error,t):(window.onScrollFns=window.onScrollFns||[],window.onScrollFns.push(function(){return o.handleScroll(o)}),window.onscroll=function(){window.onScrollFns.forEach(function(c){return c()})},this.handleScroll(this)))}return r.prototype.handleScroll=function(t){if(t&&window&&!t.once){var e=window.innerHeight+window.scrollY,i=t.el.getBoundingClientRect(),o=i.top+window.pageYOffset,c=i.top+i.height+window.pageYOffset;c<e&&c>window.scrollY&&t.paused?(t.paused=!1,setTimeout(function(){return t.start()},t.options.scrollSpyDelay),t.options.scrollSpyOnce&&(t.once=!0)):(window.scrollY>c||o>e)&&!t.paused&&t.reset()}},r.prototype.determineDirectionAndSmartEasing=function(){var t=this.finalEndVal?this.finalEndVal:this.endVal;this.countDown=this.startVal>t;var e=t-this.startVal;if(Math.abs(e)>this.options.smartEasingThreshold&&this.options.useEasing){this.finalEndVal=t;var i=this.countDown?1:-1;this.endVal=t+i*this.options.smartEasingAmount,this.duration=this.duration/2}else this.endVal=t,this.finalEndVal=null;this.finalEndVal!==null?this.useEasing=!1:this.useEasing=this.options.useEasing},r.prototype.start=function(t){this.error||(this.options.onStartCallback&&this.options.onStartCallback(),t&&(this.options.onCompleteCallback=t),this.duration>0?(this.determineDirectionAndSmartEasing(),this.paused=!1,this.rAF=requestAnimationFrame(this.count)):this.printValue(this.endVal))},r.prototype.pauseResume=function(){this.paused?(this.startTime=null,this.duration=this.remaining,this.startVal=this.frameVal,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count)):cancelAnimationFrame(this.rAF),this.paused=!this.paused},r.prototype.reset=function(){cancelAnimationFrame(this.rAF),this.paused=!0,this.resetDuration(),this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.printValue(this.startVal)},r.prototype.update=function(t){cancelAnimationFrame(this.rAF),this.startTime=null,this.endVal=this.validateValue(t),this.endVal!==this.frameVal&&(this.startVal=this.frameVal,this.finalEndVal==null&&this.resetDuration(),this.finalEndVal=null,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count))},r.prototype.printValue=function(t){var e;if(this.el){var i=this.formattingFn(t);!((e=this.options.plugin)===null||e===void 0)&&e.render?this.options.plugin.render(this.el,i):this.el.tagName==="INPUT"?this.el.value=i:this.el.tagName==="text"||this.el.tagName==="tspan"?this.el.textContent=i:this.el.innerHTML=i}},r.prototype.ensureNumber=function(t){return typeof t=="number"&&!isNaN(t)},r.prototype.validateValue=function(t){var e=Number(t);return this.ensureNumber(e)?e:(this.error="[CountUp] invalid start or end value: ".concat(t),null)},r.prototype.resetDuration=function(){this.startTime=null,this.duration=1e3*Number(this.options.duration),this.remaining=this.duration},r.prototype.parse=function(t){var e=function(l){return l.replace(/([.,'  ])/g,"\\$1")},i=e(this.options.separator),o=e(this.options.decimal),c=t.replace(new RegExp(i,"g"),"").replace(new RegExp(o,"g"),".");return parseFloat(c)},r}();const Cg="6.14.4";function kg(r,t,e){const i=t.split("|").map(c=>c.trim());for(let c=0;c<i.length;c++)switch(t){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof r===t)return}const o=new Error(`invalid value for type ${t}`);throw o.code="INVALID_ARGUMENT",o.argument=`value.${e}`,o.value=r,o}async function Ae(r){const t=Object.keys(r);return(await Promise.all(t.map(i=>Promise.resolve(r[i])))).reduce((i,o,c)=>(i[t[c]]=o,i),{})}function st(r,t,e){for(let i in t){let o=t[i];const c=e?e[i]:null;c&&kg(o,c,i),Object.defineProperty(r,i,{enumerable:!0,value:o,writable:!1})}}function cs(r,t){if(r==null)return"null";if(t==null&&(t=new Set),typeof r=="object"){if(t.has(r))return"[Circular]";t.add(r)}if(Array.isArray(r))return"[ "+r.map(e=>cs(e,t)).join(", ")+" ]";if(r instanceof Uint8Array){const e="0123456789abcdef";let i="0x";for(let o=0;o<r.length;o++)i+=e[r[o]>>4],i+=e[r[o]&15];return i}if(typeof r=="object"&&typeof r.toJSON=="function")return cs(r.toJSON(),t);switch(typeof r){case"boolean":case"number":case"symbol":return r.toString();case"bigint":return BigInt(r).toString();case"string":return JSON.stringify(r);case"object":{const e=Object.keys(r);return e.sort(),"{ "+e.map(i=>`${cs(i,t)}: ${cs(r[i],t)}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function de(r,t){return r&&r.code===t}function xu(r){return de(r,"CALL_EXCEPTION")}function Vt(r,t,e){let i=r;{const c=[];if(e){if("message"in e||"code"in e||"name"in e)throw new Error(`value will overwrite populated values: ${cs(e)}`);for(const l in e){if(l==="shortMessage")continue;const h=e[l];c.push(l+"="+cs(h))}}c.push(`code=${t}`),c.push(`version=${Cg}`),c.length&&(r+=" ("+c.join(", ")+")")}let o;switch(t){case"INVALID_ARGUMENT":o=new TypeError(r);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":o=new RangeError(r);break;default:o=new Error(r)}return st(o,{code:t}),e&&Object.assign(o,e),o.shortMessage==null&&st(o,{shortMessage:i}),o}function N(r,t,e,i){if(!r)throw Vt(t,e,i)}function P(r,t,e,i){N(r,t,"INVALID_ARGUMENT",{argument:e,value:i})}function ud(r,t,e){e==null&&(e=""),e&&(e=": "+e),N(r>=t,"missing argument"+e,"MISSING_ARGUMENT",{count:r,expectedCount:t}),N(r<=t,"too many arguments"+e,"UNEXPECTED_ARGUMENT",{count:r,expectedCount:t})}["NFD","NFC","NFKD","NFKC"].reduce((r,t)=>{try{if("test".normalize(t)!=="test")throw new Error("bad");if(t==="NFD"&&"é".normalize("NFD")!=="é")throw new Error("broken");r.push(t)}catch{}return r},[]);function la(r,t,e){if(e==null&&(e=""),r!==t){let i=e,o="new";e&&(i+=".",o+=" "+e),N(!1,`private constructor; use ${i}from* methods`,"UNSUPPORTED_OPERATION",{operation:o})}}function hd(r,t,e){if(r instanceof Uint8Array)return e?new Uint8Array(r):r;if(typeof r=="string"&&r.match(/^0x(?:[0-9a-f][0-9a-f])*$/i)){const i=new Uint8Array((r.length-2)/2);let o=2;for(let c=0;c<i.length;c++)i[c]=parseInt(r.substring(o,o+2),16),o+=2;return i}P(!1,"invalid BytesLike value",t||"value",r)}function yt(r,t){return hd(r,t,!1)}function xe(r,t){return hd(r,t,!0)}function zt(r,t){return!(typeof r!="string"||!r.match(/^0x[0-9A-Fa-f]*$/)||typeof t=="number"&&r.length!==2+2*t||t===!0&&r.length%2!==0)}function Eu(r){return zt(r,!0)||r instanceof Uint8Array}const Jh="0123456789abcdef";function Z(r){const t=yt(r);let e="0x";for(let i=0;i<t.length;i++){const o=t[i];e+=Jh[(o&240)>>4]+Jh[o&15]}return e}function jt(r){return"0x"+r.map(t=>Z(t).substring(2)).join("")}function ds(r){return zt(r,!0)?(r.length-2)/2:yt(r).length}function Wt(r,t,e){const i=yt(r);return e!=null&&e>i.length&&N(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:i,length:i.length,offset:e}),Z(i.slice(t??0,e??i.length))}function fd(r,t,e){const i=yt(r);N(t>=i.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(i),length:t,offset:t+1});const o=new Uint8Array(t);return o.fill(0),e?o.set(i,t-i.length):o.set(i,0),Z(o)}function di(r,t){return fd(r,t,!0)}function Ig(r,t){return fd(r,t,!1)}const Pc=BigInt(0),_n=BigInt(1),Dl=9007199254740991;function sc(r,t){const e=Tc(r,"value"),i=BigInt(_t(t,"width"));if(N(e>>i===Pc,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:r}),e>>i-_n){const o=(_n<<i)-_n;return-((~e&o)+_n)}return e}function dd(r,t){let e=j(r,"value");const i=BigInt(_t(t,"width")),o=_n<<i-_n;if(e<Pc){e=-e,N(e<=o,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:r});const c=(_n<<i)-_n;return(~e&c)+_n}else N(e<o,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:r});return e}function hr(r,t){const e=Tc(r,"value"),i=BigInt(_t(t,"bits"));return e&(_n<<i)-_n}function j(r,t){switch(typeof r){case"bigint":return r;case"number":return P(Number.isInteger(r),"underflow",t||"value",r),P(r>=-9007199254740991&&r<=Dl,"overflow",t||"value",r),BigInt(r);case"string":try{if(r==="")throw new Error("empty string");return r[0]==="-"&&r[1]!=="-"?-BigInt(r.substring(1)):BigInt(r)}catch(e){P(!1,`invalid BigNumberish string: ${e.message}`,t||"value",r)}}P(!1,"invalid BigNumberish value",t||"value",r)}function Tc(r,t){const e=j(r,t);return N(e>=Pc,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:r}),e}const Kh="0123456789abcdef";function Lc(r){if(r instanceof Uint8Array){let t="0x0";for(const e of r)t+=Kh[e>>4],t+=Kh[e&15];return BigInt(t)}return j(r)}function _t(r,t){switch(typeof r){case"bigint":return P(r>=-9007199254740991&&r<=Dl,"overflow",t||"value",r),Number(r);case"number":return P(Number.isInteger(r),"underflow",t||"value",r),P(r>=-9007199254740991&&r<=Dl,"overflow",t||"value",r),r;case"string":try{if(r==="")throw new Error("empty string");return _t(BigInt(r),t)}catch(e){P(!1,`invalid numeric string: ${e.message}`,t||"value",r)}}P(!1,"invalid numeric value",t||"value",r)}function Bg(r){return _t(Lc(r))}function Ji(r,t){let i=Tc(r,"value").toString(16);if(t==null)i.length%2&&(i="0"+i);else{const o=_t(t,"width");for(N(o*2>=i.length,`value exceeds width (${o} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:r});i.length<o*2;)i="0"+i}return"0x"+i}function re(r){const t=Tc(r,"value");if(t===Pc)return new Uint8Array([]);let e=t.toString(16);e.length%2&&(e="0"+e);const i=new Uint8Array(e.length/2);for(let o=0;o<i.length;o++){const c=o*2;i[o]=parseInt(e.substring(c,c+2),16)}return i}function yn(r){let t=Z(Eu(r)?r:re(r)).substring(2);for(;t.startsWith("0");)t=t.substring(1);return t===""&&(t="0"),"0x"+t}const Wh="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";BigInt(0);const jh=BigInt(58);function Og(r){const t=yt(r);let e=Lc(t),i="";for(;e;)i=Wh[Number(e%jh)]+i,e/=jh;for(let o=0;o<t.length&&!t[o];o++)i=Wh[0]+i;return i}function Sg(r){r=atob(r);const t=new Uint8Array(r.length);for(let e=0;e<r.length;e++)t[e]=r.charCodeAt(e);return yt(t)}function Ng(r){const t=yt(r);let e="";for(let i=0;i<t.length;i++)e+=String.fromCharCode(t[i]);return btoa(e)}var ys;class pd{constructor(t,e,i){k(this,"filter");k(this,"emitter");B(this,ys);w(this,ys,e),st(this,{emitter:t,filter:i})}async removeListener(){p(this,ys)!=null&&await this.emitter.off(this.filter,p(this,ys))}}ys=new WeakMap;function Mg(r,t,e,i,o){P(!1,`invalid codepoint at offset ${t}; ${r}`,"bytes",e)}function md(r,t,e,i,o){if(r==="BAD_PREFIX"||r==="UNEXPECTED_CONTINUE"){let c=0;for(let l=t+1;l<e.length&&e[l]>>6===2;l++)c++;return c}return r==="OVERRUN"?e.length-t-1:0}function Rg(r,t,e,i,o){return r==="OVERLONG"?(P(typeof o=="number","invalid bad code point for replacement","badCodepoint",o),i.push(o),0):(i.push(65533),md(r,t,e))}const Fg=Object.freeze({error:Mg,ignore:md,replace:Rg});function Dg(r,t){t==null&&(t=Fg.error);const e=yt(r,"bytes"),i=[];let o=0;for(;o<e.length;){const c=e[o++];if(c>>7===0){i.push(c);continue}let l=null,h=null;if((c&224)===192)l=1,h=127;else if((c&240)===224)l=2,h=2047;else if((c&248)===240)l=3,h=65535;else{(c&192)===128?o+=t("UNEXPECTED_CONTINUE",o-1,e,i):o+=t("BAD_PREFIX",o-1,e,i);continue}if(o-1+l>=e.length){o+=t("OVERRUN",o-1,e,i);continue}let f=c&(1<<8-l-1)-1;for(let m=0;m<l;m++){let _=e[o];if((_&192)!=128){o+=t("MISSING_CONTINUE",o,e,i),f=null;break}f=f<<6|_&63,o++}if(f!==null){if(f>1114111){o+=t("OUT_OF_RANGE",o-1-l,e,i,f);continue}if(f>=55296&&f<=57343){o+=t("UTF16_SURROGATE",o-1-l,e,i,f);continue}if(f<=h){o+=t("OVERLONG",o-1-l,e,i,f);continue}i.push(f)}}return i}function hi(r,t){P(typeof r=="string","invalid string value","str",r);let e=[];for(let i=0;i<r.length;i++){const o=r.charCodeAt(i);if(o<128)e.push(o);else if(o<2048)e.push(o>>6|192),e.push(o&63|128);else if((o&64512)==55296){i++;const c=r.charCodeAt(i);P(i<r.length&&(c&64512)===56320,"invalid surrogate pair","str",r);const l=65536+((o&1023)<<10)+(c&1023);e.push(l>>18|240),e.push(l>>12&63|128),e.push(l>>6&63|128),e.push(l&63|128)}else e.push(o>>12|224),e.push(o>>6&63|128),e.push(o&63|128)}return new Uint8Array(e)}function Ug(r){return r.map(t=>t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode((t>>10&1023)+55296,(t&1023)+56320))).join("")}function oc(r,t){return Ug(Dg(r,t))}function gd(r){async function t(e,i){N(i==null||!i.cancelled,"request cancelled before sending","CANCELLED");const o=e.url.split(":")[0].toLowerCase();N(o==="http"||o==="https",`unsupported protocol ${o}`,"UNSUPPORTED_OPERATION",{info:{protocol:o},operation:"request"}),N(o==="https"||!e.credentials||e.allowInsecureAuthentication,"insecure authorized connections unsupported","UNSUPPORTED_OPERATION",{operation:"request"});let c=null;const l=new AbortController,h=setTimeout(()=>{c=Vt("request timeout","TIMEOUT"),l.abort()},e.timeout);i&&i.addListener(()=>{c=Vt("request cancelled","CANCELLED"),l.abort()});const f=Object.assign({},r,{method:e.method,headers:new Headers(Array.from(e)),body:e.body||void 0,signal:l.signal});let m;try{m=await fetch(e.url,f)}catch(E){throw clearTimeout(h),c||E}clearTimeout(h);const _={};m.headers.forEach((E,T)=>{_[T.toLowerCase()]=E});const y=await m.arrayBuffer(),b=y==null?null:new Uint8Array(y);return{statusCode:m.status,statusMessage:m.statusText,headers:_,body:b}}return t}const zg=12,Hg=250;let Yh=gd();const Gg=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),Zg=new RegExp("^ipfs://(ipfs/)?(.*)$","i");let pl=!1;async function yd(r,t){try{const e=r.match(Gg);if(!e)throw new Error("invalid data");return new Vi(200,"OK",{"content-type":e[1]||"text/plain"},e[2]?Sg(e[3]):Qg(e[3]))}catch{return new Vi(599,"BAD REQUEST (invalid data: URI)",{},null,new Ki(r))}}function _d(r){async function t(e,i){try{const o=e.match(Zg);if(!o)throw new Error("invalid link");return new Ki(`${r}${o[2]}`)}catch{return new Vi(599,"BAD REQUEST (invalid IPFS URI)",{},null,new Ki(e))}}return t}const Ra={data:yd,ipfs:_d("https://gateway.ipfs.io/ipfs/")},wd=new WeakMap;var mr,Li;class Vg{constructor(t){B(this,mr);B(this,Li);w(this,mr,[]),w(this,Li,!1),wd.set(t,()=>{if(!p(this,Li)){w(this,Li,!0);for(const e of p(this,mr))setTimeout(()=>{e()},0);w(this,mr,[])}})}addListener(t){N(!p(this,Li),"singal already cancelled","UNSUPPORTED_OPERATION",{operation:"fetchCancelSignal.addCancelListener"}),p(this,mr).push(t)}get cancelled(){return p(this,Li)}checkSignal(){N(!this.cancelled,"cancelled","CANCELLED",{})}}mr=new WeakMap,Li=new WeakMap;function Fa(r){if(r==null)throw new Error("missing signal; should not happen");return r.checkSignal(),r}var _s,ws,hn,Xn,vs,bs,oe,Ue,$n,gr,yr,_r,Ln,fn,Ci,wr,Bo;const _c=class _c{constructor(t){B(this,wr);B(this,_s);B(this,ws);B(this,hn);B(this,Xn);B(this,vs);B(this,bs);B(this,oe);B(this,Ue);B(this,$n);B(this,gr);B(this,yr);B(this,_r);B(this,Ln);B(this,fn);B(this,Ci);w(this,bs,String(t)),w(this,_s,!1),w(this,ws,!0),w(this,hn,{}),w(this,Xn,""),w(this,vs,3e5),w(this,fn,{slotInterval:Hg,maxAttempts:zg}),w(this,Ci,null)}get url(){return p(this,bs)}set url(t){w(this,bs,String(t))}get body(){return p(this,oe)==null?null:new Uint8Array(p(this,oe))}set body(t){if(t==null)w(this,oe,void 0),w(this,Ue,void 0);else if(typeof t=="string")w(this,oe,hi(t)),w(this,Ue,"text/plain");else if(t instanceof Uint8Array)w(this,oe,t),w(this,Ue,"application/octet-stream");else if(typeof t=="object")w(this,oe,hi(JSON.stringify(t))),w(this,Ue,"application/json");else throw new Error("invalid body")}hasBody(){return p(this,oe)!=null}get method(){return p(this,Xn)?p(this,Xn):this.hasBody()?"POST":"GET"}set method(t){t==null&&(t=""),w(this,Xn,String(t).toUpperCase())}get headers(){const t=Object.assign({},p(this,hn));return p(this,$n)&&(t.authorization=`Basic ${Ng(hi(p(this,$n)))}`),this.allowGzip&&(t["accept-encoding"]="gzip"),t["content-type"]==null&&p(this,Ue)&&(t["content-type"]=p(this,Ue)),this.body&&(t["content-length"]=String(this.body.length)),t}getHeader(t){return this.headers[t.toLowerCase()]}setHeader(t,e){p(this,hn)[String(t).toLowerCase()]=String(e)}clearHeaders(){w(this,hn,{})}[Symbol.iterator](){const t=this.headers,e=Object.keys(t);let i=0;return{next:()=>{if(i<e.length){const o=e[i++];return{value:[o,t[o]],done:!1}}return{value:void 0,done:!0}}}}get credentials(){return p(this,$n)||null}setCredentials(t,e){P(!t.match(/:/),"invalid basic authentication username","username","[REDACTED]"),w(this,$n,`${t}:${e}`)}get allowGzip(){return p(this,ws)}set allowGzip(t){w(this,ws,!!t)}get allowInsecureAuthentication(){return!!p(this,_s)}set allowInsecureAuthentication(t){w(this,_s,!!t)}get timeout(){return p(this,vs)}set timeout(t){P(t>=0,"timeout must be non-zero","timeout",t),w(this,vs,t)}get preflightFunc(){return p(this,gr)||null}set preflightFunc(t){w(this,gr,t)}get processFunc(){return p(this,yr)||null}set processFunc(t){w(this,yr,t)}get retryFunc(){return p(this,_r)||null}set retryFunc(t){w(this,_r,t)}get getUrlFunc(){return p(this,Ci)||Yh}set getUrlFunc(t){w(this,Ci,t)}toString(){return`<FetchRequest method=${JSON.stringify(this.method)} url=${JSON.stringify(this.url)} headers=${JSON.stringify(this.headers)} body=${p(this,oe)?Z(p(this,oe)):"null"}>`}setThrottleParams(t){t.slotInterval!=null&&(p(this,fn).slotInterval=t.slotInterval),t.maxAttempts!=null&&(p(this,fn).maxAttempts=t.maxAttempts)}send(){return N(p(this,Ln)==null,"request already sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.send"}),w(this,Ln,new Vg(this)),R(this,wr,Bo).call(this,0,qh()+this.timeout,0,this,new Vi(0,"",{},null,this))}cancel(){N(p(this,Ln)!=null,"request has not been sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.cancel"});const t=wd.get(this);if(!t)throw new Error("missing signal; should not happen");t()}redirect(t){const e=this.url.split(":")[0].toLowerCase(),i=t.split(":")[0].toLowerCase();N(this.method==="GET"&&(e!=="https"||i!=="http")&&t.match(/^https?:/),"unsupported redirect","UNSUPPORTED_OPERATION",{operation:`redirect(${this.method} ${JSON.stringify(this.url)} => ${JSON.stringify(t)})`});const o=new _c(t);return o.method="GET",o.allowGzip=this.allowGzip,o.timeout=this.timeout,w(o,hn,Object.assign({},p(this,hn))),p(this,oe)&&w(o,oe,new Uint8Array(p(this,oe))),w(o,Ue,p(this,Ue)),o}clone(){const t=new _c(this.url);return w(t,Xn,p(this,Xn)),p(this,oe)&&w(t,oe,p(this,oe)),w(t,Ue,p(this,Ue)),w(t,hn,Object.assign({},p(this,hn))),w(t,$n,p(this,$n)),this.allowGzip&&(t.allowGzip=!0),t.timeout=this.timeout,this.allowInsecureAuthentication&&(t.allowInsecureAuthentication=!0),w(t,gr,p(this,gr)),w(t,yr,p(this,yr)),w(t,_r,p(this,_r)),w(t,fn,Object.assign({},p(this,fn))),w(t,Ci,p(this,Ci)),t}static lockConfig(){pl=!0}static getGateway(t){return Ra[t.toLowerCase()]||null}static registerGateway(t,e){if(t=t.toLowerCase(),t==="http"||t==="https")throw new Error(`cannot intercept ${t}; use registerGetUrl`);if(pl)throw new Error("gateways locked");Ra[t]=e}static registerGetUrl(t){if(pl)throw new Error("gateways locked");Yh=t}static createGetUrlFunc(t){return gd(t)}static createDataGateway(){return yd}static createIpfsGatewayFunc(t){return _d(t)}};_s=new WeakMap,ws=new WeakMap,hn=new WeakMap,Xn=new WeakMap,vs=new WeakMap,bs=new WeakMap,oe=new WeakMap,Ue=new WeakMap,$n=new WeakMap,gr=new WeakMap,yr=new WeakMap,_r=new WeakMap,Ln=new WeakMap,fn=new WeakMap,Ci=new WeakMap,wr=new WeakSet,Bo=async function(t,e,i,o,c){var _,y,b;if(t>=p(this,fn).maxAttempts)return c.makeServerError("exceeded maximum retry limit");N(qh()<=e,"timeout","TIMEOUT",{operation:"request.send",reason:"timeout",request:o}),i>0&&await Jg(i);let l=this.clone();const h=(l.url.split(":")[0]||"").toLowerCase();if(h in Ra){const E=await Ra[h](l.url,Fa(p(o,Ln)));if(E instanceof Vi){let T=E;if(this.processFunc){Fa(p(o,Ln));try{T=await this.processFunc(l,T)}catch(x){(x.throttle==null||typeof x.stall!="number")&&T.makeServerError("error in post-processing function",x).assertOk()}}return T}l=E}this.preflightFunc&&(l=await this.preflightFunc(l));const f=await this.getUrlFunc(l,Fa(p(o,Ln)));let m=new Vi(f.statusCode,f.statusMessage,f.headers,f.body,o);if(m.statusCode===301||m.statusCode===302){try{const E=m.headers.location||"";return R(_=l.redirect(E),wr,Bo).call(_,t+1,e,0,o,m)}catch{}return m}else if(m.statusCode===429&&(this.retryFunc==null||await this.retryFunc(l,m,t))){const E=m.headers["retry-after"];let T=p(this,fn).slotInterval*Math.trunc(Math.random()*Math.pow(2,t));return typeof E=="string"&&E.match(/^[1-9][0-9]*$/)&&(T=parseInt(E)),R(y=l.clone(),wr,Bo).call(y,t+1,e,T,o,m)}if(this.processFunc){Fa(p(o,Ln));try{m=await this.processFunc(l,m)}catch(E){(E.throttle==null||typeof E.stall!="number")&&m.makeServerError("error in post-processing function",E).assertOk();let T=p(this,fn).slotInterval*Math.trunc(Math.random()*Math.pow(2,t));return E.stall>=0&&(T=E.stall),R(b=l.clone(),wr,Bo).call(b,t+1,e,T,o,m)}}return m};let Ki=_c;var qo,Xo,$o,ze,As,vr;const Qu=class Qu{constructor(t,e,i,o,c){B(this,qo);B(this,Xo);B(this,$o);B(this,ze);B(this,As);B(this,vr);w(this,qo,t),w(this,Xo,e),w(this,$o,Object.keys(i).reduce((l,h)=>(l[h.toLowerCase()]=String(i[h]),l),{})),w(this,ze,o==null?null:new Uint8Array(o)),w(this,As,c||null),w(this,vr,{message:""})}toString(){return`<FetchResponse status=${this.statusCode} body=${p(this,ze)?Z(p(this,ze)):"null"}>`}get statusCode(){return p(this,qo)}get statusMessage(){return p(this,Xo)}get headers(){return Object.assign({},p(this,$o))}get body(){return p(this,ze)==null?null:new Uint8Array(p(this,ze))}get bodyText(){try{return p(this,ze)==null?"":oc(p(this,ze))}catch{N(!1,"response body is not valid UTF-8 data","UNSUPPORTED_OPERATION",{operation:"bodyText",info:{response:this}})}}get bodyJson(){try{return JSON.parse(this.bodyText)}catch{N(!1,"response body is not valid JSON","UNSUPPORTED_OPERATION",{operation:"bodyJson",info:{response:this}})}}[Symbol.iterator](){const t=this.headers,e=Object.keys(t);let i=0;return{next:()=>{if(i<e.length){const o=e[i++];return{value:[o,t[o]],done:!1}}return{value:void 0,done:!0}}}}makeServerError(t,e){let i;t?i=`CLIENT ESCALATED SERVER ERROR (${this.statusCode} ${this.statusMessage}; ${t})`:(t=`${this.statusCode} ${this.statusMessage}`,i=`CLIENT ESCALATED SERVER ERROR (${t})`);const o=new Qu(599,i,this.headers,this.body,p(this,As)||void 0);return w(o,vr,{message:t,error:e}),o}throwThrottleError(t,e){e==null?e=-1:P(Number.isInteger(e)&&e>=0,"invalid stall timeout","stall",e);const i=new Error(t||"throttling requests");throw st(i,{stall:e,throttle:!0}),i}getHeader(t){return this.headers[t.toLowerCase()]}hasBody(){return p(this,ze)!=null}get request(){return p(this,As)}ok(){return p(this,vr).message===""&&this.statusCode>=200&&this.statusCode<300}assertOk(){if(this.ok())return;let{message:t,error:e}=p(this,vr);t===""&&(t=`server response ${this.statusCode} ${this.statusMessage}`);let i=null;this.request&&(i=this.request.url);let o=null;try{p(this,ze)&&(o=oc(p(this,ze)))}catch{}N(!1,t,"SERVER_ERROR",{request:this.request||"unknown request",response:this,error:e,info:{requestUrl:i,responseBody:o,responseStatus:`${this.statusCode} ${this.statusMessage}`}})}};qo=new WeakMap,Xo=new WeakMap,$o=new WeakMap,ze=new WeakMap,As=new WeakMap,vr=new WeakMap;let Vi=Qu;function qh(){return new Date().getTime()}function Qg(r){return hi(r.replace(/%([0-9a-f][0-9a-f])/gi,(t,e)=>String.fromCharCode(parseInt(e,16))))}function Jg(r){return new Promise(t=>setTimeout(t,r))}const Kg=BigInt(-1),cn=BigInt(0),ls=BigInt(1),Wg=BigInt(5),ns={};let ps="0000";for(;ps.length<80;)ps+=ps;function nr(r){let t=ps;for(;t.length<r;)t+=t;return BigInt("1"+t.substring(0,r))}function Co(r,t,e){const i=BigInt(t.width);if(t.signed){const o=ls<<i-ls;N(e==null||r>=-o&&r<o,"overflow","NUMERIC_FAULT",{operation:e,fault:"overflow",value:r}),r>cn?r=sc(hr(r,i),i):r=-sc(hr(-r,i),i)}else{const o=ls<<i;N(e==null||r>=0&&r<o,"overflow","NUMERIC_FAULT",{operation:e,fault:"overflow",value:r}),r=(r%o+o)%o&o-ls}return r}function ml(r){typeof r=="number"&&(r=`fixed128x${r}`);let t=!0,e=128,i=18;if(typeof r=="string"){if(r!=="fixed")if(r==="ufixed")t=!1;else{const c=r.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);P(c,"invalid fixed format","format",r),t=c[1]!=="u",e=parseInt(c[2]),i=parseInt(c[3])}}else if(r){const c=r,l=(h,f,m)=>c[h]==null?m:(P(typeof c[h]===f,"invalid fixed format ("+h+" not "+f+")","format."+h,c[h]),c[h]);t=l("signed","boolean",t),e=l("width","number",e),i=l("decimals","number",i)}P(e%8===0,"invalid FixedNumber width (not byte aligned)","format.width",e),P(i<=80,"invalid FixedNumber decimals (too large)","format.decimals",i);const o=(t?"":"u")+"fixed"+String(e)+"x"+String(i);return{signed:t,width:e,decimals:i,name:o}}function jg(r,t){let e="";r<cn&&(e="-",r*=Kg);let i=r.toString();if(t===0)return e+i;for(;i.length<=t;)i=ps+i;const o=i.length-t;for(i=i.substring(0,o)+"."+i.substring(o);i[0]==="0"&&i[1]!==".";)i=i.substring(1);for(;i[i.length-1]==="0"&&i[i.length-2]!==".";)i=i.substring(0,i.length-1);return e+i}var dn,Ft,ve,St,rr,Wn,zl,Hl,Gl,Zl;const Ti=class Ti{constructor(t,e,i){B(this,St);k(this,"format");B(this,dn);B(this,Ft);B(this,ve);k(this,"_value");la(t,ns,"FixedNumber"),w(this,Ft,e),w(this,dn,i);const o=jg(e,i.decimals);st(this,{format:i.name,_value:o}),w(this,ve,nr(i.decimals))}get signed(){return p(this,dn).signed}get width(){return p(this,dn).width}get decimals(){return p(this,dn).decimals}get value(){return p(this,Ft)}addUnsafe(t){return R(this,St,zl).call(this,t)}add(t){return R(this,St,zl).call(this,t,"add")}subUnsafe(t){return R(this,St,Hl).call(this,t)}sub(t){return R(this,St,Hl).call(this,t,"sub")}mulUnsafe(t){return R(this,St,Gl).call(this,t)}mul(t){return R(this,St,Gl).call(this,t,"mul")}mulSignal(t){R(this,St,rr).call(this,t);const e=p(this,Ft)*p(t,Ft);return N(e%p(this,ve)===cn,"precision lost during signalling mul","NUMERIC_FAULT",{operation:"mulSignal",fault:"underflow",value:this}),R(this,St,Wn).call(this,e/p(this,ve),"mulSignal")}divUnsafe(t){return R(this,St,Zl).call(this,t)}div(t){return R(this,St,Zl).call(this,t,"div")}divSignal(t){N(p(t,Ft)!==cn,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),R(this,St,rr).call(this,t);const e=p(this,Ft)*p(this,ve);return N(e%p(t,Ft)===cn,"precision lost during signalling div","NUMERIC_FAULT",{operation:"divSignal",fault:"underflow",value:this}),R(this,St,Wn).call(this,e/p(t,Ft),"divSignal")}cmp(t){let e=this.value,i=t.value;const o=this.decimals-t.decimals;return o>0?i*=nr(o):o<0&&(e*=nr(-o)),e<i?-1:e>i?1:0}eq(t){return this.cmp(t)===0}lt(t){return this.cmp(t)<0}lte(t){return this.cmp(t)<=0}gt(t){return this.cmp(t)>0}gte(t){return this.cmp(t)>=0}floor(){let t=p(this,Ft);return p(this,Ft)<cn&&(t-=p(this,ve)-ls),t=p(this,Ft)/p(this,ve)*p(this,ve),R(this,St,Wn).call(this,t,"floor")}ceiling(){let t=p(this,Ft);return p(this,Ft)>cn&&(t+=p(this,ve)-ls),t=p(this,Ft)/p(this,ve)*p(this,ve),R(this,St,Wn).call(this,t,"ceiling")}round(t){if(t==null&&(t=0),t>=this.decimals)return this;const e=this.decimals-t,i=Wg*nr(e-1);let o=this.value+i;const c=nr(e);return o=o/c*c,Co(o,p(this,dn),"round"),new Ti(ns,o,p(this,dn))}isZero(){return p(this,Ft)===cn}isNegative(){return p(this,Ft)<cn}toString(){return this._value}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(t){return Ti.fromString(this.toString(),t)}static fromValue(t,e,i){const o=e==null?0:_t(e),c=ml(i);let l=j(t,"value");const h=o-c.decimals;if(h>0){const f=nr(h);N(l%f===cn,"value loses precision for format","NUMERIC_FAULT",{operation:"fromValue",fault:"underflow",value:t}),l/=f}else h<0&&(l*=nr(-h));return Co(l,c,"fromValue"),new Ti(ns,l,c)}static fromString(t,e){const i=t.match(/^(-?)([0-9]*)\.?([0-9]*)$/);P(i&&i[2].length+i[3].length>0,"invalid FixedNumber string value","value",t);const o=ml(e);let c=i[2]||"0",l=i[3]||"";for(;l.length<o.decimals;)l+=ps;N(l.substring(o.decimals).match(/^0*$/),"too many decimals for format","NUMERIC_FAULT",{operation:"fromString",fault:"underflow",value:t}),l=l.substring(0,o.decimals);const h=BigInt(i[1]+c+l);return Co(h,o,"fromString"),new Ti(ns,h,o)}static fromBytes(t,e){let i=Lc(yt(t,"value"));const o=ml(e);return o.signed&&(i=sc(i,o.width)),Co(i,o,"fromBytes"),new Ti(ns,i,o)}};dn=new WeakMap,Ft=new WeakMap,ve=new WeakMap,St=new WeakSet,rr=function(t){P(this.format===t.format,"incompatible format; use fixedNumber.toFormat","other",t)},Wn=function(t,e){return t=Co(t,p(this,dn),e),new Ti(ns,t,p(this,dn))},zl=function(t,e){return R(this,St,rr).call(this,t),R(this,St,Wn).call(this,p(this,Ft)+p(t,Ft),e)},Hl=function(t,e){return R(this,St,rr).call(this,t),R(this,St,Wn).call(this,p(this,Ft)-p(t,Ft),e)},Gl=function(t,e){return R(this,St,rr).call(this,t),R(this,St,Wn).call(this,p(this,Ft)*p(t,Ft)/p(this,ve),e)},Zl=function(t,e){return N(p(t,Ft)!==cn,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),R(this,St,rr).call(this,t),R(this,St,Wn).call(this,p(this,Ft)*p(this,ve)/p(t,Ft),e)};let Ul=Ti;function Yg(r){let t=r.toString(16);for(;t.length<2;)t="0"+t;return"0x"+t}function Xh(r,t,e){let i=0;for(let o=0;o<e;o++)i=i*256+r[t+o];return i}function $h(r,t,e,i){const o=[];for(;e<t+1+i;){const c=vd(r,e);o.push(c.result),e+=c.consumed,N(e<=t+1+i,"child data too short","BUFFER_OVERRUN",{buffer:r,length:i,offset:t})}return{consumed:1+i,result:o}}function vd(r,t){N(r.length!==0,"data too short","BUFFER_OVERRUN",{buffer:r,length:0,offset:1});const e=i=>{N(i<=r.length,"data short segment too short","BUFFER_OVERRUN",{buffer:r,length:r.length,offset:i})};if(r[t]>=248){const i=r[t]-247;e(t+1+i);const o=Xh(r,t+1,i);return e(t+1+i+o),$h(r,t,t+1+i,i+o)}else if(r[t]>=192){const i=r[t]-192;return e(t+1+i),$h(r,t,t+1,i)}else if(r[t]>=184){const i=r[t]-183;e(t+1+i);const o=Xh(r,t+1,i);e(t+1+i+o);const c=Z(r.slice(t+1+i,t+1+i+o));return{consumed:1+i+o,result:c}}else if(r[t]>=128){const i=r[t]-128;e(t+1+i);const o=Z(r.slice(t+1,t+1+i));return{consumed:1+i,result:o}}return{consumed:1,result:Yg(r[t])}}function ua(r){const t=yt(r,"data"),e=vd(t,0);return P(e.consumed===t.length,"unexpected junk after rlp payload","data",r),e.result}function tf(r){const t=[];for(;r;)t.unshift(r&255),r>>=8;return t}function bd(r){if(Array.isArray(r)){let i=[];if(r.forEach(function(c){i=i.concat(bd(c))}),i.length<=55)return i.unshift(192+i.length),i;const o=tf(i.length);return o.unshift(247+o.length),o.concat(i)}const t=Array.prototype.slice.call(yt(r,"object"));if(t.length===1&&t[0]<=127)return t;if(t.length<=55)return t.unshift(128+t.length),t;const e=tf(t.length);return e.unshift(183+e.length),e.concat(t)}const ef="0123456789abcdef";function Wi(r){let t="0x";for(const e of bd(r))t+=ef[e>>4],t+=ef[e&15];return t}function qg(r,t){let e=18;return e=_t(t,"unit"),Ul.fromValue(r,e,{decimals:e,width:512}).toString()}function Xg(r){return qg(r,18)}const Ee=32,Vl=new Uint8Array(Ee),$g=["then"],Da={},Ad=new WeakMap;function or(r){return Ad.get(r)}function nf(r,t){Ad.set(r,t)}function ko(r,t){const e=new Error(`deferred error during ABI decoding triggered accessing ${r}`);throw e.error=t,e}function Ql(r,t,e){return r.indexOf(null)>=0?t.map((i,o)=>i instanceof ro?Ql(or(i),i,e):i):r.reduce((i,o,c)=>{let l=t.getValue(o);return o in i||(e&&l instanceof ro&&(l=Ql(or(l),l,e)),i[o]=l),i},{})}var xs;const us=class us extends Array{constructor(...e){const i=e[0];let o=e[1],c=(e[2]||[]).slice(),l=!0;i!==Da&&(o=e,c=[],l=!1);super(o.length);B(this,xs);o.forEach((m,_)=>{this[_]=m});const h=c.reduce((m,_)=>(typeof _=="string"&&m.set(_,(m.get(_)||0)+1),m),new Map);if(nf(this,Object.freeze(o.map((m,_)=>{const y=c[_];return y!=null&&h.get(y)===1?y:null}))),w(this,xs,[]),p(this,xs)==null&&p(this,xs),!l)return;Object.freeze(this);const f=new Proxy(this,{get:(m,_,y)=>{if(typeof _=="string"){if(_.match(/^[0-9]+$/)){const E=_t(_,"%index");if(E<0||E>=this.length)throw new RangeError("out of result range");const T=m[E];return T instanceof Error&&ko(`index ${E}`,T),T}if($g.indexOf(_)>=0)return Reflect.get(m,_,y);const b=m[_];if(b instanceof Function)return function(...E){return b.apply(this===y?m:this,E)};if(!(_ in m))return m.getValue.apply(this===y?m:this,[_])}return Reflect.get(m,_,y)}});return nf(f,or(this)),f}toArray(e){const i=[];return this.forEach((o,c)=>{o instanceof Error&&ko(`index ${c}`,o),e&&o instanceof us&&(o=o.toArray(e)),i.push(o)}),i}toObject(e){const i=or(this);return i.reduce((o,c,l)=>(N(c!=null,`value at index ${l} unnamed`,"UNSUPPORTED_OPERATION",{operation:"toObject()"}),Ql(i,this,e)),{})}slice(e,i){e==null&&(e=0),e<0&&(e+=this.length,e<0&&(e=0)),i==null&&(i=this.length),i<0&&(i+=this.length,i<0&&(i=0)),i>this.length&&(i=this.length);const o=or(this),c=[],l=[];for(let h=e;h<i;h++)c.push(this[h]),l.push(o[h]);return new us(Da,c,l)}filter(e,i){const o=or(this),c=[],l=[];for(let h=0;h<this.length;h++){const f=this[h];f instanceof Error&&ko(`index ${h}`,f),e.call(i,f,h,this)&&(c.push(f),l.push(o[h]))}return new us(Da,c,l)}map(e,i){const o=[];for(let c=0;c<this.length;c++){const l=this[c];l instanceof Error&&ko(`index ${c}`,l),o.push(e.call(i,l,c,this))}return o}getValue(e){const i=or(this).indexOf(e);if(i===-1)return;const o=this[i];return o instanceof Error&&ko(`property ${JSON.stringify(e)}`,o.error),o}static fromItems(e,i){return new us(Da,e,i)}};xs=new WeakMap;let ro=us;function rf(r){let t=re(r);return N(t.length<=Ee,"value out-of-bounds","BUFFER_OVERRUN",{buffer:t,length:Ee,offset:t.length}),t.length!==Ee&&(t=xe(jt([Vl.slice(t.length%Ee),t]))),t}class mi{constructor(t,e,i,o){k(this,"name");k(this,"type");k(this,"localName");k(this,"dynamic");st(this,{name:t,type:e,localName:i,dynamic:o},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(t,e){P(!1,t,this.localName,e)}}var ti,br,Es,Ka;class Jl{constructor(){B(this,Es);B(this,ti);B(this,br);w(this,ti,[]),w(this,br,0)}get data(){return jt(p(this,ti))}get length(){return p(this,br)}appendWriter(t){return R(this,Es,Ka).call(this,xe(t.data))}writeBytes(t){let e=xe(t);const i=e.length%Ee;return i&&(e=xe(jt([e,Vl.slice(i)]))),R(this,Es,Ka).call(this,e)}writeValue(t){return R(this,Es,Ka).call(this,rf(t))}writeUpdatableValue(){const t=p(this,ti).length;return p(this,ti).push(Vl),w(this,br,p(this,br)+Ee),e=>{p(this,ti)[t]=rf(e)}}}ti=new WeakMap,br=new WeakMap,Es=new WeakSet,Ka=function(t){return p(this,ti).push(t),w(this,br,p(this,br)+t.length),t.length};var ke,He,Ar,xr,ki,Gr,Wl,xd;const Ju=class Ju{constructor(t,e,i){B(this,Gr);k(this,"allowLoose");B(this,ke);B(this,He);B(this,Ar);B(this,xr);B(this,ki);st(this,{allowLoose:!!e}),w(this,ke,xe(t)),w(this,Ar,0),w(this,xr,null),w(this,ki,i??1024),w(this,He,0)}get data(){return Z(p(this,ke))}get dataLength(){return p(this,ke).length}get consumed(){return p(this,He)}get bytes(){return new Uint8Array(p(this,ke))}subReader(t){const e=new Ju(p(this,ke).slice(p(this,He)+t),this.allowLoose,p(this,ki));return w(e,xr,this),e}readBytes(t,e){let i=R(this,Gr,xd).call(this,0,t,!!e);return R(this,Gr,Wl).call(this,t),w(this,He,p(this,He)+i.length),i.slice(0,t)}readValue(){return Lc(this.readBytes(Ee))}readIndex(){return Bg(this.readBytes(Ee))}};ke=new WeakMap,He=new WeakMap,Ar=new WeakMap,xr=new WeakMap,ki=new WeakMap,Gr=new WeakSet,Wl=function(t){var e;if(p(this,xr))return R(e=p(this,xr),Gr,Wl).call(e,t);w(this,Ar,p(this,Ar)+t),N(p(this,ki)<1||p(this,Ar)<=p(this,ki)*this.dataLength,`compressed ABI data exceeds inflation ratio of ${p(this,ki)} ( see: https://github.com/ethers-io/ethers.js/issues/4537 )`,"BUFFER_OVERRUN",{buffer:xe(p(this,ke)),offset:p(this,He),length:t,info:{bytesRead:p(this,Ar),dataLength:this.dataLength}})},xd=function(t,e,i){let o=Math.ceil(e/Ee)*Ee;return p(this,He)+o>p(this,ke).length&&(this.allowLoose&&i&&p(this,He)+e<=p(this,ke).length?o=e:N(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:xe(p(this,ke)),length:p(this,ke).length,offset:p(this,He)+o})),p(this,ke).slice(p(this,He),p(this,He)+o)};let Kl=Ju;function ac(r){if(!Number.isSafeInteger(r)||r<0)throw new Error(`Wrong positive integer: ${r}`)}function Pu(r,...t){if(!(r instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(r.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${r.length}`)}function ty(r){if(typeof r!="function"||typeof r.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");ac(r.outputLen),ac(r.blockLen)}function so(r,t=!0){if(r.destroyed)throw new Error("Hash instance has been destroyed");if(t&&r.finished)throw new Error("Hash#digest() has already been called")}function Ed(r,t){Pu(r);const e=t.outputLen;if(r.length<e)throw new Error(`digestInto() expects output buffer of length at least ${e}`)}const gl=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Pd=r=>r instanceof Uint8Array,ey=r=>new Uint32Array(r.buffer,r.byteOffset,Math.floor(r.byteLength/4)),yl=r=>new DataView(r.buffer,r.byteOffset,r.byteLength),Pn=(r,t)=>r<<32-t|r>>>t,ny=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!ny)throw new Error("Non little-endian hardware is not supported");function iy(r){if(typeof r!="string")throw new Error(`utf8ToBytes expected string, got ${typeof r}`);return new Uint8Array(new TextEncoder().encode(r))}function Cc(r){if(typeof r=="string"&&(r=iy(r)),!Pd(r))throw new Error(`expected Uint8Array, got ${typeof r}`);return r}function ry(...r){const t=new Uint8Array(r.reduce((i,o)=>i+o.length,0));let e=0;return r.forEach(i=>{if(!Pd(i))throw new Error("Uint8Array expected");t.set(i,e),e+=i.length}),t}class Tu{clone(){return this._cloneInto()}}function Lu(r){const t=i=>r().update(Cc(i)).digest(),e=r();return t.outputLen=e.outputLen,t.blockLen=e.blockLen,t.create=()=>r(),t}function sy(r=32){if(gl&&typeof gl.getRandomValues=="function")return gl.getRandomValues(new Uint8Array(r));throw new Error("crypto.getRandomValues must be defined")}class Td extends Tu{constructor(t,e){super(),this.finished=!1,this.destroyed=!1,ty(t);const i=Cc(e);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const o=this.blockLen,c=new Uint8Array(o);c.set(i.length>o?t.create().update(i).digest():i);for(let l=0;l<c.length;l++)c[l]^=54;this.iHash.update(c),this.oHash=t.create();for(let l=0;l<c.length;l++)c[l]^=106;this.oHash.update(c),c.fill(0)}update(t){return so(this),this.iHash.update(t),this}digestInto(t){so(this),Pu(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:e,iHash:i,finished:o,destroyed:c,blockLen:l,outputLen:h}=this;return t=t,t.finished=o,t.destroyed=c,t.blockLen=l,t.outputLen=h,t.oHash=e._cloneInto(t.oHash),t.iHash=i._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Ld=(r,t,e)=>new Td(r,t).update(e).digest();Ld.create=(r,t)=>new Td(r,t);function oy(r,t,e,i){if(typeof r.setBigUint64=="function")return r.setBigUint64(t,e,i);const o=BigInt(32),c=BigInt(4294967295),l=Number(e>>o&c),h=Number(e&c),f=i?4:0,m=i?0:4;r.setUint32(t+f,l,i),r.setUint32(t+m,h,i)}class Cd extends Tu{constructor(t,e,i,o){super(),this.blockLen=t,this.outputLen=e,this.padOffset=i,this.isLE=o,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=yl(this.buffer)}update(t){so(this);const{view:e,buffer:i,blockLen:o}=this;t=Cc(t);const c=t.length;for(let l=0;l<c;){const h=Math.min(o-this.pos,c-l);if(h===o){const f=yl(t);for(;o<=c-l;l+=o)this.process(f,l);continue}i.set(t.subarray(l,l+h),this.pos),this.pos+=h,l+=h,this.pos===o&&(this.process(e,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){so(this),Ed(t,this),this.finished=!0;const{buffer:e,view:i,blockLen:o,isLE:c}=this;let{pos:l}=this;e[l++]=128,this.buffer.subarray(l).fill(0),this.padOffset>o-l&&(this.process(i,0),l=0);for(let y=l;y<o;y++)e[y]=0;oy(i,o-8,BigInt(this.length*8),c),this.process(i,0);const h=yl(t),f=this.outputLen;if(f%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const m=f/4,_=this.get();if(m>_.length)throw new Error("_sha2: outputLen bigger than state");for(let y=0;y<m;y++)h.setUint32(4*y,_[y],c)}digest(){const{buffer:t,outputLen:e}=this;this.digestInto(t);const i=t.slice(0,e);return this.destroy(),i}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:e,buffer:i,length:o,finished:c,destroyed:l,pos:h}=this;return t.length=o,t.pos=h,t.finished=c,t.destroyed=l,o%e&&t.buffer.set(i),t}}const ay=(r,t,e)=>r&t^~r&e,cy=(r,t,e)=>r&t^r&e^t&e,ly=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),bi=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Ai=new Uint32Array(64);class uy extends Cd{constructor(){super(64,32,8,!1),this.A=bi[0]|0,this.B=bi[1]|0,this.C=bi[2]|0,this.D=bi[3]|0,this.E=bi[4]|0,this.F=bi[5]|0,this.G=bi[6]|0,this.H=bi[7]|0}get(){const{A:t,B:e,C:i,D:o,E:c,F:l,G:h,H:f}=this;return[t,e,i,o,c,l,h,f]}set(t,e,i,o,c,l,h,f){this.A=t|0,this.B=e|0,this.C=i|0,this.D=o|0,this.E=c|0,this.F=l|0,this.G=h|0,this.H=f|0}process(t,e){for(let y=0;y<16;y++,e+=4)Ai[y]=t.getUint32(e,!1);for(let y=16;y<64;y++){const b=Ai[y-15],E=Ai[y-2],T=Pn(b,7)^Pn(b,18)^b>>>3,x=Pn(E,17)^Pn(E,19)^E>>>10;Ai[y]=x+Ai[y-7]+T+Ai[y-16]|0}let{A:i,B:o,C:c,D:l,E:h,F:f,G:m,H:_}=this;for(let y=0;y<64;y++){const b=Pn(h,6)^Pn(h,11)^Pn(h,25),E=_+b+ay(h,f,m)+ly[y]+Ai[y]|0,x=(Pn(i,2)^Pn(i,13)^Pn(i,22))+cy(i,o,c)|0;_=m,m=f,f=h,h=l+E|0,l=c,c=o,o=i,i=E+x|0}i=i+this.A|0,o=o+this.B|0,c=c+this.C|0,l=l+this.D|0,h=h+this.E|0,f=f+this.F|0,m=m+this.G|0,_=_+this.H|0,this.set(i,o,c,l,h,f,m,_)}roundClean(){Ai.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const kd=Lu(()=>new uy),Ua=BigInt(2**32-1),jl=BigInt(32);function Id(r,t=!1){return t?{h:Number(r&Ua),l:Number(r>>jl&Ua)}:{h:Number(r>>jl&Ua)|0,l:Number(r&Ua)|0}}function Bd(r,t=!1){let e=new Uint32Array(r.length),i=new Uint32Array(r.length);for(let o=0;o<r.length;o++){const{h:c,l}=Id(r[o],t);[e[o],i[o]]=[c,l]}return[e,i]}const hy=(r,t)=>BigInt(r>>>0)<<jl|BigInt(t>>>0),fy=(r,t,e)=>r>>>e,dy=(r,t,e)=>r<<32-e|t>>>e,py=(r,t,e)=>r>>>e|t<<32-e,my=(r,t,e)=>r<<32-e|t>>>e,gy=(r,t,e)=>r<<64-e|t>>>e-32,yy=(r,t,e)=>r>>>e-32|t<<64-e,_y=(r,t)=>t,wy=(r,t)=>r,Od=(r,t,e)=>r<<e|t>>>32-e,Sd=(r,t,e)=>t<<e|r>>>32-e,Nd=(r,t,e)=>t<<e-32|r>>>64-e,Md=(r,t,e)=>r<<e-32|t>>>64-e;function vy(r,t,e,i){const o=(t>>>0)+(i>>>0);return{h:r+e+(o/2**32|0)|0,l:o|0}}const by=(r,t,e)=>(r>>>0)+(t>>>0)+(e>>>0),Ay=(r,t,e,i)=>t+e+i+(r/2**32|0)|0,xy=(r,t,e,i)=>(r>>>0)+(t>>>0)+(e>>>0)+(i>>>0),Ey=(r,t,e,i,o)=>t+e+i+o+(r/2**32|0)|0,Py=(r,t,e,i,o)=>(r>>>0)+(t>>>0)+(e>>>0)+(i>>>0)+(o>>>0),Ty=(r,t,e,i,o,c)=>t+e+i+o+c+(r/2**32|0)|0,gt={fromBig:Id,split:Bd,toBig:hy,shrSH:fy,shrSL:dy,rotrSH:py,rotrSL:my,rotrBH:gy,rotrBL:yy,rotr32H:_y,rotr32L:wy,rotlSH:Od,rotlSL:Sd,rotlBH:Nd,rotlBL:Md,add:vy,add3L:by,add3H:Ay,add4L:xy,add4H:Ey,add5H:Ty,add5L:Py},[Ly,Cy]=gt.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(r=>BigInt(r))),xi=new Uint32Array(80),Ei=new Uint32Array(80);class ky extends Cd{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:t,Al:e,Bh:i,Bl:o,Ch:c,Cl:l,Dh:h,Dl:f,Eh:m,El:_,Fh:y,Fl:b,Gh:E,Gl:T,Hh:x,Hl:O}=this;return[t,e,i,o,c,l,h,f,m,_,y,b,E,T,x,O]}set(t,e,i,o,c,l,h,f,m,_,y,b,E,T,x,O){this.Ah=t|0,this.Al=e|0,this.Bh=i|0,this.Bl=o|0,this.Ch=c|0,this.Cl=l|0,this.Dh=h|0,this.Dl=f|0,this.Eh=m|0,this.El=_|0,this.Fh=y|0,this.Fl=b|0,this.Gh=E|0,this.Gl=T|0,this.Hh=x|0,this.Hl=O|0}process(t,e){for(let F=0;F<16;F++,e+=4)xi[F]=t.getUint32(e),Ei[F]=t.getUint32(e+=4);for(let F=16;F<80;F++){const rt=xi[F-15]|0,K=Ei[F-15]|0,V=gt.rotrSH(rt,K,1)^gt.rotrSH(rt,K,8)^gt.shrSH(rt,K,7),et=gt.rotrSL(rt,K,1)^gt.rotrSL(rt,K,8)^gt.shrSL(rt,K,7),$=xi[F-2]|0,pt=Ei[F-2]|0,ut=gt.rotrSH($,pt,19)^gt.rotrBH($,pt,61)^gt.shrSH($,pt,6),it=gt.rotrSL($,pt,19)^gt.rotrBL($,pt,61)^gt.shrSL($,pt,6),ct=gt.add4L(et,it,Ei[F-7],Ei[F-16]),Ht=gt.add4H(ct,V,ut,xi[F-7],xi[F-16]);xi[F]=Ht|0,Ei[F]=ct|0}let{Ah:i,Al:o,Bh:c,Bl:l,Ch:h,Cl:f,Dh:m,Dl:_,Eh:y,El:b,Fh:E,Fl:T,Gh:x,Gl:O,Hh:A,Hl:G}=this;for(let F=0;F<80;F++){const rt=gt.rotrSH(y,b,14)^gt.rotrSH(y,b,18)^gt.rotrBH(y,b,41),K=gt.rotrSL(y,b,14)^gt.rotrSL(y,b,18)^gt.rotrBL(y,b,41),V=y&E^~y&x,et=b&T^~b&O,$=gt.add5L(G,K,et,Cy[F],Ei[F]),pt=gt.add5H($,A,rt,V,Ly[F],xi[F]),ut=$|0,it=gt.rotrSH(i,o,28)^gt.rotrBH(i,o,34)^gt.rotrBH(i,o,39),ct=gt.rotrSL(i,o,28)^gt.rotrBL(i,o,34)^gt.rotrBL(i,o,39),Ht=i&c^i&h^c&h,Bt=o&l^o&f^l&f;A=x|0,G=O|0,x=E|0,O=T|0,E=y|0,T=b|0,{h:y,l:b}=gt.add(m|0,_|0,pt|0,ut|0),m=h|0,_=f|0,h=c|0,f=l|0,c=i|0,l=o|0;const D=gt.add3L(ut,ct,Bt);i=gt.add3H(D,pt,it,Ht),o=D|0}({h:i,l:o}=gt.add(this.Ah|0,this.Al|0,i|0,o|0)),{h:c,l}=gt.add(this.Bh|0,this.Bl|0,c|0,l|0),{h,l:f}=gt.add(this.Ch|0,this.Cl|0,h|0,f|0),{h:m,l:_}=gt.add(this.Dh|0,this.Dl|0,m|0,_|0),{h:y,l:b}=gt.add(this.Eh|0,this.El|0,y|0,b|0),{h:E,l:T}=gt.add(this.Fh|0,this.Fl|0,E|0,T|0),{h:x,l:O}=gt.add(this.Gh|0,this.Gl|0,x|0,O|0),{h:A,l:G}=gt.add(this.Hh|0,this.Hl|0,A|0,G|0),this.set(i,o,c,l,h,f,m,_,y,b,E,T,x,O,A,G)}roundClean(){xi.fill(0),Ei.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const Iy=Lu(()=>new ky);function By(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}const sf=By();sf.crypto||sf.msCrypto;function Oy(r){switch(r){case"sha256":return kd.create();case"sha512":return Iy.create()}P(!1,"invalid hashing algorithm name","algorithm",r)}const[Rd,Fd,Dd]=[[],[],[]],Sy=BigInt(0),Io=BigInt(1),Ny=BigInt(2),My=BigInt(7),Ry=BigInt(256),Fy=BigInt(113);for(let r=0,t=Io,e=1,i=0;r<24;r++){[e,i]=[i,(2*e+3*i)%5],Rd.push(2*(5*i+e)),Fd.push((r+1)*(r+2)/2%64);let o=Sy;for(let c=0;c<7;c++)t=(t<<Io^(t>>My)*Fy)%Ry,t&Ny&&(o^=Io<<(Io<<BigInt(c))-Io);Dd.push(o)}const[Dy,Uy]=Bd(Dd,!0),of=(r,t,e)=>e>32?Nd(r,t,e):Od(r,t,e),af=(r,t,e)=>e>32?Md(r,t,e):Sd(r,t,e);function zy(r,t=24){const e=new Uint32Array(10);for(let i=24-t;i<24;i++){for(let l=0;l<10;l++)e[l]=r[l]^r[l+10]^r[l+20]^r[l+30]^r[l+40];for(let l=0;l<10;l+=2){const h=(l+8)%10,f=(l+2)%10,m=e[f],_=e[f+1],y=of(m,_,1)^e[h],b=af(m,_,1)^e[h+1];for(let E=0;E<50;E+=10)r[l+E]^=y,r[l+E+1]^=b}let o=r[2],c=r[3];for(let l=0;l<24;l++){const h=Fd[l],f=of(o,c,h),m=af(o,c,h),_=Rd[l];o=r[_],c=r[_+1],r[_]=f,r[_+1]=m}for(let l=0;l<50;l+=10){for(let h=0;h<10;h++)e[h]=r[l+h];for(let h=0;h<10;h++)r[l+h]^=~e[(h+2)%10]&e[(h+4)%10]}r[0]^=Dy[i],r[1]^=Uy[i]}e.fill(0)}class Cu extends Tu{constructor(t,e,i,o=!1,c=24){if(super(),this.blockLen=t,this.suffix=e,this.outputLen=i,this.enableXOF=o,this.rounds=c,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,ac(i),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=ey(this.state)}keccak(){zy(this.state32,this.rounds),this.posOut=0,this.pos=0}update(t){so(this);const{blockLen:e,state:i}=this;t=Cc(t);const o=t.length;for(let c=0;c<o;){const l=Math.min(e-this.pos,o-c);for(let h=0;h<l;h++)i[this.pos++]^=t[c++];this.pos===e&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:e,pos:i,blockLen:o}=this;t[i]^=e,(e&128)!==0&&i===o-1&&this.keccak(),t[o-1]^=128,this.keccak()}writeInto(t){so(this,!1),Pu(t),this.finish();const e=this.state,{blockLen:i}=this;for(let o=0,c=t.length;o<c;){this.posOut>=i&&this.keccak();const l=Math.min(i-this.posOut,c-o);t.set(e.subarray(this.posOut,this.posOut+l),o),this.posOut+=l,o+=l}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return ac(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(Ed(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){const{blockLen:e,suffix:i,outputLen:o,rounds:c,enableXOF:l}=this;return t||(t=new Cu(e,i,o,l,c)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=c,t.suffix=i,t.outputLen=o,t.enableXOF=l,t.destroyed=this.destroyed,t}}const Hy=(r,t,e)=>Lu(()=>new Cu(t,r,e)),Gy=Hy(1,136,256/8);let Ud=!1;const zd=function(r){return Gy(r)};let Hd=zd;function ne(r){const t=yt(r,"data");return Z(Hd(t))}ne._=zd;ne.lock=function(){Ud=!0};ne.register=function(r){if(Ud)throw new TypeError("keccak256 is locked");Hd=r};Object.freeze(ne);const Gd=function(r){return Oy("sha256").update(r).digest()};let Zd=Gd,Vd=!1;function fo(r){const t=yt(r,"data");return Z(Zd(t))}fo._=Gd;fo.lock=function(){Vd=!0};fo.register=function(r){if(Vd)throw new Error("sha256 is locked");Zd=r};Object.freeze(fo);Object.freeze(fo);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Qd=BigInt(0),kc=BigInt(1),Zy=BigInt(2),Ic=r=>r instanceof Uint8Array,Vy=Array.from({length:256},(r,t)=>t.toString(16).padStart(2,"0"));function oo(r){if(!Ic(r))throw new Error("Uint8Array expected");let t="";for(let e=0;e<r.length;e++)t+=Vy[r[e]];return t}function Jd(r){const t=r.toString(16);return t.length&1?`0${t}`:t}function ku(r){if(typeof r!="string")throw new Error("hex string expected, got "+typeof r);return BigInt(r===""?"0":`0x${r}`)}function ao(r){if(typeof r!="string")throw new Error("hex string expected, got "+typeof r);const t=r.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const e=new Uint8Array(t/2);for(let i=0;i<e.length;i++){const o=i*2,c=r.slice(o,o+2),l=Number.parseInt(c,16);if(Number.isNaN(l)||l<0)throw new Error("Invalid byte sequence");e[i]=l}return e}function Mr(r){return ku(oo(r))}function Iu(r){if(!Ic(r))throw new Error("Uint8Array expected");return ku(oo(Uint8Array.from(r).reverse()))}function co(r,t){return ao(r.toString(16).padStart(t*2,"0"))}function Bu(r,t){return co(r,t).reverse()}function Qy(r){return ao(Jd(r))}function un(r,t,e){let i;if(typeof t=="string")try{i=ao(t)}catch(c){throw new Error(`${r} must be valid hex string, got "${t}". Cause: ${c}`)}else if(Ic(t))i=Uint8Array.from(t);else throw new Error(`${r} must be hex string or Uint8Array`);const o=i.length;if(typeof e=="number"&&o!==e)throw new Error(`${r} expected ${e} bytes, got ${o}`);return i}function Uo(...r){const t=new Uint8Array(r.reduce((i,o)=>i+o.length,0));let e=0;return r.forEach(i=>{if(!Ic(i))throw new Error("Uint8Array expected");t.set(i,e),e+=i.length}),t}function Jy(r,t){if(r.length!==t.length)return!1;for(let e=0;e<r.length;e++)if(r[e]!==t[e])return!1;return!0}function Ky(r){if(typeof r!="string")throw new Error(`utf8ToBytes expected string, got ${typeof r}`);return new Uint8Array(new TextEncoder().encode(r))}function Wy(r){let t;for(t=0;r>Qd;r>>=kc,t+=1);return t}function jy(r,t){return r>>BigInt(t)&kc}const Yy=(r,t,e)=>r|(e?kc:Qd)<<BigInt(t),Ou=r=>(Zy<<BigInt(r-1))-kc,_l=r=>new Uint8Array(r),cf=r=>Uint8Array.from(r);function Kd(r,t,e){if(typeof r!="number"||r<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof e!="function")throw new Error("hmacFn must be a function");let i=_l(r),o=_l(r),c=0;const l=()=>{i.fill(1),o.fill(0),c=0},h=(...y)=>e(o,i,...y),f=(y=_l())=>{o=h(cf([0]),y),i=h(),y.length!==0&&(o=h(cf([1]),y),i=h())},m=()=>{if(c++>=1e3)throw new Error("drbg: tried 1000 values");let y=0;const b=[];for(;y<t;){i=h();const E=i.slice();b.push(E),y+=i.length}return Uo(...b)};return(y,b)=>{l(),f(y);let E;for(;!(E=b(m()));)f();return l(),E}}const qy={bigint:r=>typeof r=="bigint",function:r=>typeof r=="function",boolean:r=>typeof r=="boolean",string:r=>typeof r=="string",stringOrUint8Array:r=>typeof r=="string"||r instanceof Uint8Array,isSafeInteger:r=>Number.isSafeInteger(r),array:r=>Array.isArray(r),field:(r,t)=>t.Fp.isValid(r),hash:r=>typeof r=="function"&&Number.isSafeInteger(r.outputLen)};function ha(r,t,e={}){const i=(o,c,l)=>{const h=qy[c];if(typeof h!="function")throw new Error(`Invalid validator "${c}", expected function`);const f=r[o];if(!(l&&f===void 0)&&!h(f,r))throw new Error(`Invalid param ${String(o)}=${f} (${typeof f}), expected ${c}`)};for(const[o,c]of Object.entries(t))i(o,c,!1);for(const[o,c]of Object.entries(e))i(o,c,!0);return r}const Xy=Object.freeze(Object.defineProperty({__proto__:null,bitGet:jy,bitLen:Wy,bitMask:Ou,bitSet:Yy,bytesToHex:oo,bytesToNumberBE:Mr,bytesToNumberLE:Iu,concatBytes:Uo,createHmacDrbg:Kd,ensureBytes:un,equalBytes:Jy,hexToBytes:ao,hexToNumber:ku,numberToBytesBE:co,numberToBytesLE:Bu,numberToHexUnpadded:Jd,numberToVarBytesBE:Qy,utf8ToBytes:Ky,validateObject:ha},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ce=BigInt(0),Xt=BigInt(1),ar=BigInt(2),$y=BigInt(3),Yl=BigInt(4),lf=BigInt(5),uf=BigInt(8);BigInt(9);BigInt(16);function Be(r,t){const e=r%t;return e>=ce?e:t+e}function t0(r,t,e){if(e<=ce||t<ce)throw new Error("Expected power/modulo > 0");if(e===Xt)return ce;let i=Xt;for(;t>ce;)t&Xt&&(i=i*r%e),r=r*r%e,t>>=Xt;return i}function Ke(r,t,e){let i=r;for(;t-- >ce;)i*=i,i%=e;return i}function ql(r,t){if(r===ce||t<=ce)throw new Error(`invert: expected positive integers, got n=${r} mod=${t}`);let e=Be(r,t),i=t,o=ce,c=Xt;for(;e!==ce;){const h=i/e,f=i%e,m=o-c*h;i=e,e=f,o=c,c=m}if(i!==Xt)throw new Error("invert: does not exist");return Be(o,t)}function e0(r){const t=(r-Xt)/ar;let e,i,o;for(e=r-Xt,i=0;e%ar===ce;e/=ar,i++);for(o=ar;o<r&&t0(o,t,r)!==r-Xt;o++);if(i===1){const l=(r+Xt)/Yl;return function(f,m){const _=f.pow(m,l);if(!f.eql(f.sqr(_),m))throw new Error("Cannot find square root");return _}}const c=(e+Xt)/ar;return function(h,f){if(h.pow(f,t)===h.neg(h.ONE))throw new Error("Cannot find square root");let m=i,_=h.pow(h.mul(h.ONE,o),e),y=h.pow(f,c),b=h.pow(f,e);for(;!h.eql(b,h.ONE);){if(h.eql(b,h.ZERO))return h.ZERO;let E=1;for(let x=h.sqr(b);E<m&&!h.eql(x,h.ONE);E++)x=h.sqr(x);const T=h.pow(_,Xt<<BigInt(m-E-1));_=h.sqr(T),y=h.mul(y,T),b=h.mul(b,_),m=E}return y}}function n0(r){if(r%Yl===$y){const t=(r+Xt)/Yl;return function(i,o){const c=i.pow(o,t);if(!i.eql(i.sqr(c),o))throw new Error("Cannot find square root");return c}}if(r%uf===lf){const t=(r-lf)/uf;return function(i,o){const c=i.mul(o,ar),l=i.pow(c,t),h=i.mul(o,l),f=i.mul(i.mul(h,ar),l),m=i.mul(h,i.sub(f,i.ONE));if(!i.eql(i.sqr(m),o))throw new Error("Cannot find square root");return m}}return e0(r)}const i0=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function r0(r){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},e=i0.reduce((i,o)=>(i[o]="function",i),t);return ha(r,e)}function s0(r,t,e){if(e<ce)throw new Error("Expected power > 0");if(e===ce)return r.ONE;if(e===Xt)return t;let i=r.ONE,o=t;for(;e>ce;)e&Xt&&(i=r.mul(i,o)),o=r.sqr(o),e>>=Xt;return i}function o0(r,t){const e=new Array(t.length),i=t.reduce((c,l,h)=>r.is0(l)?c:(e[h]=c,r.mul(c,l)),r.ONE),o=r.inv(i);return t.reduceRight((c,l,h)=>r.is0(l)?c:(e[h]=r.mul(c,e[h]),r.mul(c,l)),o),e}function Wd(r,t){const e=t!==void 0?t:r.toString(2).length,i=Math.ceil(e/8);return{nBitLength:e,nByteLength:i}}function a0(r,t,e=!1,i={}){if(r<=ce)throw new Error(`Expected Field ORDER > 0, got ${r}`);const{nBitLength:o,nByteLength:c}=Wd(r,t);if(c>2048)throw new Error("Field lengths over 2048 bytes are not supported");const l=n0(r),h=Object.freeze({ORDER:r,BITS:o,BYTES:c,MASK:Ou(o),ZERO:ce,ONE:Xt,create:f=>Be(f,r),isValid:f=>{if(typeof f!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof f}`);return ce<=f&&f<r},is0:f=>f===ce,isOdd:f=>(f&Xt)===Xt,neg:f=>Be(-f,r),eql:(f,m)=>f===m,sqr:f=>Be(f*f,r),add:(f,m)=>Be(f+m,r),sub:(f,m)=>Be(f-m,r),mul:(f,m)=>Be(f*m,r),pow:(f,m)=>s0(h,f,m),div:(f,m)=>Be(f*ql(m,r),r),sqrN:f=>f*f,addN:(f,m)=>f+m,subN:(f,m)=>f-m,mulN:(f,m)=>f*m,inv:f=>ql(f,r),sqrt:i.sqrt||(f=>l(h,f)),invertBatch:f=>o0(h,f),cmov:(f,m,_)=>_?m:f,toBytes:f=>e?Bu(f,c):co(f,c),fromBytes:f=>{if(f.length!==c)throw new Error(`Fp.fromBytes: expected ${c}, got ${f.length}`);return e?Iu(f):Mr(f)}});return Object.freeze(h)}function jd(r){if(typeof r!="bigint")throw new Error("field order must be bigint");const t=r.toString(2).length;return Math.ceil(t/8)}function Yd(r){const t=jd(r);return t+Math.ceil(t/2)}function c0(r,t,e=!1){const i=r.length,o=jd(t),c=Yd(t);if(i<16||i<c||i>1024)throw new Error(`expected ${c}-1024 bytes of input, got ${i}`);const l=e?Mr(r):Iu(r),h=Be(l,t-Xt)+Xt;return e?Bu(h,o):co(h,o)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const l0=BigInt(0),wl=BigInt(1);function u0(r,t){const e=(o,c)=>{const l=c.negate();return o?l:c},i=o=>{const c=Math.ceil(t/o)+1,l=2**(o-1);return{windows:c,windowSize:l}};return{constTimeNegate:e,unsafeLadder(o,c){let l=r.ZERO,h=o;for(;c>l0;)c&wl&&(l=l.add(h)),h=h.double(),c>>=wl;return l},precomputeWindow(o,c){const{windows:l,windowSize:h}=i(c),f=[];let m=o,_=m;for(let y=0;y<l;y++){_=m,f.push(_);for(let b=1;b<h;b++)_=_.add(m),f.push(_);m=_.double()}return f},wNAF(o,c,l){const{windows:h,windowSize:f}=i(o);let m=r.ZERO,_=r.BASE;const y=BigInt(2**o-1),b=2**o,E=BigInt(o);for(let T=0;T<h;T++){const x=T*f;let O=Number(l&y);l>>=E,O>f&&(O-=b,l+=wl);const A=x,G=x+Math.abs(O)-1,F=T%2!==0,rt=O<0;O===0?_=_.add(e(F,c[A])):m=m.add(e(rt,c[G]))}return{p:m,f:_}},wNAFCached(o,c,l,h){const f=o._WINDOW_SIZE||1;let m=c.get(o);return m||(m=this.precomputeWindow(o,f),f!==1&&c.set(o,h(m))),this.wNAF(f,m,l)}}}function qd(r){return r0(r.Fp),ha(r,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Wd(r.n,r.nBitLength),...r,p:r.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function h0(r){const t=qd(r);ha(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:e,Fp:i,a:o}=t;if(e){if(!i.eql(o,i.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof e!="object"||typeof e.beta!="bigint"||typeof e.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}const{bytesToNumberBE:f0,hexToBytes:d0}=Xy,fr={Err:class extends Error{constructor(t=""){super(t)}},_parseInt(r){const{Err:t}=fr;if(r.length<2||r[0]!==2)throw new t("Invalid signature integer tag");const e=r[1],i=r.subarray(2,e+2);if(!e||i.length!==e)throw new t("Invalid signature integer: wrong length");if(i[0]&128)throw new t("Invalid signature integer: negative");if(i[0]===0&&!(i[1]&128))throw new t("Invalid signature integer: unnecessary leading zero");return{d:f0(i),l:r.subarray(e+2)}},toSig(r){const{Err:t}=fr,e=typeof r=="string"?d0(r):r;if(!(e instanceof Uint8Array))throw new Error("ui8a expected");let i=e.length;if(i<2||e[0]!=48)throw new t("Invalid signature tag");if(e[1]!==i-2)throw new t("Invalid signature: incorrect length");const{d:o,l:c}=fr._parseInt(e.subarray(2)),{d:l,l:h}=fr._parseInt(c);if(h.length)throw new t("Invalid signature: left bytes after parsing");return{r:o,s:l}},hexFromSig(r){const t=m=>Number.parseInt(m[0],16)&8?"00"+m:m,e=m=>{const _=m.toString(16);return _.length&1?`0${_}`:_},i=t(e(r.s)),o=t(e(r.r)),c=i.length/2,l=o.length/2,h=e(c),f=e(l);return`30${e(l+c+4)}02${f}${o}02${h}${i}`}},li=BigInt(0),tn=BigInt(1);BigInt(2);const hf=BigInt(3);BigInt(4);function p0(r){const t=h0(r),{Fp:e}=t,i=t.toBytes||((T,x,O)=>{const A=x.toAffine();return Uo(Uint8Array.from([4]),e.toBytes(A.x),e.toBytes(A.y))}),o=t.fromBytes||(T=>{const x=T.subarray(1),O=e.fromBytes(x.subarray(0,e.BYTES)),A=e.fromBytes(x.subarray(e.BYTES,2*e.BYTES));return{x:O,y:A}});function c(T){const{a:x,b:O}=t,A=e.sqr(T),G=e.mul(A,T);return e.add(e.add(G,e.mul(T,x)),O)}if(!e.eql(e.sqr(t.Gy),c(t.Gx)))throw new Error("bad generator point: equation left != right");function l(T){return typeof T=="bigint"&&li<T&&T<t.n}function h(T){if(!l(T))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function f(T){const{allowedPrivateKeyLengths:x,nByteLength:O,wrapPrivateKey:A,n:G}=t;if(x&&typeof T!="bigint"){if(T instanceof Uint8Array&&(T=oo(T)),typeof T!="string"||!x.includes(T.length))throw new Error("Invalid key");T=T.padStart(O*2,"0")}let F;try{F=typeof T=="bigint"?T:Mr(un("private key",T,O))}catch{throw new Error(`private key must be ${O} bytes, hex or bigint, not ${typeof T}`)}return A&&(F=Be(F,G)),h(F),F}const m=new Map;function _(T){if(!(T instanceof y))throw new Error("ProjectivePoint expected")}class y{constructor(x,O,A){if(this.px=x,this.py=O,this.pz=A,x==null||!e.isValid(x))throw new Error("x required");if(O==null||!e.isValid(O))throw new Error("y required");if(A==null||!e.isValid(A))throw new Error("z required")}static fromAffine(x){const{x:O,y:A}=x||{};if(!x||!e.isValid(O)||!e.isValid(A))throw new Error("invalid affine point");if(x instanceof y)throw new Error("projective point not allowed");const G=F=>e.eql(F,e.ZERO);return G(O)&&G(A)?y.ZERO:new y(O,A,e.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(x){const O=e.invertBatch(x.map(A=>A.pz));return x.map((A,G)=>A.toAffine(O[G])).map(y.fromAffine)}static fromHex(x){const O=y.fromAffine(o(un("pointHex",x)));return O.assertValidity(),O}static fromPrivateKey(x){return y.BASE.multiply(f(x))}_setWindowSize(x){this._WINDOW_SIZE=x,m.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint&&!e.is0(this.py))return;throw new Error("bad point: ZERO")}const{x,y:O}=this.toAffine();if(!e.isValid(x)||!e.isValid(O))throw new Error("bad point: x or y not FE");const A=e.sqr(O),G=c(x);if(!e.eql(A,G))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:x}=this.toAffine();if(e.isOdd)return!e.isOdd(x);throw new Error("Field doesn't support isOdd")}equals(x){_(x);const{px:O,py:A,pz:G}=this,{px:F,py:rt,pz:K}=x,V=e.eql(e.mul(O,K),e.mul(F,G)),et=e.eql(e.mul(A,K),e.mul(rt,G));return V&&et}negate(){return new y(this.px,e.neg(this.py),this.pz)}double(){const{a:x,b:O}=t,A=e.mul(O,hf),{px:G,py:F,pz:rt}=this;let K=e.ZERO,V=e.ZERO,et=e.ZERO,$=e.mul(G,G),pt=e.mul(F,F),ut=e.mul(rt,rt),it=e.mul(G,F);return it=e.add(it,it),et=e.mul(G,rt),et=e.add(et,et),K=e.mul(x,et),V=e.mul(A,ut),V=e.add(K,V),K=e.sub(pt,V),V=e.add(pt,V),V=e.mul(K,V),K=e.mul(it,K),et=e.mul(A,et),ut=e.mul(x,ut),it=e.sub($,ut),it=e.mul(x,it),it=e.add(it,et),et=e.add($,$),$=e.add(et,$),$=e.add($,ut),$=e.mul($,it),V=e.add(V,$),ut=e.mul(F,rt),ut=e.add(ut,ut),$=e.mul(ut,it),K=e.sub(K,$),et=e.mul(ut,pt),et=e.add(et,et),et=e.add(et,et),new y(K,V,et)}add(x){_(x);const{px:O,py:A,pz:G}=this,{px:F,py:rt,pz:K}=x;let V=e.ZERO,et=e.ZERO,$=e.ZERO;const pt=t.a,ut=e.mul(t.b,hf);let it=e.mul(O,F),ct=e.mul(A,rt),Ht=e.mul(G,K),Bt=e.add(O,A),D=e.add(F,rt);Bt=e.mul(Bt,D),D=e.add(it,ct),Bt=e.sub(Bt,D),D=e.add(O,G);let H=e.add(F,K);return D=e.mul(D,H),H=e.add(it,Ht),D=e.sub(D,H),H=e.add(A,G),V=e.add(rt,K),H=e.mul(H,V),V=e.add(ct,Ht),H=e.sub(H,V),$=e.mul(pt,D),V=e.mul(ut,Ht),$=e.add(V,$),V=e.sub(ct,$),$=e.add(ct,$),et=e.mul(V,$),ct=e.add(it,it),ct=e.add(ct,it),Ht=e.mul(pt,Ht),D=e.mul(ut,D),ct=e.add(ct,Ht),Ht=e.sub(it,Ht),Ht=e.mul(pt,Ht),D=e.add(D,Ht),it=e.mul(ct,D),et=e.add(et,it),it=e.mul(H,D),V=e.mul(Bt,V),V=e.sub(V,it),it=e.mul(Bt,ct),$=e.mul(H,$),$=e.add($,it),new y(V,et,$)}subtract(x){return this.add(x.negate())}is0(){return this.equals(y.ZERO)}wNAF(x){return E.wNAFCached(this,m,x,O=>{const A=e.invertBatch(O.map(G=>G.pz));return O.map((G,F)=>G.toAffine(A[F])).map(y.fromAffine)})}multiplyUnsafe(x){const O=y.ZERO;if(x===li)return O;if(h(x),x===tn)return this;const{endo:A}=t;if(!A)return E.unsafeLadder(this,x);let{k1neg:G,k1:F,k2neg:rt,k2:K}=A.splitScalar(x),V=O,et=O,$=this;for(;F>li||K>li;)F&tn&&(V=V.add($)),K&tn&&(et=et.add($)),$=$.double(),F>>=tn,K>>=tn;return G&&(V=V.negate()),rt&&(et=et.negate()),et=new y(e.mul(et.px,A.beta),et.py,et.pz),V.add(et)}multiply(x){h(x);let O=x,A,G;const{endo:F}=t;if(F){const{k1neg:rt,k1:K,k2neg:V,k2:et}=F.splitScalar(O);let{p:$,f:pt}=this.wNAF(K),{p:ut,f:it}=this.wNAF(et);$=E.constTimeNegate(rt,$),ut=E.constTimeNegate(V,ut),ut=new y(e.mul(ut.px,F.beta),ut.py,ut.pz),A=$.add(ut),G=pt.add(it)}else{const{p:rt,f:K}=this.wNAF(O);A=rt,G=K}return y.normalizeZ([A,G])[0]}multiplyAndAddUnsafe(x,O,A){const G=y.BASE,F=(K,V)=>V===li||V===tn||!K.equals(G)?K.multiplyUnsafe(V):K.multiply(V),rt=F(this,O).add(F(x,A));return rt.is0()?void 0:rt}toAffine(x){const{px:O,py:A,pz:G}=this,F=this.is0();x==null&&(x=F?e.ONE:e.inv(G));const rt=e.mul(O,x),K=e.mul(A,x),V=e.mul(G,x);if(F)return{x:e.ZERO,y:e.ZERO};if(!e.eql(V,e.ONE))throw new Error("invZ was invalid");return{x:rt,y:K}}isTorsionFree(){const{h:x,isTorsionFree:O}=t;if(x===tn)return!0;if(O)return O(y,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:x,clearCofactor:O}=t;return x===tn?this:O?O(y,this):this.multiplyUnsafe(t.h)}toRawBytes(x=!0){return this.assertValidity(),i(y,this,x)}toHex(x=!0){return oo(this.toRawBytes(x))}}y.BASE=new y(t.Gx,t.Gy,e.ONE),y.ZERO=new y(e.ZERO,e.ONE,e.ZERO);const b=t.nBitLength,E=u0(y,t.endo?Math.ceil(b/2):b);return{CURVE:t,ProjectivePoint:y,normPrivateKeyToScalar:f,weierstrassEquation:c,isWithinCurveOrder:l}}function m0(r){const t=qd(r);return ha(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function g0(r){const t=m0(r),{Fp:e,n:i}=t,o=e.BYTES+1,c=2*e.BYTES+1;function l(D){return li<D&&D<e.ORDER}function h(D){return Be(D,i)}function f(D){return ql(D,i)}const{ProjectivePoint:m,normPrivateKeyToScalar:_,weierstrassEquation:y,isWithinCurveOrder:b}=p0({...t,toBytes(D,H,lt){const Q=H.toAffine(),Lt=e.toBytes(Q.x),Y=Uo;return lt?Y(Uint8Array.from([H.hasEvenY()?2:3]),Lt):Y(Uint8Array.from([4]),Lt,e.toBytes(Q.y))},fromBytes(D){const H=D.length,lt=D[0],Q=D.subarray(1);if(H===o&&(lt===2||lt===3)){const Lt=Mr(Q);if(!l(Lt))throw new Error("Point is not on curve");const Y=y(Lt);let wt=e.sqrt(Y);const S=(wt&tn)===tn;return(lt&1)===1!==S&&(wt=e.neg(wt)),{x:Lt,y:wt}}else if(H===c&&lt===4){const Lt=e.fromBytes(Q.subarray(0,e.BYTES)),Y=e.fromBytes(Q.subarray(e.BYTES,2*e.BYTES));return{x:Lt,y:Y}}else throw new Error(`Point of length ${H} was invalid. Expected ${o} compressed bytes or ${c} uncompressed bytes`)}}),E=D=>oo(co(D,t.nByteLength));function T(D){const H=i>>tn;return D>H}function x(D){return T(D)?h(-D):D}const O=(D,H,lt)=>Mr(D.slice(H,lt));class A{constructor(H,lt,Q){this.r=H,this.s=lt,this.recovery=Q,this.assertValidity()}static fromCompact(H){const lt=t.nByteLength;return H=un("compactSignature",H,lt*2),new A(O(H,0,lt),O(H,lt,2*lt))}static fromDER(H){const{r:lt,s:Q}=fr.toSig(un("DER",H));return new A(lt,Q)}assertValidity(){if(!b(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!b(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(H){return new A(this.r,this.s,H)}recoverPublicKey(H){const{r:lt,s:Q,recovery:Lt}=this,Y=et(un("msgHash",H));if(Lt==null||![0,1,2,3].includes(Lt))throw new Error("recovery id invalid");const wt=Lt===2||Lt===3?lt+t.n:lt;if(wt>=e.ORDER)throw new Error("recovery id 2 or 3 invalid");const S=(Lt&1)===0?"02":"03",q=m.fromHex(S+E(wt)),z=f(wt),X=h(-Y*z),U=h(Q*z),xt=m.BASE.multiplyAndAddUnsafe(q,X,U);if(!xt)throw new Error("point at infinify");return xt.assertValidity(),xt}hasHighS(){return T(this.s)}normalizeS(){return this.hasHighS()?new A(this.r,h(-this.s),this.recovery):this}toDERRawBytes(){return ao(this.toDERHex())}toDERHex(){return fr.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return ao(this.toCompactHex())}toCompactHex(){return E(this.r)+E(this.s)}}const G={isValidPrivateKey(D){try{return _(D),!0}catch{return!1}},normPrivateKeyToScalar:_,randomPrivateKey:()=>{const D=Yd(t.n);return c0(t.randomBytes(D),t.n)},precompute(D=8,H=m.BASE){return H._setWindowSize(D),H.multiply(BigInt(3)),H}};function F(D,H=!0){return m.fromPrivateKey(D).toRawBytes(H)}function rt(D){const H=D instanceof Uint8Array,lt=typeof D=="string",Q=(H||lt)&&D.length;return H?Q===o||Q===c:lt?Q===2*o||Q===2*c:D instanceof m}function K(D,H,lt=!0){if(rt(D))throw new Error("first arg must be private key");if(!rt(H))throw new Error("second arg must be public key");return m.fromHex(H).multiply(_(D)).toRawBytes(lt)}const V=t.bits2int||function(D){const H=Mr(D),lt=D.length*8-t.nBitLength;return lt>0?H>>BigInt(lt):H},et=t.bits2int_modN||function(D){return h(V(D))},$=Ou(t.nBitLength);function pt(D){if(typeof D!="bigint")throw new Error("bigint expected");if(!(li<=D&&D<$))throw new Error(`bigint expected < 2^${t.nBitLength}`);return co(D,t.nByteLength)}function ut(D,H,lt=it){if(["recovered","canonical"].some(Gt=>Gt in lt))throw new Error("sign() legacy options not supported");const{hash:Q,randomBytes:Lt}=t;let{lowS:Y,prehash:wt,extraEntropy:S}=lt;Y==null&&(Y=!0),D=un("msgHash",D),wt&&(D=un("prehashed msgHash",Q(D)));const q=et(D),z=_(H),X=[pt(z),pt(q)];if(S!=null){const Gt=S===!0?Lt(e.BYTES):S;X.push(un("extraEntropy",Gt))}const U=Uo(...X),xt=q;function Mt(Gt){const Ot=V(Gt);if(!b(Ot))return;const Ct=f(Ot),dt=m.BASE.multiply(Ot).toAffine(),ht=h(dt.x);if(ht===li)return;const tt=h(Ct*h(xt+ht*z));if(tt===li)return;let vt=(dt.x===ht?0:2)|Number(dt.y&tn),Zt=tt;return Y&&T(tt)&&(Zt=x(tt),vt^=1),new A(ht,Zt,vt)}return{seed:U,k2sig:Mt}}const it={lowS:t.lowS,prehash:!1},ct={lowS:t.lowS,prehash:!1};function Ht(D,H,lt=it){const{seed:Q,k2sig:Lt}=ut(D,H,lt),Y=t;return Kd(Y.hash.outputLen,Y.nByteLength,Y.hmac)(Q,Lt)}m.BASE._setWindowSize(8);function Bt(D,H,lt,Q=ct){var dt;const Lt=D;if(H=un("msgHash",H),lt=un("publicKey",lt),"strict"in Q)throw new Error("options.strict was renamed to lowS");const{lowS:Y,prehash:wt}=Q;let S,q;try{if(typeof Lt=="string"||Lt instanceof Uint8Array)try{S=A.fromDER(Lt)}catch(ht){if(!(ht instanceof fr.Err))throw ht;S=A.fromCompact(Lt)}else if(typeof Lt=="object"&&typeof Lt.r=="bigint"&&typeof Lt.s=="bigint"){const{r:ht,s:tt}=Lt;S=new A(ht,tt)}else throw new Error("PARSE");q=m.fromHex(lt)}catch(ht){if(ht.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(Y&&S.hasHighS())return!1;wt&&(H=t.hash(H));const{r:z,s:X}=S,U=et(H),xt=f(X),Mt=h(U*xt),Gt=h(z*xt),Ot=(dt=m.BASE.multiplyAndAddUnsafe(q,Mt,Gt))==null?void 0:dt.toAffine();return Ot?h(Ot.x)===z:!1}return{CURVE:t,getPublicKey:F,getSharedSecret:K,sign:Ht,verify:Bt,ProjectivePoint:m,Signature:A,utils:G}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function y0(r){return{hash:r,hmac:(t,...e)=>Ld(r,t,ry(...e)),randomBytes:sy}}function _0(r,t){const e=i=>g0({...r,...y0(i)});return Object.freeze({...e(t),create:e})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Xd=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),ff=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),w0=BigInt(1),Xl=BigInt(2),df=(r,t)=>(r+t/Xl)/t;function v0(r){const t=Xd,e=BigInt(3),i=BigInt(6),o=BigInt(11),c=BigInt(22),l=BigInt(23),h=BigInt(44),f=BigInt(88),m=r*r*r%t,_=m*m*r%t,y=Ke(_,e,t)*_%t,b=Ke(y,e,t)*_%t,E=Ke(b,Xl,t)*m%t,T=Ke(E,o,t)*E%t,x=Ke(T,c,t)*T%t,O=Ke(x,h,t)*x%t,A=Ke(O,f,t)*O%t,G=Ke(A,h,t)*x%t,F=Ke(G,e,t)*_%t,rt=Ke(F,l,t)*T%t,K=Ke(rt,i,t)*m%t,V=Ke(K,Xl,t);if(!$l.eql($l.sqr(V),r))throw new Error("Cannot find square root");return V}const $l=a0(Xd,void 0,void 0,{sqrt:v0}),Pi=_0({a:BigInt(0),b:BigInt(7),Fp:$l,n:ff,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:r=>{const t=ff,e=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),i=-w0*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),o=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),c=e,l=BigInt("0x100000000000000000000000000000000"),h=df(c*r,t),f=df(-i*r,t);let m=Be(r-h*e-f*o,t),_=Be(-h*i-f*c,t);const y=m>l,b=_>l;if(y&&(m=t-m),b&&(_=t-_),m>l||_>l)throw new Error("splitScalar: Endomorphism failed, k="+r);return{k1neg:y,k1:m,k2neg:b,k2:_}}}},kd);BigInt(0);Pi.ProjectivePoint;const zo="0x0000000000000000000000000000000000000000",pf="0x0000000000000000000000000000000000000000000000000000000000000000",mf=BigInt(0),gf=BigInt(1),yf=BigInt(2),_f=BigInt(27),wf=BigInt(28),za=BigInt(35),is={};function vf(r){return di(re(r),32)}var Ps,Ts,Ls,Er;const ln=class ln{constructor(t,e,i,o){B(this,Ps);B(this,Ts);B(this,Ls);B(this,Er);la(t,is,"Signature"),w(this,Ps,e),w(this,Ts,i),w(this,Ls,o),w(this,Er,null)}get r(){return p(this,Ps)}set r(t){P(ds(t)===32,"invalid r","value",t),w(this,Ps,Z(t))}get s(){return p(this,Ts)}set s(t){P(ds(t)===32,"invalid s","value",t);const e=Z(t);P(parseInt(e.substring(0,3))<8,"non-canonical s","value",e),w(this,Ts,e)}get v(){return p(this,Ls)}set v(t){const e=_t(t,"value");P(e===27||e===28,"invalid v","v",t),w(this,Ls,e)}get networkV(){return p(this,Er)}get legacyChainId(){const t=this.networkV;return t==null?null:ln.getChainId(t)}get yParity(){return this.v===27?0:1}get yParityAndS(){const t=yt(this.s);return this.yParity&&(t[0]|=128),Z(t)}get compactSerialized(){return jt([this.r,this.yParityAndS])}get serialized(){return jt([this.r,this.s,this.yParity?"0x1c":"0x1b"])}[Symbol.for("nodejs.util.inspect.custom")](){return`Signature { r: "${this.r}", s: "${this.s}", yParity: ${this.yParity}, networkV: ${this.networkV} }`}clone(){const t=new ln(is,this.r,this.s,this.v);return this.networkV&&w(t,Er,this.networkV),t}toJSON(){const t=this.networkV;return{_type:"signature",networkV:t!=null?t.toString():null,r:this.r,s:this.s,v:this.v}}static getChainId(t){const e=j(t,"v");return e==_f||e==wf?mf:(P(e>=za,"invalid EIP-155 v","v",t),(e-za)/yf)}static getChainIdV(t,e){return j(t)*yf+BigInt(35+e-27)}static getNormalizedV(t){const e=j(t);return e===mf||e===_f?27:e===gf||e===wf?28:(P(e>=za,"invalid v","v",t),e&gf?27:28)}static from(t){function e(m,_){P(m,_,"signature",t)}if(t==null)return new ln(is,pf,pf,27);if(typeof t=="string"){const m=yt(t,"signature");if(m.length===64){const _=Z(m.slice(0,32)),y=m.slice(32,64),b=y[0]&128?28:27;return y[0]&=127,new ln(is,_,Z(y),b)}if(m.length===65){const _=Z(m.slice(0,32)),y=m.slice(32,64);e((y[0]&128)===0,"non-canonical s");const b=ln.getNormalizedV(m[64]);return new ln(is,_,Z(y),b)}e(!1,"invalid raw signature length")}if(t instanceof ln)return t.clone();const i=t.r;e(i!=null,"missing r");const o=vf(i),c=function(m,_){if(m!=null)return vf(m);if(_!=null){e(zt(_,32),"invalid yParityAndS");const y=yt(_);return y[0]&=127,Z(y)}e(!1,"missing s")}(t.s,t.yParityAndS);e((yt(c)[0]&128)==0,"non-canonical s");const{networkV:l,v:h}=function(m,_,y){if(m!=null){const b=j(m);return{networkV:b>=za?b:void 0,v:ln.getNormalizedV(b)}}if(_!=null)return e(zt(_,32),"invalid yParityAndS"),{v:yt(_)[0]&128?28:27};if(y!=null){switch(_t(y,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}e(!1,"invalid yParity")}e(!1,"missing v")}(t.v,t.yParityAndS,t.yParity),f=new ln(is,o,c,h);return l&&w(f,Er,l),e(t.yParity==null||_t(t.yParity,"sig.yParity")===f.yParity,"yParity mismatch"),e(t.yParityAndS==null||t.yParityAndS===f.yParityAndS,"yParityAndS mismatch"),f}};Ps=new WeakMap,Ts=new WeakMap,Ls=new WeakMap,Er=new WeakMap;let Se=ln;var ei;const cr=class cr{constructor(t){B(this,ei);P(ds(t)===32,"invalid private key","privateKey","[REDACTED]"),w(this,ei,Z(t))}get privateKey(){return p(this,ei)}get publicKey(){return cr.computePublicKey(p(this,ei))}get compressedPublicKey(){return cr.computePublicKey(p(this,ei),!0)}sign(t){P(ds(t)===32,"invalid digest length","digest",t);const e=Pi.sign(xe(t),xe(p(this,ei)),{lowS:!0});return Se.from({r:Ji(e.r,32),s:Ji(e.s,32),v:e.recovery?28:27})}computeSharedSecret(t){const e=cr.computePublicKey(t);return Z(Pi.getSharedSecret(xe(p(this,ei)),yt(e),!1))}static computePublicKey(t,e){let i=yt(t,"key");if(i.length===32){const c=Pi.getPublicKey(i,!!e);return Z(c)}if(i.length===64){const c=new Uint8Array(65);c[0]=4,c.set(i,1),i=c}const o=Pi.ProjectivePoint.fromHex(i);return Z(o.toRawBytes(e))}static recoverPublicKey(t,e){P(ds(t)===32,"invalid digest length","digest",t);const i=Se.from(e);let o=Pi.Signature.fromCompact(xe(jt([i.r,i.s])));o=o.addRecoveryBit(i.yParity);const c=o.recoverPublicKey(xe(t));return P(c!=null,"invalid signature for digest","signature",e),"0x"+c.toHex(!1)}static addPoints(t,e,i){const o=Pi.ProjectivePoint.fromHex(cr.computePublicKey(t).substring(2)),c=Pi.ProjectivePoint.fromHex(cr.computePublicKey(e).substring(2));return"0x"+o.add(c).toHex(!!i)}};ei=new WeakMap;let Ho=cr;const b0=BigInt(0),A0=BigInt(36);function bf(r){r=r.toLowerCase();const t=r.substring(2).split(""),e=new Uint8Array(40);for(let o=0;o<40;o++)e[o]=t[o].charCodeAt(0);const i=yt(ne(e));for(let o=0;o<40;o+=2)i[o>>1]>>4>=8&&(t[o]=t[o].toUpperCase()),(i[o>>1]&15)>=8&&(t[o+1]=t[o+1].toUpperCase());return"0x"+t.join("")}const Su={};for(let r=0;r<10;r++)Su[String(r)]=String(r);for(let r=0;r<26;r++)Su[String.fromCharCode(65+r)]=String(10+r);const Af=15;function x0(r){r=r.toUpperCase(),r=r.substring(4)+r.substring(0,2)+"00";let t=r.split("").map(i=>Su[i]).join("");for(;t.length>=Af;){let i=t.substring(0,Af);t=parseInt(i,10)%97+t.substring(i.length)}let e=String(98-parseInt(t,10)%97);for(;e.length<2;)e="0"+e;return e}const E0=function(){const r={};for(let t=0;t<36;t++){const e="0123456789abcdefghijklmnopqrstuvwxyz"[t];r[e]=BigInt(t)}return r}();function P0(r){r=r.toLowerCase();let t=b0;for(let e=0;e<r.length;e++)t=t*A0+E0[r[e]];return t}function Nt(r){if(P(typeof r=="string","invalid address","address",r),r.match(/^(0x)?[0-9a-fA-F]{40}$/)){r.startsWith("0x")||(r="0x"+r);const t=bf(r);return P(!r.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||t===r,"bad address checksum","address",r),t}if(r.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){P(r.substring(2,4)===x0(r),"bad icap checksum","address",r);let t=P0(r.substring(4)).toString(16);for(;t.length<40;)t="0"+t;return bf("0x"+t)}P(!1,"invalid address","address",r)}function T0(r){const t=Nt(r.from);let i=j(r.nonce,"tx.nonce").toString(16);return i==="0"?i="0x":i.length%2?i="0x0"+i:i="0x"+i,Nt(Wt(ne(Wi([t,i])),12))}function $d(r){return r&&typeof r.getAddress=="function"}async function vl(r,t){const e=await t;return(e==null||e==="0x0000000000000000000000000000000000000000")&&(N(typeof r!="string","unconfigured name","UNCONFIGURED_NAME",{value:r}),P(!1,"invalid AddressLike value; did not resolve to a value address","target",r)),Nt(e)}function Pe(r,t){if(typeof r=="string")return r.match(/^0x[0-9a-f]{40}$/i)?Nt(r):(N(t!=null,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),vl(r,t.resolveName(r)));if($d(r))return vl(r,r.getAddress());if(r&&typeof r.then=="function")return vl(r,r);P(!1,"unsupported addressable value","target",r)}const jn={};function W(r,t){let e=!1;return t<0&&(e=!0,t*=-1),new _e(jn,`${e?"":"u"}int${t}`,r,{signed:e,width:t})}function It(r,t){return new _e(jn,`bytes${t||""}`,r,{size:t})}const xf=Symbol.for("_ethers_typed");var Pr;const Yn=class Yn{constructor(t,e,i,o){k(this,"type");k(this,"value");B(this,Pr);k(this,"_typedSymbol");o==null&&(o=null),la(jn,t,"Typed"),st(this,{_typedSymbol:xf,type:e,value:i}),w(this,Pr,o),this.format()}format(){if(this.type==="array")throw new Error("");if(this.type==="dynamicArray")throw new Error("");return this.type==="tuple"?`tuple(${this.value.map(t=>t.format()).join(",")})`:this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return this.type==="string"}get tupleName(){if(this.type!=="tuple")throw TypeError("not a tuple");return p(this,Pr)}get arrayLength(){if(this.type!=="array")throw TypeError("not an array");return p(this,Pr)===!0?-1:p(this,Pr)===!1?this.value.length:null}static from(t,e){return new Yn(jn,t,e)}static uint8(t){return W(t,8)}static uint16(t){return W(t,16)}static uint24(t){return W(t,24)}static uint32(t){return W(t,32)}static uint40(t){return W(t,40)}static uint48(t){return W(t,48)}static uint56(t){return W(t,56)}static uint64(t){return W(t,64)}static uint72(t){return W(t,72)}static uint80(t){return W(t,80)}static uint88(t){return W(t,88)}static uint96(t){return W(t,96)}static uint104(t){return W(t,104)}static uint112(t){return W(t,112)}static uint120(t){return W(t,120)}static uint128(t){return W(t,128)}static uint136(t){return W(t,136)}static uint144(t){return W(t,144)}static uint152(t){return W(t,152)}static uint160(t){return W(t,160)}static uint168(t){return W(t,168)}static uint176(t){return W(t,176)}static uint184(t){return W(t,184)}static uint192(t){return W(t,192)}static uint200(t){return W(t,200)}static uint208(t){return W(t,208)}static uint216(t){return W(t,216)}static uint224(t){return W(t,224)}static uint232(t){return W(t,232)}static uint240(t){return W(t,240)}static uint248(t){return W(t,248)}static uint256(t){return W(t,256)}static uint(t){return W(t,256)}static int8(t){return W(t,-8)}static int16(t){return W(t,-16)}static int24(t){return W(t,-24)}static int32(t){return W(t,-32)}static int40(t){return W(t,-40)}static int48(t){return W(t,-48)}static int56(t){return W(t,-56)}static int64(t){return W(t,-64)}static int72(t){return W(t,-72)}static int80(t){return W(t,-80)}static int88(t){return W(t,-88)}static int96(t){return W(t,-96)}static int104(t){return W(t,-104)}static int112(t){return W(t,-112)}static int120(t){return W(t,-120)}static int128(t){return W(t,-128)}static int136(t){return W(t,-136)}static int144(t){return W(t,-144)}static int152(t){return W(t,-152)}static int160(t){return W(t,-160)}static int168(t){return W(t,-168)}static int176(t){return W(t,-176)}static int184(t){return W(t,-184)}static int192(t){return W(t,-192)}static int200(t){return W(t,-200)}static int208(t){return W(t,-208)}static int216(t){return W(t,-216)}static int224(t){return W(t,-224)}static int232(t){return W(t,-232)}static int240(t){return W(t,-240)}static int248(t){return W(t,-248)}static int256(t){return W(t,-256)}static int(t){return W(t,-256)}static bytes1(t){return It(t,1)}static bytes2(t){return It(t,2)}static bytes3(t){return It(t,3)}static bytes4(t){return It(t,4)}static bytes5(t){return It(t,5)}static bytes6(t){return It(t,6)}static bytes7(t){return It(t,7)}static bytes8(t){return It(t,8)}static bytes9(t){return It(t,9)}static bytes10(t){return It(t,10)}static bytes11(t){return It(t,11)}static bytes12(t){return It(t,12)}static bytes13(t){return It(t,13)}static bytes14(t){return It(t,14)}static bytes15(t){return It(t,15)}static bytes16(t){return It(t,16)}static bytes17(t){return It(t,17)}static bytes18(t){return It(t,18)}static bytes19(t){return It(t,19)}static bytes20(t){return It(t,20)}static bytes21(t){return It(t,21)}static bytes22(t){return It(t,22)}static bytes23(t){return It(t,23)}static bytes24(t){return It(t,24)}static bytes25(t){return It(t,25)}static bytes26(t){return It(t,26)}static bytes27(t){return It(t,27)}static bytes28(t){return It(t,28)}static bytes29(t){return It(t,29)}static bytes30(t){return It(t,30)}static bytes31(t){return It(t,31)}static bytes32(t){return It(t,32)}static address(t){return new Yn(jn,"address",t)}static bool(t){return new Yn(jn,"bool",!!t)}static bytes(t){return new Yn(jn,"bytes",t)}static string(t){return new Yn(jn,"string",t)}static array(t,e){throw new Error("not implemented yet")}static tuple(t,e){throw new Error("not implemented yet")}static overrides(t){return new Yn(jn,"overrides",Object.assign({},t))}static isTyped(t){return t&&typeof t=="object"&&"_typedSymbol"in t&&t._typedSymbol===xf}static dereference(t,e){if(Yn.isTyped(t)){if(t.type!==e)throw new Error(`invalid type: expecetd ${e}, got ${t.type}`);return t.value}return t}};Pr=new WeakMap;let _e=Yn;class L0 extends mi{constructor(t){super("address","address",t,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(t,e){let i=_e.dereference(e,"string");try{i=Nt(i)}catch(o){return this._throwError(o.message,e)}return t.writeValue(i)}decode(t){return Nt(Ji(t.readValue(),20))}}class C0 extends mi{constructor(e){super(e.name,e.type,"_",e.dynamic);k(this,"coder");this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,i){return this.coder.encode(e,i)}decode(e){return this.coder.decode(e)}}function tp(r,t,e){let i=[];if(Array.isArray(e))i=e;else if(e&&typeof e=="object"){let f={};i=t.map(m=>{const _=m.localName;return N(_,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:m},value:e}),N(!f[_],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:m},value:e}),f[_]=!0,e[_]})}else P(!1,"invalid tuple value","tuple",e);P(t.length===i.length,"types/value length mismatch","tuple",e);let o=new Jl,c=new Jl,l=[];t.forEach((f,m)=>{let _=i[m];if(f.dynamic){let y=c.length;f.encode(c,_);let b=o.writeUpdatableValue();l.push(E=>{b(E+y)})}else f.encode(o,_)}),l.forEach(f=>{f(o.length)});let h=r.appendWriter(o);return h+=r.appendWriter(c),h}function ep(r,t){let e=[],i=[],o=r.subReader(0);return t.forEach(c=>{let l=null;if(c.dynamic){let h=r.readIndex(),f=o.subReader(h);try{l=c.decode(f)}catch(m){if(de(m,"BUFFER_OVERRUN"))throw m;l=m,l.baseType=c.name,l.name=c.localName,l.type=c.type}}else try{l=c.decode(r)}catch(h){if(de(h,"BUFFER_OVERRUN"))throw h;l=h,l.baseType=c.name,l.name=c.localName,l.type=c.type}if(l==null)throw new Error("investigate");e.push(l),i.push(c.localName||null)}),ro.fromItems(e,i)}class k0 extends mi{constructor(e,i,o){const c=e.type+"["+(i>=0?i:"")+"]",l=i===-1||e.dynamic;super("array",c,o,l);k(this,"coder");k(this,"length");st(this,{coder:e,length:i})}defaultValue(){const e=this.coder.defaultValue(),i=[];for(let o=0;o<this.length;o++)i.push(e);return i}encode(e,i){const o=_e.dereference(i,"array");Array.isArray(o)||this._throwError("expected array value",o);let c=this.length;c===-1&&(c=o.length,e.writeValue(o.length)),ud(o.length,c,"coder array"+(this.localName?" "+this.localName:""));let l=[];for(let h=0;h<o.length;h++)l.push(this.coder);return tp(e,l,o)}decode(e){let i=this.length;i===-1&&(i=e.readIndex(),N(i*Ee<=e.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:e.bytes,offset:i*Ee,length:e.dataLength}));let o=[];for(let c=0;c<i;c++)o.push(new C0(this.coder));return ep(e,o)}}class I0 extends mi{constructor(t){super("bool","bool",t,!1)}defaultValue(){return!1}encode(t,e){const i=_e.dereference(e,"bool");return t.writeValue(i?1:0)}decode(t){return!!t.readValue()}}class np extends mi{constructor(t,e){super(t,t,e,!0)}defaultValue(){return"0x"}encode(t,e){e=xe(e);let i=t.writeValue(e.length);return i+=t.writeBytes(e),i}decode(t){return t.readBytes(t.readIndex(),!0)}}class B0 extends np{constructor(t){super("bytes",t)}decode(t){return Z(super.decode(t))}}class O0 extends mi{constructor(e,i){let o="bytes"+String(e);super(o,o,i,!1);k(this,"size");st(this,{size:e},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(e,i){let o=xe(_e.dereference(i,this.type));return o.length!==this.size&&this._throwError("incorrect data length",i),e.writeBytes(o)}decode(e){return Z(e.readBytes(this.size))}}const S0=new Uint8Array([]);class N0 extends mi{constructor(t){super("null","",t,!1)}defaultValue(){return null}encode(t,e){return e!=null&&this._throwError("not null",e),t.writeBytes(S0)}decode(t){return t.readBytes(0),null}}const M0=BigInt(0),R0=BigInt(1),F0=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class D0 extends mi{constructor(e,i,o){const c=(i?"int":"uint")+e*8;super(c,c,o,!1);k(this,"size");k(this,"signed");st(this,{size:e,signed:i},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(e,i){let o=j(_e.dereference(i,this.type)),c=hr(F0,Ee*8);if(this.signed){let l=hr(c,this.size*8-1);(o>l||o<-(l+R0))&&this._throwError("value out-of-bounds",i),o=dd(o,8*Ee)}else(o<M0||o>hr(c,this.size*8))&&this._throwError("value out-of-bounds",i);return e.writeValue(o)}decode(e){let i=hr(e.readValue(),this.size*8);return this.signed&&(i=sc(i,this.size*8)),i}}class U0 extends np{constructor(t){super("string",t)}defaultValue(){return""}encode(t,e){return super.encode(t,hi(_e.dereference(e,"string")))}decode(t){return oc(super.decode(t))}}class Ha extends mi{constructor(e,i){let o=!1;const c=[];e.forEach(h=>{h.dynamic&&(o=!0),c.push(h.type)});const l="tuple("+c.join(",")+")";super("tuple",l,i,o);k(this,"coders");st(this,{coders:Object.freeze(e.slice())})}defaultValue(){const e=[];this.coders.forEach(o=>{e.push(o.defaultValue())});const i=this.coders.reduce((o,c)=>{const l=c.localName;return l&&(o[l]||(o[l]=0),o[l]++),o},{});return this.coders.forEach((o,c)=>{let l=o.localName;!l||i[l]!==1||(l==="length"&&(l="_length"),e[l]==null&&(e[l]=e[c]))}),Object.freeze(e)}encode(e,i){const o=_e.dereference(i,"tuple");return tp(e,this.coders,o)}decode(e){return ep(e,this.coders)}}function bl(r,t){return{address:Nt(r),storageKeys:t.map((e,i)=>(P(zt(e,32),"invalid slot",`storageKeys[${i}]`,e),e.toLowerCase()))}}function Zr(r){if(Array.isArray(r))return r.map((e,i)=>Array.isArray(e)?(P(e.length===2,"invalid slot set",`value[${i}]`,e),bl(e[0],e[1])):(P(e!=null&&typeof e=="object","invalid address-slot set","value",r),bl(e.address,e.storageKeys)));P(r!=null&&typeof r=="object","invalid access list","value",r);const t=Object.keys(r).map(e=>{const i=r[e].reduce((o,c)=>(o[c]=!0,o),{});return bl(e,Object.keys(i).sort())});return t.sort((e,i)=>e.address.localeCompare(i.address)),t}function ip(r){return{address:Nt(r.address),nonce:j(r.nonce!=null?r.nonce:0),chainId:j(r.chainId!=null?r.chainId:0),signature:Se.from(r.signature)}}function z0(r){let t;return typeof r=="string"?t=Ho.computePublicKey(r,!1):t=r.publicKey,Nt(ne("0x"+t.substring(4)).substring(26))}function H0(r,t){return z0(Ho.recoverPublicKey(r,t))}const ae=BigInt(0),G0=BigInt(2),Z0=BigInt(27),V0=BigInt(28),Q0=BigInt(35),J0=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),Al=4096*32;function K0(r){return{blobToKzgCommitment:i=>{if("computeBlobProof"in r){if("blobToKzgCommitment"in r&&typeof r.blobToKzgCommitment=="function")return yt(r.blobToKzgCommitment(Z(i)))}else if("blobToKzgCommitment"in r&&typeof r.blobToKzgCommitment=="function")return yt(r.blobToKzgCommitment(i));if("blobToKZGCommitment"in r&&typeof r.blobToKZGCommitment=="function")return yt(r.blobToKZGCommitment(Z(i)));P(!1,"unsupported KZG library","kzg",r)},computeBlobKzgProof:(i,o)=>{if("computeBlobProof"in r&&typeof r.computeBlobProof=="function")return yt(r.computeBlobProof(Z(i),Z(o)));if("computeBlobKzgProof"in r&&typeof r.computeBlobKzgProof=="function")return r.computeBlobKzgProof(i,o);if("computeBlobKZGProof"in r&&typeof r.computeBlobKZGProof=="function")return yt(r.computeBlobKZGProof(Z(i),Z(o)));P(!1,"unsupported KZG library","kzg",r)}}}function Ef(r,t){let e=r.toString(16);for(;e.length<2;)e="0"+e;return e+=fo(t).substring(4),"0x"+e}function po(r){return r==="0x"?null:Nt(r)}function Bc(r,t){try{return Zr(r)}catch(e){P(!1,e.message,t,r)}}function W0(r,t){try{if(!Array.isArray(r))throw new Error("authorizationList: invalid array");const e=[];for(let i=0;i<r.length;i++){const o=r[i];if(!Array.isArray(o))throw new Error(`authorization[${i}]: invalid array`);if(o.length!==6)throw new Error(`authorization[${i}]: wrong length`);if(!o[1])throw new Error(`authorization[${i}]: null address`);e.push({address:po(o[1]),nonce:Dt(o[2],"nonce"),chainId:Dt(o[0],"chainId"),signature:Se.from({yParity:Vr(o[3],"yParity"),r:di(o[4],32),s:di(o[5],32)})})}return e}catch(e){P(!1,e.message,t,r)}}function Vr(r,t){return r==="0x"?0:_t(r,t)}function Dt(r,t){if(r==="0x")return ae;const e=j(r,t);return P(e<=J0,"value exceeds uint size",t,e),e}function Pt(r,t){const e=j(r,"value"),i=re(e);return P(i.length<=32,"value too large",`tx.${t}`,e),i}function Oc(r){return Zr(r).map(t=>[t.address,t.storageKeys])}function j0(r){return r.map(t=>[Pt(t.chainId,"chainId"),t.address,Pt(t.nonce,"nonce"),Pt(t.signature.yParity,"yParity"),re(t.signature.r),re(t.signature.s)])}function Y0(r,t){P(Array.isArray(r),`invalid ${t}`,"value",r);for(let e=0;e<r.length;e++)P(zt(r[e],32),"invalid ${ param } hash",`value[${e}]`,r[e]);return r}function q0(r){const t=ua(r);P(Array.isArray(t)&&(t.length===9||t.length===6),"invalid field count for legacy transaction","data",r);const e={type:0,nonce:Vr(t[0],"nonce"),gasPrice:Dt(t[1],"gasPrice"),gasLimit:Dt(t[2],"gasLimit"),to:po(t[3]),value:Dt(t[4],"value"),data:Z(t[5]),chainId:ae};if(t.length===6)return e;const i=Dt(t[6],"v"),o=Dt(t[7],"r"),c=Dt(t[8],"s");if(o===ae&&c===ae)e.chainId=i;else{let l=(i-Q0)/G0;l<ae&&(l=ae),e.chainId=l,P(l!==ae||i===Z0||i===V0,"non-canonical legacy v","v",t[6]),e.signature=Se.from({r:di(t[7],32),s:di(t[8],32),v:i})}return e}function X0(r,t){const e=[Pt(r.nonce,"nonce"),Pt(r.gasPrice||0,"gasPrice"),Pt(r.gasLimit,"gasLimit"),r.to||"0x",Pt(r.value,"value"),r.data];let i=ae;if(r.chainId!=ae)i=j(r.chainId,"tx.chainId"),P(!t||t.networkV==null||t.legacyChainId===i,"tx.chainId/sig.v mismatch","sig",t);else if(r.signature){const c=r.signature.legacyChainId;c!=null&&(i=c)}if(!t)return i!==ae&&(e.push(re(i)),e.push("0x"),e.push("0x")),Wi(e);let o=BigInt(27+t.yParity);return i!==ae?o=Se.getChainIdV(i,t.v):BigInt(t.v)!==o&&P(!1,"tx.chainId/sig.v mismatch","sig",t),e.push(re(o)),e.push(re(t.r)),e.push(re(t.s)),Wi(e)}function Sc(r,t){let e;try{if(e=Vr(t[0],"yParity"),e!==0&&e!==1)throw new Error("bad yParity")}catch{P(!1,"invalid yParity","yParity",t[0])}const i=di(t[1],32),o=di(t[2],32),c=Se.from({r:i,s:o,yParity:e});r.signature=c}function $0(r){const t=ua(yt(r).slice(1));P(Array.isArray(t)&&(t.length===9||t.length===12),"invalid field count for transaction type: 2","data",Z(r));const e={type:2,chainId:Dt(t[0],"chainId"),nonce:Vr(t[1],"nonce"),maxPriorityFeePerGas:Dt(t[2],"maxPriorityFeePerGas"),maxFeePerGas:Dt(t[3],"maxFeePerGas"),gasPrice:null,gasLimit:Dt(t[4],"gasLimit"),to:po(t[5]),value:Dt(t[6],"value"),data:Z(t[7]),accessList:Bc(t[8],"accessList")};return t.length===9||Sc(e,t.slice(9)),e}function t_(r,t){const e=[Pt(r.chainId,"chainId"),Pt(r.nonce,"nonce"),Pt(r.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Pt(r.maxFeePerGas||0,"maxFeePerGas"),Pt(r.gasLimit,"gasLimit"),r.to||"0x",Pt(r.value,"value"),r.data,Oc(r.accessList||[])];return t&&(e.push(Pt(t.yParity,"yParity")),e.push(re(t.r)),e.push(re(t.s))),jt(["0x02",Wi(e)])}function e_(r){const t=ua(yt(r).slice(1));P(Array.isArray(t)&&(t.length===8||t.length===11),"invalid field count for transaction type: 1","data",Z(r));const e={type:1,chainId:Dt(t[0],"chainId"),nonce:Vr(t[1],"nonce"),gasPrice:Dt(t[2],"gasPrice"),gasLimit:Dt(t[3],"gasLimit"),to:po(t[4]),value:Dt(t[5],"value"),data:Z(t[6]),accessList:Bc(t[7],"accessList")};return t.length===8||Sc(e,t.slice(8)),e}function n_(r,t){const e=[Pt(r.chainId,"chainId"),Pt(r.nonce,"nonce"),Pt(r.gasPrice||0,"gasPrice"),Pt(r.gasLimit,"gasLimit"),r.to||"0x",Pt(r.value,"value"),r.data,Oc(r.accessList||[])];return t&&(e.push(Pt(t.yParity,"recoveryParam")),e.push(re(t.r)),e.push(re(t.s))),jt(["0x01",Wi(e)])}function i_(r){let t=ua(yt(r).slice(1)),e="3",i=null;if(t.length===4&&Array.isArray(t[0])){e="3 (network format)";const c=t[1],l=t[2],h=t[3];P(Array.isArray(c),"invalid network format: blobs not an array","fields[1]",c),P(Array.isArray(l),"invalid network format: commitments not an array","fields[2]",l),P(Array.isArray(h),"invalid network format: proofs not an array","fields[3]",h),P(c.length===l.length,"invalid network format: blobs/commitments length mismatch","fields",t),P(c.length===h.length,"invalid network format: blobs/proofs length mismatch","fields",t),i=[];for(let f=0;f<t[1].length;f++)i.push({data:c[f],commitment:l[f],proof:h[f]});t=t[0]}P(Array.isArray(t)&&(t.length===11||t.length===14),`invalid field count for transaction type: ${e}`,"data",Z(r));const o={type:3,chainId:Dt(t[0],"chainId"),nonce:Vr(t[1],"nonce"),maxPriorityFeePerGas:Dt(t[2],"maxPriorityFeePerGas"),maxFeePerGas:Dt(t[3],"maxFeePerGas"),gasPrice:null,gasLimit:Dt(t[4],"gasLimit"),to:po(t[5]),value:Dt(t[6],"value"),data:Z(t[7]),accessList:Bc(t[8],"accessList"),maxFeePerBlobGas:Dt(t[9],"maxFeePerBlobGas"),blobVersionedHashes:t[10]};i&&(o.blobs=i),P(o.to!=null,`invalid address for transaction type: ${e}`,"data",r),P(Array.isArray(o.blobVersionedHashes),"invalid blobVersionedHashes: must be an array","data",r);for(let c=0;c<o.blobVersionedHashes.length;c++)P(zt(o.blobVersionedHashes[c],32),`invalid blobVersionedHash at index ${c}: must be length 32`,"data",r);return t.length===11||Sc(o,t.slice(11)),o}function r_(r,t,e){const i=[Pt(r.chainId,"chainId"),Pt(r.nonce,"nonce"),Pt(r.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Pt(r.maxFeePerGas||0,"maxFeePerGas"),Pt(r.gasLimit,"gasLimit"),r.to||zo,Pt(r.value,"value"),r.data,Oc(r.accessList||[]),Pt(r.maxFeePerBlobGas||0,"maxFeePerBlobGas"),Y0(r.blobVersionedHashes||[],"blobVersionedHashes")];return t&&(i.push(Pt(t.yParity,"yParity")),i.push(re(t.r)),i.push(re(t.s)),e)?jt(["0x03",Wi([i,e.map(o=>o.data),e.map(o=>o.commitment),e.map(o=>o.proof)])]):jt(["0x03",Wi(i)])}function s_(r){const t=ua(yt(r).slice(1));P(Array.isArray(t)&&(t.length===10||t.length===13),"invalid field count for transaction type: 4","data",Z(r));const e={type:4,chainId:Dt(t[0],"chainId"),nonce:Vr(t[1],"nonce"),maxPriorityFeePerGas:Dt(t[2],"maxPriorityFeePerGas"),maxFeePerGas:Dt(t[3],"maxFeePerGas"),gasPrice:null,gasLimit:Dt(t[4],"gasLimit"),to:po(t[5]),value:Dt(t[6],"value"),data:Z(t[7]),accessList:Bc(t[8],"accessList"),authorizationList:W0(t[9],"authorizationList")};return t.length===10||Sc(e,t.slice(10)),e}function o_(r,t){const e=[Pt(r.chainId,"chainId"),Pt(r.nonce,"nonce"),Pt(r.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Pt(r.maxFeePerGas||0,"maxFeePerGas"),Pt(r.gasLimit,"gasLimit"),r.to||"0x",Pt(r.value,"value"),r.data,Oc(r.accessList||[]),j0(r.authorizationList||[])];return t&&(e.push(Pt(t.yParity,"yParity")),e.push(re(t.r)),e.push(re(t.s))),jt(["0x04",Wi(e)])}var pn,Cs,ks,Is,Bs,Os,Ss,Ns,Ms,Rs,Fs,Ds,Tr,Ii,Cn,Bi,Us,zs,Wa;const Tn=class Tn{constructor(){B(this,zs);B(this,pn);B(this,Cs);B(this,ks);B(this,Is);B(this,Bs);B(this,Os);B(this,Ss);B(this,Ns);B(this,Ms);B(this,Rs);B(this,Fs);B(this,Ds);B(this,Tr);B(this,Ii);B(this,Cn);B(this,Bi);B(this,Us);w(this,pn,null),w(this,Cs,null),w(this,Is,0),w(this,Bs,ae),w(this,Os,null),w(this,Ss,null),w(this,Ns,null),w(this,ks,"0x"),w(this,Ms,ae),w(this,Rs,ae),w(this,Fs,null),w(this,Ds,null),w(this,Tr,null),w(this,Ii,null),w(this,Cn,null),w(this,Bi,null),w(this,Us,null)}get type(){return p(this,pn)}set type(t){switch(t){case null:w(this,pn,null);break;case 0:case"legacy":w(this,pn,0);break;case 1:case"berlin":case"eip-2930":w(this,pn,1);break;case 2:case"london":case"eip-1559":w(this,pn,2);break;case 3:case"cancun":case"eip-4844":w(this,pn,3);break;case 4:case"pectra":case"eip-7702":w(this,pn,4);break;default:P(!1,"unsupported transaction type","type",t)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559";case 3:return"eip-4844";case 4:return"eip-7702"}return null}get to(){const t=p(this,Cs);return t==null&&this.type===3?zo:t}set to(t){w(this,Cs,t==null?null:Nt(t))}get nonce(){return p(this,Is)}set nonce(t){w(this,Is,_t(t,"value"))}get gasLimit(){return p(this,Bs)}set gasLimit(t){w(this,Bs,j(t))}get gasPrice(){const t=p(this,Os);return t==null&&(this.type===0||this.type===1)?ae:t}set gasPrice(t){w(this,Os,t==null?null:j(t,"gasPrice"))}get maxPriorityFeePerGas(){const t=p(this,Ss);return t??(this.type===2||this.type===3?ae:null)}set maxPriorityFeePerGas(t){w(this,Ss,t==null?null:j(t,"maxPriorityFeePerGas"))}get maxFeePerGas(){const t=p(this,Ns);return t??(this.type===2||this.type===3?ae:null)}set maxFeePerGas(t){w(this,Ns,t==null?null:j(t,"maxFeePerGas"))}get data(){return p(this,ks)}set data(t){w(this,ks,Z(t))}get value(){return p(this,Ms)}set value(t){w(this,Ms,j(t,"value"))}get chainId(){return p(this,Rs)}set chainId(t){w(this,Rs,j(t))}get signature(){return p(this,Fs)||null}set signature(t){w(this,Fs,t==null?null:Se.from(t))}get accessList(){const t=p(this,Ds)||null;return t??(this.type===1||this.type===2||this.type===3?[]:null)}set accessList(t){w(this,Ds,t==null?null:Zr(t))}get authorizationList(){const t=p(this,Us)||null;return t==null&&this.type===4?[]:t}set authorizationList(t){w(this,Us,t==null?null:t.map(e=>ip(e)))}get maxFeePerBlobGas(){const t=p(this,Tr);return t==null&&this.type===3?ae:t}set maxFeePerBlobGas(t){w(this,Tr,t==null?null:j(t,"maxFeePerBlobGas"))}get blobVersionedHashes(){let t=p(this,Ii);return t==null&&this.type===3?[]:t}set blobVersionedHashes(t){if(t!=null){P(Array.isArray(t),"blobVersionedHashes must be an Array","value",t),t=t.slice();for(let e=0;e<t.length;e++)P(zt(t[e],32),"invalid blobVersionedHash",`value[${e}]`,t[e])}w(this,Ii,t)}get blobs(){return p(this,Bi)==null?null:p(this,Bi).map(t=>Object.assign({},t))}set blobs(t){if(t==null){w(this,Bi,null);return}const e=[],i=[];for(let o=0;o<t.length;o++){const c=t[o];if(Eu(c)){N(p(this,Cn),"adding a raw blob requires a KZG library","UNSUPPORTED_OPERATION",{operation:"set blobs()"});let l=yt(c);if(P(l.length<=Al,"blob is too large",`blobs[${o}]`,c),l.length!==Al){const m=new Uint8Array(Al);m.set(l),l=m}const h=p(this,Cn).blobToKzgCommitment(l),f=Z(p(this,Cn).computeBlobKzgProof(l,h));e.push({data:Z(l),commitment:Z(h),proof:f}),i.push(Ef(1,h))}else{const l=Z(c.commitment);e.push({data:Z(c.data),commitment:l,proof:Z(c.proof)}),i.push(Ef(1,l))}}w(this,Bi,e),w(this,Ii,i)}get kzg(){return p(this,Cn)}set kzg(t){t==null?w(this,Cn,null):w(this,Cn,K0(t))}get hash(){return this.signature==null?null:ne(R(this,zs,Wa).call(this,!0,!1))}get unsignedHash(){return ne(this.unsignedSerialized)}get from(){return this.signature==null?null:H0(this.unsignedHash,this.signature)}get fromPublicKey(){return this.signature==null?null:Ho.recoverPublicKey(this.unsignedHash,this.signature)}isSigned(){return this.signature!=null}get serialized(){return R(this,zs,Wa).call(this,!0,!0)}get unsignedSerialized(){return R(this,zs,Wa).call(this,!1,!1)}inferType(){const t=this.inferTypes();return t.indexOf(2)>=0?2:t.pop()}inferTypes(){const t=this.gasPrice!=null,e=this.maxFeePerGas!=null||this.maxPriorityFeePerGas!=null,i=this.accessList!=null,o=p(this,Tr)!=null||p(this,Ii);this.maxFeePerGas!=null&&this.maxPriorityFeePerGas!=null&&N(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),N(!e||this.type!==0&&this.type!==1,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),N(this.type!==0||!i,"legacy transaction cannot have accessList","BAD_DATA",{value:this});const c=[];return this.type!=null?c.push(this.type):this.authorizationList&&this.authorizationList.length?c.push(4):e?c.push(2):t?(c.push(1),i||c.push(0)):i?(c.push(1),c.push(2)):(o&&this.to||(c.push(0),c.push(1),c.push(2)),c.push(3)),c.sort(),c}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}clone(){return Tn.from(this)}toJSON(){const t=e=>e==null?null:e.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:t(this.gasLimit),gasPrice:t(this.gasPrice),maxPriorityFeePerGas:t(this.maxPriorityFeePerGas),maxFeePerGas:t(this.maxFeePerGas),value:t(this.value),chainId:t(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}static from(t){if(t==null)return new Tn;if(typeof t=="string"){const i=yt(t);if(i[0]>=127)return Tn.from(q0(i));switch(i[0]){case 1:return Tn.from(e_(i));case 2:return Tn.from($0(i));case 3:return Tn.from(i_(i));case 4:return Tn.from(s_(i))}N(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}const e=new Tn;return t.type!=null&&(e.type=t.type),t.to!=null&&(e.to=t.to),t.nonce!=null&&(e.nonce=t.nonce),t.gasLimit!=null&&(e.gasLimit=t.gasLimit),t.gasPrice!=null&&(e.gasPrice=t.gasPrice),t.maxPriorityFeePerGas!=null&&(e.maxPriorityFeePerGas=t.maxPriorityFeePerGas),t.maxFeePerGas!=null&&(e.maxFeePerGas=t.maxFeePerGas),t.maxFeePerBlobGas!=null&&(e.maxFeePerBlobGas=t.maxFeePerBlobGas),t.data!=null&&(e.data=t.data),t.value!=null&&(e.value=t.value),t.chainId!=null&&(e.chainId=t.chainId),t.signature!=null&&(e.signature=Se.from(t.signature)),t.accessList!=null&&(e.accessList=t.accessList),t.authorizationList!=null&&(e.authorizationList=t.authorizationList),t.blobVersionedHashes!=null&&(e.blobVersionedHashes=t.blobVersionedHashes),t.kzg!=null&&(e.kzg=t.kzg),t.blobs!=null&&(e.blobs=t.blobs),t.hash!=null&&(P(e.isSigned(),"unsigned transaction cannot define '.hash'","tx",t),P(e.hash===t.hash,"hash mismatch","tx",t)),t.from!=null&&(P(e.isSigned(),"unsigned transaction cannot define '.from'","tx",t),P(e.from.toLowerCase()===(t.from||"").toLowerCase(),"from mismatch","tx",t)),e}};pn=new WeakMap,Cs=new WeakMap,ks=new WeakMap,Is=new WeakMap,Bs=new WeakMap,Os=new WeakMap,Ss=new WeakMap,Ns=new WeakMap,Ms=new WeakMap,Rs=new WeakMap,Fs=new WeakMap,Ds=new WeakMap,Tr=new WeakMap,Ii=new WeakMap,Cn=new WeakMap,Bi=new WeakMap,Us=new WeakMap,zs=new WeakSet,Wa=function(t,e){N(!t||this.signature!=null,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"});const i=t?this.signature:null;switch(this.inferType()){case 0:return X0(this,i);case 1:return n_(this,i);case 2:return t_(this,i);case 3:return r_(this,i,e?this.blobs:null);case 4:return o_(this,i)}N(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})};let cc=Tn;function Dr(r){return ne(hi(r))}var a_="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";const Pf=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),Tf=4;function c_(r){let t=0;function e(){return r[t++]<<8|r[t++]}let i=e(),o=1,c=[0,1];for(let K=1;K<i;K++)c.push(o+=e());let l=e(),h=t;t+=l;let f=0,m=0;function _(){return f==0&&(m=m<<8|r[t++],f=8),m>>--f&1}const y=31,b=2**y,E=b>>>1,T=E>>1,x=b-1;let O=0;for(let K=0;K<y;K++)O=O<<1|_();let A=[],G=0,F=b;for(;;){let K=Math.floor(((O-G+1)*o-1)/F),V=0,et=i;for(;et-V>1;){let ut=V+et>>>1;K<c[ut]?et=ut:V=ut}if(V==0)break;A.push(V);let $=G+Math.floor(F*c[V]/o),pt=G+Math.floor(F*c[V+1]/o)-1;for(;(($^pt)&E)==0;)O=O<<1&x|_(),$=$<<1&x,pt=pt<<1&x|1;for(;$&~pt&T;)O=O&E|O<<1&x>>>1|_(),$=$<<1^E,pt=(pt^E)<<1|E|1;G=$,F=1+pt-$}let rt=i-4;return A.map(K=>{switch(K-rt){case 3:return rt+65792+(r[h++]<<16|r[h++]<<8|r[h++]);case 2:return rt+256+(r[h++]<<8|r[h++]);case 1:return rt+r[h++];default:return K-1}})}function l_(r){let t=0;return()=>r[t++]}function rp(r){return l_(c_(u_(r)))}function u_(r){let t=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((o,c)=>t[o.charCodeAt(0)]=c);let e=r.length,i=new Uint8Array(6*e>>3);for(let o=0,c=0,l=0,h=0;o<e;o++)h=h<<6|t[r.charCodeAt(o)],l+=6,l>=8&&(i[c++]=h>>(l-=8));return i}function h_(r){return r&1?~r>>1:r>>1}function f_(r,t){let e=Array(r);for(let i=0,o=0;i<r;i++)e[i]=o+=h_(t());return e}function Go(r,t=0){let e=[];for(;;){let i=r(),o=r();if(!o)break;t+=i;for(let c=0;c<o;c++)e.push(t+c);t+=o+1}return e}function sp(r){return Zo(()=>{let t=Go(r);if(t.length)return t})}function op(r){let t=[];for(;;){let e=r();if(e==0)break;t.push(d_(e,r))}for(;;){let e=r()-1;if(e<0)break;t.push(p_(e,r))}return t.flat()}function Zo(r){let t=[];for(;;){let e=r(t.length);if(!e)break;t.push(e)}return t}function ap(r,t,e){let i=Array(r).fill().map(()=>[]);for(let o=0;o<t;o++)f_(r,e).forEach((c,l)=>i[l].push(c));return i}function d_(r,t){let e=1+t(),i=t(),o=Zo(t);return ap(o.length,1+r,t).flatMap((l,h)=>{let[f,...m]=l;return Array(o[h]).fill().map((_,y)=>{let b=y*i;return[f+y*e,m.map(E=>E+b)]})})}function p_(r,t){let e=1+t();return ap(e,1+r,t).map(o=>[o[0],o.slice(1)])}function m_(r){let t=[],e=Go(r);return o(i([]),[]),t;function i(c){let l=r(),h=Zo(()=>{let f=Go(r).map(m=>e[m]);if(f.length)return i(f)});return{S:l,B:h,Q:c}}function o({S:c,B:l},h,f){if(!(c&4&&f===h[h.length-1])){c&2&&(f=h[h.length-1]),c&1&&t.push(h);for(let m of l)for(let _ of m.Q)o(m,[...h,_],f)}}}function g_(r){return r.toString(16).toUpperCase().padStart(2,"0")}function cp(r){return`{${g_(r)}}`}function y_(r){let t=[];for(let e=0,i=r.length;e<i;){let o=r.codePointAt(e);e+=o<65536?1:2,t.push(o)}return t}function lo(r){let e=r.length;if(e<4096)return String.fromCodePoint(...r);let i=[];for(let o=0;o<e;)i.push(String.fromCodePoint(...r.slice(o,o+=4096)));return i.join("")}function __(r,t){let e=r.length,i=e-t.length;for(let o=0;i==0&&o<e;o++)i=r[o]-t[o];return i}var w_="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";const Vo=44032,lc=4352,uc=4449,hc=4519,lp=19,up=21,uo=28,fc=up*uo,v_=lp*fc,b_=Vo+v_,A_=lc+lp,x_=uc+up,E_=hc+uo;function Oo(r){return r>>24&255}function hp(r){return r&16777215}let tu,Lf,eu,ja;function P_(){let r=rp(w_);tu=new Map(sp(r).flatMap((t,e)=>t.map(i=>[i,e+1<<24]))),Lf=new Set(Go(r)),eu=new Map,ja=new Map;for(let[t,e]of op(r)){if(!Lf.has(t)&&e.length==2){let[i,o]=e,c=ja.get(i);c||(c=new Map,ja.set(i,c)),c.set(o,t)}eu.set(t,e.reverse())}}function fp(r){return r>=Vo&&r<b_}function T_(r,t){if(r>=lc&&r<A_&&t>=uc&&t<x_)return Vo+(r-lc)*fc+(t-uc)*uo;if(fp(r)&&t>hc&&t<E_&&(r-Vo)%uo==0)return r+(t-hc);{let e=ja.get(r);return e&&(e=e.get(t),e)?e:-1}}function dp(r){tu||P_();let t=[],e=[],i=!1;function o(c){let l=tu.get(c);l&&(i=!0,c|=l),t.push(c)}for(let c of r)for(;;){if(c<128)t.push(c);else if(fp(c)){let l=c-Vo,h=l/fc|0,f=l%fc/uo|0,m=l%uo;o(lc+h),o(uc+f),m>0&&o(hc+m)}else{let l=eu.get(c);l?e.push(...l):o(c)}if(!e.length)break;c=e.pop()}if(i&&t.length>1){let c=Oo(t[0]);for(let l=1;l<t.length;l++){let h=Oo(t[l]);if(h==0||c<=h){c=h;continue}let f=l-1;for(;;){let m=t[f+1];if(t[f+1]=t[f],t[f]=m,!f||(c=Oo(t[--f]),c<=h))break}c=Oo(t[l])}}return t}function L_(r){let t=[],e=[],i=-1,o=0;for(let c of r){let l=Oo(c),h=hp(c);if(i==-1)l==0?i=h:t.push(h);else if(o>0&&o>=l)l==0?(t.push(i,...e),e.length=0,i=h):e.push(h),o=l;else{let f=T_(i,h);f>=0?i=f:o==0&&l==0?(t.push(i),i=h):(e.push(h),o=l)}}return i>=0&&t.push(i,...e),t}function pp(r){return dp(r).map(hp)}function C_(r){return L_(dp(r))}const Cf=45,mp=".",gp=65039,yp=1,dc=r=>Array.from(r);function Qo(r,t){return r.P.has(t)||r.Q.has(t)}class k_ extends Array{get is_emoji(){return!0}}let nu,_p,dr,iu,wp,ms,xl,ss,sr,kf,ru;function Nu(){if(nu)return;let r=rp(a_);const t=()=>Go(r),e=()=>new Set(t()),i=(_,y)=>y.forEach(b=>_.add(b));nu=new Map(op(r)),_p=e(),dr=t(),iu=new Set(t().map(_=>dr[_])),dr=new Set(dr),wp=e(),e();let o=sp(r),c=r();const l=()=>{let _=new Set;return t().forEach(y=>i(_,o[y])),i(_,t()),_};ms=Zo(_=>{let y=Zo(r).map(b=>b+96);if(y.length){let b=_>=c;y[0]-=32,y=lo(y),b&&(y=`Restricted[${y}]`);let E=l(),T=l(),x=!r();return{N:y,P:E,Q:T,M:x,R:b}}}),xl=e(),ss=new Map;let h=t().concat(dc(xl)).sort((_,y)=>_-y);h.forEach((_,y)=>{let b=r(),E=h[y]=b?h[y-b]:{V:[],M:new Map};E.V.push(_),xl.has(_)||ss.set(_,E)});for(let{V:_,M:y}of new Set(ss.values())){let b=[];for(let T of _){let x=ms.filter(A=>Qo(A,T)),O=b.find(({G:A})=>x.some(G=>A.has(G)));O||(O={G:new Set,V:[]},b.push(O)),O.V.push(T),i(O.G,x)}let E=b.flatMap(T=>dc(T.G));for(let{G:T,V:x}of b){let O=new Set(E.filter(A=>!T.has(A)));for(let A of x)y.set(A,O)}}sr=new Set;let f=new Set;const m=_=>sr.has(_)?f.add(_):sr.add(_);for(let _ of ms){for(let y of _.P)m(y);for(let y of _.Q)m(y)}for(let _ of sr)!ss.has(_)&&!f.has(_)&&ss.set(_,yp);i(sr,pp(sr)),kf=m_(r).map(_=>k_.from(_)).sort(__),ru=new Map;for(let _ of kf){let y=[ru];for(let b of _){let E=y.map(T=>{let x=T.get(b);return x||(x=new Map,T.set(b,x)),x});b===gp?y.push(...E):y=E}for(let b of y)b.V=_}}function Mu(r){return(vp(r)?"":`${Ru(Nc([r]))} `)+cp(r)}function Ru(r){return`"${r}"‎`}function I_(r){if(r.length>=4&&r[2]==Cf&&r[3]==Cf)throw new Error(`invalid label extension: "${lo(r.slice(0,4))}"`)}function B_(r){for(let e=r.lastIndexOf(95);e>0;)if(r[--e]!==95)throw new Error("underscore allowed only at start")}function O_(r){let t=r[0],e=Pf.get(t);if(e)throw Fo(`leading ${e}`);let i=r.length,o=-1;for(let c=1;c<i;c++){t=r[c];let l=Pf.get(t);if(l){if(o==c)throw Fo(`${e} + ${l}`);o=c+1,e=l}}if(o==i)throw Fo(`trailing ${e}`)}function Nc(r,t=1/0,e=cp){let i=[];S_(r[0])&&i.push("◌"),r.length>t&&(t>>=1,r=[...r.slice(0,t),8230,...r.slice(-t)]);let o=0,c=r.length;for(let l=0;l<c;l++){let h=r[l];vp(h)&&(i.push(lo(r.slice(o,l))),i.push(e(h)),o=l+1)}return i.push(lo(r.slice(o,c))),i.join("")}function S_(r){return Nu(),dr.has(r)}function vp(r){return Nu(),wp.has(r)}function N_(r){return D_(M_(r,C_,H_))}function M_(r,t,e){if(!r)return[];Nu();let i=0;return r.split(mp).map(o=>{let c=y_(o),l={input:c,offset:i};i+=c.length+1;try{let h=l.tokens=z_(c,t,e),f=h.length,m;if(!f)throw new Error("empty label");let _=l.output=h.flat();if(B_(_),!(l.emoji=f>1||h[0].is_emoji)&&_.every(b=>b<128))I_(_),m="ASCII";else{let b=h.flatMap(E=>E.is_emoji?[]:E);if(!b.length)m="Emoji";else{if(dr.has(_[0]))throw Fo("leading combining mark");for(let x=1;x<f;x++){let O=h[x];if(!O.is_emoji&&dr.has(O[0]))throw Fo(`emoji + combining mark: "${lo(h[x-1])} + ${Nc([O[0]])}"`)}O_(_);let E=dc(new Set(b)),[T]=F_(E);U_(T,b),R_(T,E),m=T.N}}l.type=m}catch(h){l.error=h}return l})}function R_(r,t){let e,i=[];for(let o of t){let c=ss.get(o);if(c===yp)return;if(c){let l=c.M.get(o);if(e=e?e.filter(h=>l.has(h)):dc(l),!e.length)return}else i.push(o)}if(e){for(let o of e)if(i.every(c=>Qo(o,c)))throw new Error(`whole-script confusable: ${r.N}/${o.N}`)}}function F_(r){let t=ms;for(let e of r){let i=t.filter(o=>Qo(o,e));if(!i.length)throw ms.some(o=>Qo(o,e))?Ap(t[0],e):bp(e);if(t=i,i.length==1)break}return t}function D_(r){return r.map(({input:t,error:e,output:i})=>{if(e){let o=e.message;throw new Error(r.length==1?o:`Invalid label ${Ru(Nc(t,63))}: ${o}`)}return lo(i)}).join(mp)}function bp(r){return new Error(`disallowed character: ${Mu(r)}`)}function Ap(r,t){let e=Mu(t),i=ms.find(o=>o.P.has(t));return i&&(e=`${i.N} ${e}`),new Error(`illegal mixture: ${r.N} + ${e}`)}function Fo(r){return new Error(`illegal placement: ${r}`)}function U_(r,t){for(let e of t)if(!Qo(r,e))throw Ap(r,e);if(r.M){let e=pp(t);for(let i=1,o=e.length;i<o;i++)if(iu.has(e[i])){let c=i+1;for(let l;c<o&&iu.has(l=e[c]);c++)for(let h=i;h<c;h++)if(e[h]==l)throw new Error(`duplicate non-spacing marks: ${Mu(l)}`);if(c-i>Tf)throw new Error(`excessive non-spacing marks: ${Ru(Nc(e.slice(i-1,c)))} (${c-i}/${Tf})`);i=c}}}function z_(r,t,e){let i=[],o=[];for(r=r.slice().reverse();r.length;){let c=G_(r);if(c)o.length&&(i.push(t(o)),o=[]),i.push(e(c));else{let l=r.pop();if(sr.has(l))o.push(l);else{let h=nu.get(l);if(h)o.push(...h);else if(!_p.has(l))throw bp(l)}}}return o.length&&i.push(t(o)),i}function H_(r){return r.filter(t=>t!=gp)}function G_(r,t){let e=ru,i,o=r.length;for(;o&&(e=e.get(r[--o]),!!e);){let{V:c}=e;c&&(i=c,r.length=o)}return i}const xp=new Uint8Array(32);xp.fill(0);function If(r){return P(r.length!==0,"invalid ENS name; empty component","comp",r),r}function Ep(r){const t=hi(Z_(r)),e=[];if(r.length===0)return e;let i=0;for(let o=0;o<t.length;o++)t[o]===46&&(e.push(If(t.slice(i,o))),i=o+1);return P(i<t.length,"invalid ENS name; empty component","name",r),e.push(If(t.slice(i))),e}function Z_(r){try{if(r.length===0)throw new Error("empty label");return N_(r)}catch(t){P(!1,`invalid ENS name (${t.message})`,"name",r)}}function su(r){P(typeof r=="string","invalid ENS name; not a string","name",r),P(r.length,"invalid ENS name (empty label)","name",r);let t=xp;const e=Ep(r);for(;e.length;)t=ne(jt([t,ne(e.pop())]));return Z(t)}function V_(r,t){const e=t;return P(e<=255,"DNS encoded label cannot exceed 255","length",e),Z(jt(Ep(r).map(i=>{P(i.length<=e,`label ${JSON.stringify(r)} exceeds ${e} bytes`,"name",r);const o=new Uint8Array(i.length+1);return o.set(i,1),o[0]=o.length-1,o})))+"00"}const Pp=new Uint8Array(32);Pp.fill(0);const Q_=BigInt(-1),Tp=BigInt(0),Lp=BigInt(1),J_=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function K_(r){const t=yt(r),e=t.length%32;return e?jt([t,Pp.slice(e)]):Z(t)}const W_=Ji(Lp,32),j_=Ji(Tp,32),Bf={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},El=["name","version","chainId","verifyingContract","salt"];function Of(r){return function(t){return P(typeof t=="string",`invalid domain value for ${JSON.stringify(r)}`,`domain.${r}`,t),t}}const Y_={name:Of("name"),version:Of("version"),chainId:function(r){const t=j(r,"domain.chainId");return P(t>=0,"invalid chain ID","domain.chainId",r),Number.isSafeInteger(t)?Number(t):yn(t)},verifyingContract:function(r){try{return Nt(r).toLowerCase()}catch{}P(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",r)},salt:function(r){const t=yt(r,"domain.salt");return P(t.length===32,'invalid domain value "salt"',"domain.salt",r),Z(t)}};function Pl(r){{const t=r.match(/^(u?)int(\d+)$/);if(t){const e=t[1]==="",i=parseInt(t[2]);P(i%8===0&&i!==0&&i<=256&&t[2]===String(i),"invalid numeric width","type",r);const o=hr(J_,e?i-1:i),c=e?(o+Lp)*Q_:Tp;return function(l){const h=j(l,"value");return P(h>=c&&h<=o,`value out-of-bounds for ${r}`,"value",h),Ji(e?dd(h,256):h,32)}}}{const t=r.match(/^bytes(\d+)$/);if(t){const e=parseInt(t[1]);return P(e!==0&&e<=32&&t[1]===String(e),"invalid bytes width","type",r),function(i){const o=yt(i);return P(o.length===e,`invalid length for ${r}`,"value",i),K_(i)}}}switch(r){case"address":return function(t){return di(Nt(t),32)};case"bool":return function(t){return t?W_:j_};case"bytes":return function(t){return ne(t)};case"string":return function(t){return Dr(t)}}return null}function Sf(r,t){return`${r}(${t.map(({name:e,type:i})=>i+" "+e).join(",")})`}function Ga(r){const t=r.match(/^([^\x5b]*)((\x5b\d*\x5d)*)(\x5b(\d*)\x5d)$/);return t?{base:t[1],index:t[2]+t[4],array:{base:t[1],prefix:t[1]+t[2],count:t[5]?parseInt(t[5]):-1}}:{base:r}}var ta,ni,Hs,wc,Cp;const We=class We{constructor(t){B(this,wc);k(this,"primaryType");B(this,ta);B(this,ni);B(this,Hs);w(this,ni,new Map),w(this,Hs,new Map);const e=new Map,i=new Map,o=new Map,c={};Object.keys(t).forEach(f=>{c[f]=t[f].map(({name:m,type:_})=>{let{base:y,index:b}=Ga(_);return y==="int"&&!t.int&&(y="int256"),y==="uint"&&!t.uint&&(y="uint256"),{name:m,type:y+(b||"")}}),e.set(f,new Set),i.set(f,[]),o.set(f,new Set)}),w(this,ta,JSON.stringify(c));for(const f in c){const m=new Set;for(const _ of c[f]){P(!m.has(_.name),`duplicate variable name ${JSON.stringify(_.name)} in ${JSON.stringify(f)}`,"types",t),m.add(_.name);const y=Ga(_.type).base;P(y!==f,`circular type reference to ${JSON.stringify(y)}`,"types",t),!Pl(y)&&(P(i.has(y),`unknown type ${JSON.stringify(y)}`,"types",t),i.get(y).push(f),e.get(f).add(y))}}const l=Array.from(i.keys()).filter(f=>i.get(f).length===0);P(l.length!==0,"missing primary type","types",t),P(l.length===1,`ambiguous primary types or unused types: ${l.map(f=>JSON.stringify(f)).join(", ")}`,"types",t),st(this,{primaryType:l[0]});function h(f,m){P(!m.has(f),`circular type reference to ${JSON.stringify(f)}`,"types",t),m.add(f);for(const _ of e.get(f))if(i.has(_)){h(_,m);for(const y of m)o.get(y).add(_)}m.delete(f)}h(this.primaryType,new Set);for(const[f,m]of o){const _=Array.from(m);_.sort(),p(this,ni).set(f,Sf(f,c[f])+_.map(y=>Sf(y,c[y])).join(""))}}get types(){return JSON.parse(p(this,ta))}getEncoder(t){let e=p(this,Hs).get(t);return e||(e=R(this,wc,Cp).call(this,t),p(this,Hs).set(t,e)),e}encodeType(t){const e=p(this,ni).get(t);return P(e,`unknown type: ${JSON.stringify(t)}`,"name",t),e}encodeData(t,e){return this.getEncoder(t)(e)}hashStruct(t,e){return ne(this.encodeData(t,e))}encode(t){return this.encodeData(this.primaryType,t)}hash(t){return this.hashStruct(this.primaryType,t)}_visit(t,e,i){if(Pl(t))return i(t,e);const o=Ga(t).array;if(o)return P(o.count===-1||o.count===e.length,`array length mismatch; expected length ${o.count}`,"value",e),e.map(l=>this._visit(o.prefix,l,i));const c=this.types[t];if(c)return c.reduce((l,{name:h,type:f})=>(l[h]=this._visit(f,e[h],i),l),{});P(!1,`unknown type: ${t}`,"type",t)}visit(t,e){return this._visit(this.primaryType,t,e)}static from(t){return new We(t)}static getPrimaryType(t){return We.from(t).primaryType}static hashStruct(t,e,i){return We.from(e).hashStruct(t,i)}static hashDomain(t){const e=[];for(const i in t){if(t[i]==null)continue;const o=Bf[i];P(o,`invalid typed-data domain key: ${JSON.stringify(i)}`,"domain",t),e.push({name:i,type:o})}return e.sort((i,o)=>El.indexOf(i.name)-El.indexOf(o.name)),We.hashStruct("EIP712Domain",{EIP712Domain:e},t)}static encode(t,e,i){return jt(["0x1901",We.hashDomain(t),We.from(e).hash(i)])}static hash(t,e,i){return ne(We.encode(t,e,i))}static async resolveNames(t,e,i,o){t=Object.assign({},t);for(const h in t)t[h]==null&&delete t[h];const c={};t.verifyingContract&&!zt(t.verifyingContract,20)&&(c[t.verifyingContract]="0x");const l=We.from(e);l.visit(i,(h,f)=>(h==="address"&&!zt(f,20)&&(c[f]="0x"),f));for(const h in c)c[h]=await o(h);return t.verifyingContract&&c[t.verifyingContract]&&(t.verifyingContract=c[t.verifyingContract]),i=l.visit(i,(h,f)=>h==="address"&&c[f]?c[f]:f),{domain:t,value:i}}static getPayload(t,e,i){We.hashDomain(t);const o={},c=[];El.forEach(f=>{const m=t[f];m!=null&&(o[f]=Y_[f](m),c.push({name:f,type:Bf[f]}))});const l=We.from(e);e=l.types;const h=Object.assign({},e);return P(h.EIP712Domain==null,"types must not contain EIP712Domain type","types.EIP712Domain",e),h.EIP712Domain=c,l.encode(i),{types:h,domain:o,primaryType:l.primaryType,message:l.visit(i,(f,m)=>{if(f.match(/^bytes(\d*)/))return Z(yt(m));if(f.match(/^u?int/))return j(m).toString();switch(f){case"address":return m.toLowerCase();case"bool":return!!m;case"string":return P(typeof m=="string","invalid string","value",m),m}P(!1,"unsupported type","type",f)})}}};ta=new WeakMap,ni=new WeakMap,Hs=new WeakMap,wc=new WeakSet,Cp=function(t){{const o=Pl(t);if(o)return o}const e=Ga(t).array;if(e){const o=e.prefix,c=this.getEncoder(o);return l=>{P(e.count===-1||e.count===l.length,`array length mismatch; expected length ${e.count}`,"value",l);let h=l.map(c);return p(this,ni).has(o)&&(h=h.map(ne)),ne(jt(h))}}const i=this.types[t];if(i){const o=Dr(p(this,ni).get(t));return c=>{const l=i.map(({name:h,type:f})=>{const m=this.getEncoder(f)(c[h]);return p(this,ni).has(f)?ne(m):m});return l.unshift(o),jt(l)}}P(!1,`unknown type: ${t}`,"type",t)};let pc=We;function Te(r){const t=new Set;return r.forEach(e=>t.add(e)),Object.freeze(t)}const q_="external public payable override",X_=Te(q_.split(" ")),kp="constant external internal payable private public pure view override",$_=Te(kp.split(" ")),Ip="constructor error event fallback function receive struct",Bp=Te(Ip.split(" ")),Op="calldata memory storage payable indexed",tw=Te(Op.split(" ")),ew="tuple returns",nw=[Ip,Op,ew,kp].join(" "),iw=Te(nw.split(" ")),rw={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},sw=new RegExp("^(\\s*)"),ow=new RegExp("^([0-9]+)"),aw=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),Sp=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),Np=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$");var he,mn,ea,ou;const vc=class vc{constructor(t){B(this,ea);B(this,he);B(this,mn);w(this,he,0),w(this,mn,t.slice())}get offset(){return p(this,he)}get length(){return p(this,mn).length-p(this,he)}clone(){return new vc(p(this,mn))}reset(){w(this,he,0)}popKeyword(t){const e=this.peek();if(e.type!=="KEYWORD"||!t.has(e.text))throw new Error(`expected keyword ${e.text}`);return this.pop().text}popType(t){if(this.peek().type!==t){const e=this.peek();throw new Error(`expected ${t}; got ${e.type} ${JSON.stringify(e.text)}`)}return this.pop().text}popParen(){const t=this.peek();if(t.type!=="OPEN_PAREN")throw new Error("bad start");const e=R(this,ea,ou).call(this,p(this,he)+1,t.match+1);return w(this,he,t.match+1),e}popParams(){const t=this.peek();if(t.type!=="OPEN_PAREN")throw new Error("bad start");const e=[];for(;p(this,he)<t.match-1;){const i=this.peek().linkNext;e.push(R(this,ea,ou).call(this,p(this,he)+1,i)),w(this,he,i)}return w(this,he,t.match+1),e}peek(){if(p(this,he)>=p(this,mn).length)throw new Error("out-of-bounds");return p(this,mn)[p(this,he)]}peekKeyword(t){const e=this.peekType("KEYWORD");return e!=null&&t.has(e)?e:null}peekType(t){if(this.length===0)return null;const e=this.peek();return e.type===t?e.text:null}pop(){const t=this.peek();return Lo(this,he)._++,t}toString(){const t=[];for(let e=p(this,he);e<p(this,mn).length;e++){const i=p(this,mn)[e];t.push(`${i.type}:${i.text}`)}return`<TokenString ${t.join(" ")}>`}};he=new WeakMap,mn=new WeakMap,ea=new WeakSet,ou=function(t=0,e=0){return new vc(p(this,mn).slice(t,e).map(i=>Object.freeze(Object.assign({},i,{match:i.match-t,linkBack:i.linkBack-t,linkNext:i.linkNext-t}))))};let wn=vc;function Yi(r){const t=[],e=l=>{const h=c<r.length?JSON.stringify(r[c]):"$EOI";throw new Error(`invalid token ${h} at ${c}: ${l}`)};let i=[],o=[],c=0;for(;c<r.length;){let l=r.substring(c),h=l.match(sw);h&&(c+=h[1].length,l=r.substring(c));const f={depth:i.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:c,value:-1};t.push(f);let m=rw[l[0]]||"";if(m){if(f.type=m,f.text=l[0],c++,m==="OPEN_PAREN")i.push(t.length-1),o.push(t.length-1);else if(m=="CLOSE_PAREN")i.length===0&&e("no matching open bracket"),f.match=i.pop(),t[f.match].match=t.length-1,f.depth--,f.linkBack=o.pop(),t[f.linkBack].linkNext=t.length-1;else if(m==="COMMA")f.linkBack=o.pop(),t[f.linkBack].linkNext=t.length-1,o.push(t.length-1);else if(m==="OPEN_BRACKET")f.type="BRACKET";else if(m==="CLOSE_BRACKET"){let _=t.pop().text;if(t.length>0&&t[t.length-1].type==="NUMBER"){const y=t.pop().text;_=y+_,t[t.length-1].value=_t(y)}if(t.length===0||t[t.length-1].type!=="BRACKET")throw new Error("missing opening bracket");t[t.length-1].text+=_}continue}if(h=l.match(aw),h){if(f.text=h[1],c+=f.text.length,iw.has(f.text)){f.type="KEYWORD";continue}if(f.text.match(Np)){f.type="TYPE";continue}f.type="ID";continue}if(h=l.match(ow),h){f.text=h[1],f.type="NUMBER",c+=f.text.length;continue}throw new Error(`unexpected token ${JSON.stringify(l[0])} at position ${c}`)}return new wn(t.map(l=>Object.freeze(l)))}function Nf(r,t){let e=[];for(const i in t.keys())r.has(i)&&e.push(i);if(e.length>1)throw new Error(`conflicting types: ${e.join(", ")}`)}function Mc(r,t){if(t.peekKeyword(Bp)){const e=t.pop().text;if(e!==r)throw new Error(`expected ${r}, got ${e}`)}return t.popType("ID")}function pi(r,t){const e=new Set;for(;;){const i=r.peekType("KEYWORD");if(i==null||t&&!t.has(i))break;if(r.pop(),e.has(i))throw new Error(`duplicate keywords: ${JSON.stringify(i)}`);e.add(i)}return Object.freeze(e)}function Mp(r){let t=pi(r,$_);return Nf(t,Te("constant payable nonpayable".split(" "))),Nf(t,Te("pure view payable nonpayable".split(" "))),t.has("view")?"view":t.has("pure")?"pure":t.has("payable")?"payable":t.has("nonpayable")?"nonpayable":t.has("constant")?"view":"nonpayable"}function fi(r,t){return r.popParams().map(e=>pe.from(e,t))}function Rp(r){if(r.peekType("AT")){if(r.pop(),r.peekType("NUMBER"))return j(r.pop().text);throw new Error("invalid gas")}return null}function Ur(r){if(r.length)throw new Error(`unexpected tokens at offset ${r.offset}: ${r.toString()}`)}const cw=new RegExp(/^(.*)\[([0-9]*)\]$/);function Mf(r){const t=r.match(Np);if(P(t,"invalid type","type",r),r==="uint")return"uint256";if(r==="int")return"int256";if(t[2]){const e=parseInt(t[2]);P(e!==0&&e<=32,"invalid bytes length","type",r)}else if(t[3]){const e=parseInt(t[3]);P(e!==0&&e<=256&&e%8===0,"invalid numeric width","type",r)}return r}const Kt={},Ne=Symbol.for("_ethers_internal"),Rf="_ParamTypeInternal",Ff="_ErrorInternal",Df="_EventInternal",Uf="_ConstructorInternal",zf="_FallbackInternal",Hf="_FunctionInternal",Gf="_StructInternal";var Gs,Ya;const je=class je{constructor(t,e,i,o,c,l,h,f){B(this,Gs);k(this,"name");k(this,"type");k(this,"baseType");k(this,"indexed");k(this,"components");k(this,"arrayLength");k(this,"arrayChildren");if(la(t,Kt,"ParamType"),Object.defineProperty(this,Ne,{value:Rf}),l&&(l=Object.freeze(l.slice())),o==="array"){if(h==null||f==null)throw new Error("")}else if(h!=null||f!=null)throw new Error("");if(o==="tuple"){if(l==null)throw new Error("")}else if(l!=null)throw new Error("");st(this,{name:e,type:i,baseType:o,indexed:c,components:l,arrayLength:h,arrayChildren:f})}format(t){if(t==null&&(t="sighash"),t==="json"){const i=this.name||"";if(this.isArray()){const c=JSON.parse(this.arrayChildren.format("json"));return c.name=i,c.type+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`,JSON.stringify(c)}const o={type:this.baseType==="tuple"?"tuple":this.type,name:i};return typeof this.indexed=="boolean"&&(o.indexed=this.indexed),this.isTuple()&&(o.components=this.components.map(c=>JSON.parse(c.format(t)))),JSON.stringify(o)}let e="";return this.isArray()?(e+=this.arrayChildren.format(t),e+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`):this.isTuple()?e+="("+this.components.map(i=>i.format(t)).join(t==="full"?", ":",")+")":e+=this.type,t!=="sighash"&&(this.indexed===!0&&(e+=" indexed"),t==="full"&&this.name&&(e+=" "+this.name)),e}isArray(){return this.baseType==="array"}isTuple(){return this.baseType==="tuple"}isIndexable(){return this.indexed!=null}walk(t,e){if(this.isArray()){if(!Array.isArray(t))throw new Error("invalid array value");if(this.arrayLength!==-1&&t.length!==this.arrayLength)throw new Error("array is wrong length");const i=this;return t.map(o=>i.arrayChildren.walk(o,e))}if(this.isTuple()){if(!Array.isArray(t))throw new Error("invalid tuple value");if(t.length!==this.components.length)throw new Error("array is wrong length");const i=this;return t.map((o,c)=>i.components[c].walk(o,e))}return e(this.type,t)}async walkAsync(t,e){const i=[],o=[t];return R(this,Gs,Ya).call(this,i,t,e,c=>{o[0]=c}),i.length&&await Promise.all(i),o[0]}static from(t,e){if(je.isParamType(t))return t;if(typeof t=="string")try{return je.from(Yi(t),e)}catch{P(!1,"invalid param type","obj",t)}else if(t instanceof wn){let h="",f="",m=null;pi(t,Te(["tuple"])).has("tuple")||t.peekType("OPEN_PAREN")?(f="tuple",m=t.popParams().map(x=>je.from(x)),h=`tuple(${m.map(x=>x.format()).join(",")})`):(h=Mf(t.popType("TYPE")),f=h);let _=null,y=null;for(;t.length&&t.peekType("BRACKET");){const x=t.pop();_=new je(Kt,"",h,f,null,m,y,_),y=x.value,h+=x.text,f="array",m=null}let b=null;if(pi(t,tw).has("indexed")){if(!e)throw new Error("");b=!0}const T=t.peekType("ID")?t.pop().text:"";if(t.length)throw new Error("leftover tokens");return new je(Kt,T,h,f,b,m,y,_)}const i=t.name;P(!i||typeof i=="string"&&i.match(Sp),"invalid name","obj.name",i);let o=t.indexed;o!=null&&(P(e,"parameter cannot be indexed","obj.indexed",t.indexed),o=!!o);let c=t.type,l=c.match(cw);if(l){const h=parseInt(l[2]||"-1"),f=je.from({type:l[1],components:t.components});return new je(Kt,i||"",c,"array",o,null,h,f)}if(c==="tuple"||c.startsWith("tuple(")||c.startsWith("(")){const h=t.components!=null?t.components.map(m=>je.from(m)):null;return new je(Kt,i||"",c,"tuple",o,h,null,null)}return c=Mf(t.type),new je(Kt,i||"",c,c,o,null,null,null)}static isParamType(t){return t&&t[Ne]===Rf}};Gs=new WeakSet,Ya=function(t,e,i,o){if(this.isArray()){if(!Array.isArray(e))throw new Error("invalid array value");if(this.arrayLength!==-1&&e.length!==this.arrayLength)throw new Error("array is wrong length");const l=this.arrayChildren,h=e.slice();h.forEach((f,m)=>{var _;R(_=l,Gs,Ya).call(_,t,f,i,y=>{h[m]=y})}),o(h);return}if(this.isTuple()){const l=this.components;let h;if(Array.isArray(e))h=e.slice();else{if(e==null||typeof e!="object")throw new Error("invalid tuple value");h=l.map(f=>{if(!f.name)throw new Error("cannot use object value with unnamed components");if(!(f.name in e))throw new Error(`missing value for component ${f.name}`);return e[f.name]})}if(h.length!==this.components.length)throw new Error("array is wrong length");h.forEach((f,m)=>{var _;R(_=l[m],Gs,Ya).call(_,t,f,i,y=>{h[m]=y})}),o(h);return}const c=i(this.type,e);c.then?t.push(async function(){o(await c)}()):o(c)};let pe=je;class zr{constructor(t,e,i){k(this,"type");k(this,"inputs");la(t,Kt,"Fragment"),i=Object.freeze(i.slice()),st(this,{type:e,inputs:i})}static from(t){if(typeof t=="string"){try{zr.from(JSON.parse(t))}catch{}return zr.from(Yi(t))}if(t instanceof wn)switch(t.peekKeyword(Bp)){case"constructor":return ui.from(t);case"error":return Oe.from(t);case"event":return Mn.from(t);case"fallback":case"receive":return qn.from(t);case"function":return Rn.from(t);case"struct":return Rr.from(t)}else if(typeof t=="object"){switch(t.type){case"constructor":return ui.from(t);case"error":return Oe.from(t);case"event":return Mn.from(t);case"fallback":case"receive":return qn.from(t);case"function":return Rn.from(t);case"struct":return Rr.from(t)}N(!1,`unsupported type: ${t.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}P(!1,"unsupported frgament object","obj",t)}static isConstructor(t){return ui.isFragment(t)}static isError(t){return Oe.isFragment(t)}static isEvent(t){return Mn.isFragment(t)}static isFunction(t){return Rn.isFragment(t)}static isStruct(t){return Rr.isFragment(t)}}class Rc extends zr{constructor(e,i,o,c){super(e,i,c);k(this,"name");P(typeof o=="string"&&o.match(Sp),"invalid identifier","name",o),c=Object.freeze(c.slice()),st(this,{name:o})}}function Jo(r,t){return"("+t.map(e=>e.format(r)).join(r==="full"?", ":",")+")"}class Oe extends Rc{constructor(t,e,i){super(t,"error",e,i),Object.defineProperty(this,Ne,{value:Ff})}get selector(){return Dr(this.format("sighash")).substring(0,10)}format(t){if(t==null&&(t="sighash"),t==="json")return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(i=>JSON.parse(i.format(t)))});const e=[];return t!=="sighash"&&e.push("error"),e.push(this.name+Jo(t,this.inputs)),e.join(" ")}static from(t){if(Oe.isFragment(t))return t;if(typeof t=="string")return Oe.from(Yi(t));if(t instanceof wn){const e=Mc("error",t),i=fi(t);return Ur(t),new Oe(Kt,e,i)}return new Oe(Kt,t.name,t.inputs?t.inputs.map(pe.from):[])}static isFragment(t){return t&&t[Ne]===Ff}}class Mn extends Rc{constructor(e,i,o,c){super(e,"event",i,o);k(this,"anonymous");Object.defineProperty(this,Ne,{value:Df}),st(this,{anonymous:c})}get topicHash(){return Dr(this.format("sighash"))}format(e){if(e==null&&(e="sighash"),e==="json")return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(o=>JSON.parse(o.format(e)))});const i=[];return e!=="sighash"&&i.push("event"),i.push(this.name+Jo(e,this.inputs)),e!=="sighash"&&this.anonymous&&i.push("anonymous"),i.join(" ")}static getTopicHash(e,i){return i=(i||[]).map(c=>pe.from(c)),new Mn(Kt,e,i,!1).topicHash}static from(e){if(Mn.isFragment(e))return e;if(typeof e=="string")try{return Mn.from(Yi(e))}catch{P(!1,"invalid event fragment","obj",e)}else if(e instanceof wn){const i=Mc("event",e),o=fi(e,!0),c=!!pi(e,Te(["anonymous"])).has("anonymous");return Ur(e),new Mn(Kt,i,o,c)}return new Mn(Kt,e.name,e.inputs?e.inputs.map(i=>pe.from(i,!0)):[],!!e.anonymous)}static isFragment(e){return e&&e[Ne]===Df}}class ui extends zr{constructor(e,i,o,c,l){super(e,i,o);k(this,"payable");k(this,"gas");Object.defineProperty(this,Ne,{value:Uf}),st(this,{payable:c,gas:l})}format(e){if(N(e!=null&&e!=="sighash","cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),e==="json")return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(o=>JSON.parse(o.format(e)))});const i=[`constructor${Jo(e,this.inputs)}`];return this.payable&&i.push("payable"),this.gas!=null&&i.push(`@${this.gas.toString()}`),i.join(" ")}static from(e){if(ui.isFragment(e))return e;if(typeof e=="string")try{return ui.from(Yi(e))}catch{P(!1,"invalid constuctor fragment","obj",e)}else if(e instanceof wn){pi(e,Te(["constructor"]));const i=fi(e),o=!!pi(e,X_).has("payable"),c=Rp(e);return Ur(e),new ui(Kt,"constructor",i,o,c)}return new ui(Kt,"constructor",e.inputs?e.inputs.map(pe.from):[],!!e.payable,e.gas!=null?e.gas:null)}static isFragment(e){return e&&e[Ne]===Uf}}class qn extends zr{constructor(e,i,o){super(e,"fallback",i);k(this,"payable");Object.defineProperty(this,Ne,{value:zf}),st(this,{payable:o})}format(e){const i=this.inputs.length===0?"receive":"fallback";if(e==="json"){const o=this.payable?"payable":"nonpayable";return JSON.stringify({type:i,stateMutability:o})}return`${i}()${this.payable?" payable":""}`}static from(e){if(qn.isFragment(e))return e;if(typeof e=="string")try{return qn.from(Yi(e))}catch{P(!1,"invalid fallback fragment","obj",e)}else if(e instanceof wn){const i=e.toString(),o=e.peekKeyword(Te(["fallback","receive"]));if(P(o,"type must be fallback or receive","obj",i),e.popKeyword(Te(["fallback","receive"]))==="receive"){const f=fi(e);return P(f.length===0,"receive cannot have arguments","obj.inputs",f),pi(e,Te(["payable"])),Ur(e),new qn(Kt,[],!0)}let l=fi(e);l.length?P(l.length===1&&l[0].type==="bytes","invalid fallback inputs","obj.inputs",l.map(f=>f.format("minimal")).join(", ")):l=[pe.from("bytes")];const h=Mp(e);if(P(h==="nonpayable"||h==="payable","fallback cannot be constants","obj.stateMutability",h),pi(e,Te(["returns"])).has("returns")){const f=fi(e);P(f.length===1&&f[0].type==="bytes","invalid fallback outputs","obj.outputs",f.map(m=>m.format("minimal")).join(", "))}return Ur(e),new qn(Kt,l,h==="payable")}if(e.type==="receive")return new qn(Kt,[],!0);if(e.type==="fallback"){const i=[pe.from("bytes")],o=e.stateMutability==="payable";return new qn(Kt,i,o)}P(!1,"invalid fallback description","obj",e)}static isFragment(e){return e&&e[Ne]===zf}}class Rn extends Rc{constructor(e,i,o,c,l,h){super(e,"function",i,c);k(this,"constant");k(this,"outputs");k(this,"stateMutability");k(this,"payable");k(this,"gas");Object.defineProperty(this,Ne,{value:Hf}),l=Object.freeze(l.slice()),st(this,{constant:o==="view"||o==="pure",gas:h,outputs:l,payable:o==="payable",stateMutability:o})}get selector(){return Dr(this.format("sighash")).substring(0,10)}format(e){if(e==null&&(e="sighash"),e==="json")return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(o=>JSON.parse(o.format(e))),outputs:this.outputs.map(o=>JSON.parse(o.format(e)))});const i=[];return e!=="sighash"&&i.push("function"),i.push(this.name+Jo(e,this.inputs)),e!=="sighash"&&(this.stateMutability!=="nonpayable"&&i.push(this.stateMutability),this.outputs&&this.outputs.length&&(i.push("returns"),i.push(Jo(e,this.outputs))),this.gas!=null&&i.push(`@${this.gas.toString()}`)),i.join(" ")}static getSelector(e,i){return i=(i||[]).map(c=>pe.from(c)),new Rn(Kt,e,"view",i,[],null).selector}static from(e){if(Rn.isFragment(e))return e;if(typeof e=="string")try{return Rn.from(Yi(e))}catch{P(!1,"invalid function fragment","obj",e)}else if(e instanceof wn){const o=Mc("function",e),c=fi(e),l=Mp(e);let h=[];pi(e,Te(["returns"])).has("returns")&&(h=fi(e));const f=Rp(e);return Ur(e),new Rn(Kt,o,l,c,h,f)}let i=e.stateMutability;return i==null&&(i="payable",typeof e.constant=="boolean"?(i="view",e.constant||(i="payable",typeof e.payable=="boolean"&&!e.payable&&(i="nonpayable"))):typeof e.payable=="boolean"&&!e.payable&&(i="nonpayable")),new Rn(Kt,e.name,i,e.inputs?e.inputs.map(pe.from):[],e.outputs?e.outputs.map(pe.from):[],e.gas!=null?e.gas:null)}static isFragment(e){return e&&e[Ne]===Hf}}class Rr extends Rc{constructor(t,e,i){super(t,"struct",e,i),Object.defineProperty(this,Ne,{value:Gf})}format(){throw new Error("@TODO")}static from(t){if(typeof t=="string")try{return Rr.from(Yi(t))}catch{P(!1,"invalid struct fragment","obj",t)}else if(t instanceof wn){const e=Mc("struct",t),i=fi(t);return Ur(t),new Rr(Kt,e,i)}return new Rr(Kt,t.name,t.inputs?t.inputs.map(pe.from):[])}static isFragment(t){return t&&t[Ne]===Gf}}const vn=new Map;vn.set(0,"GENERIC_PANIC");vn.set(1,"ASSERT_FALSE");vn.set(17,"OVERFLOW");vn.set(18,"DIVIDE_BY_ZERO");vn.set(33,"ENUM_RANGE_ERROR");vn.set(34,"BAD_STORAGE_DATA");vn.set(49,"STACK_UNDERFLOW");vn.set(50,"ARRAY_RANGE_ERROR");vn.set(65,"OUT_OF_MEMORY");vn.set(81,"UNINITIALIZED_FUNCTION_CALL");const lw=new RegExp(/^bytes([0-9]*)$/),uw=new RegExp(/^(u?int)([0-9]*)$/);let Tl=null,Zf=1024;function hw(r,t,e,i){let o="missing revert data",c=null;const l=null;let h=null;if(e){o="execution reverted";const m=yt(e);if(e=Z(e),m.length===0)o+=" (no data present; likely require(false) occurred",c="require(false)";else if(m.length%32!==4)o+=" (could not decode reason; invalid data length)";else if(Z(m.slice(0,4))==="0x08c379a0")try{c=i.decode(["string"],m.slice(4))[0],h={signature:"Error(string)",name:"Error",args:[c]},o+=`: ${JSON.stringify(c)}`}catch{o+=" (could not decode reason; invalid string data)"}else if(Z(m.slice(0,4))==="0x4e487b71")try{const _=Number(i.decode(["uint256"],m.slice(4))[0]);h={signature:"Panic(uint256)",name:"Panic",args:[_]},c=`Panic due to ${vn.get(_)||"UNKNOWN"}(${_})`,o+=`: ${c}`}catch{o+=" (could not decode panic code)"}else o+=" (unknown custom error)"}const f={to:t.to?Nt(t.to):null,data:t.data||"0x"};return t.from&&(f.from=Nt(t.from)),Vt(o,"CALL_EXCEPTION",{action:r,data:e,reason:c,transaction:f,invocation:l,revert:h})}var Oi,os;const bc=class bc{constructor(){B(this,Oi)}getDefaultValue(t){const e=t.map(o=>R(this,Oi,os).call(this,pe.from(o)));return new Ha(e,"_").defaultValue()}encode(t,e){ud(e.length,t.length,"types/values length mismatch");const i=t.map(l=>R(this,Oi,os).call(this,pe.from(l))),o=new Ha(i,"_"),c=new Jl;return o.encode(c,e),c.data}decode(t,e,i){const o=t.map(l=>R(this,Oi,os).call(this,pe.from(l)));return new Ha(o,"_").decode(new Kl(e,i,Zf))}static _setDefaultMaxInflation(t){P(typeof t=="number"&&Number.isInteger(t),"invalid defaultMaxInflation factor","value",t),Zf=t}static defaultAbiCoder(){return Tl==null&&(Tl=new bc),Tl}static getBuiltinCallException(t,e,i){return hw(t,e,i,bc.defaultAbiCoder())}};Oi=new WeakSet,os=function(t){if(t.isArray())return new k0(R(this,Oi,os).call(this,t.arrayChildren),t.arrayLength,t.name);if(t.isTuple())return new Ha(t.components.map(i=>R(this,Oi,os).call(this,i)),t.name);switch(t.baseType){case"address":return new L0(t.name);case"bool":return new I0(t.name);case"string":return new U0(t.name);case"bytes":return new B0(t.name);case"":return new N0(t.name)}let e=t.type.match(uw);if(e){let i=parseInt(e[2]||"256");return P(i!==0&&i<=256&&i%8===0,"invalid "+e[1]+" bit length","param",t),new D0(i/8,e[1]==="int",t.name)}if(e=t.type.match(lw),e){let i=parseInt(e[1]);return P(i!==0&&i<=32,"invalid bytes length","param",t),new O0(i,t.name)}P(!1,"invalid type","type",t.type)};let Ko=bc;class fw{constructor(t,e,i){k(this,"fragment");k(this,"name");k(this,"signature");k(this,"topic");k(this,"args");const o=t.name,c=t.format();st(this,{fragment:t,name:o,signature:c,topic:e,args:i})}}class dw{constructor(t,e,i,o){k(this,"fragment");k(this,"name");k(this,"args");k(this,"signature");k(this,"selector");k(this,"value");const c=t.name,l=t.format();st(this,{fragment:t,name:c,args:i,signature:l,selector:e,value:o})}}class pw{constructor(t,e,i){k(this,"fragment");k(this,"name");k(this,"args");k(this,"signature");k(this,"selector");const o=t.name,c=t.format();st(this,{fragment:t,name:o,args:i,signature:c,selector:e})}}class Vf{constructor(t){k(this,"hash");k(this,"_isIndexed");st(this,{hash:t,_isIndexed:!0})}static isIndexed(t){return!!(t&&t._isIndexed)}}const Qf={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},Jf={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:r=>`reverted with reason string ${JSON.stringify(r)}`},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:r=>{let t="unknown panic code";return r>=0&&r<=255&&Qf[r.toString()]&&(t=Qf[r.toString()]),`reverted with panic code 0x${r.toString(16)} (${t})`}}};var kn,In,Bn,me,Dn,qa,Xa;const lr=class lr{constructor(t){B(this,Dn);k(this,"fragments");k(this,"deploy");k(this,"fallback");k(this,"receive");B(this,kn);B(this,In);B(this,Bn);B(this,me);let e=[];typeof t=="string"?e=JSON.parse(t):e=t,w(this,Bn,new Map),w(this,kn,new Map),w(this,In,new Map);const i=[];for(const l of e)try{i.push(zr.from(l))}catch(h){console.log(`[Warning] Invalid Fragment ${JSON.stringify(l)}:`,h.message)}st(this,{fragments:Object.freeze(i)});let o=null,c=!1;w(this,me,this.getAbiCoder()),this.fragments.forEach((l,h)=>{let f;switch(l.type){case"constructor":if(this.deploy){console.log("duplicate definition - constructor");return}st(this,{deploy:l});return;case"fallback":l.inputs.length===0?c=!0:(P(!o||l.payable!==o.payable,"conflicting fallback fragments",`fragments[${h}]`,l),o=l,c=o.payable);return;case"function":f=p(this,Bn);break;case"event":f=p(this,In);break;case"error":f=p(this,kn);break;default:return}const m=l.format();f.has(m)||f.set(m,l)}),this.deploy||st(this,{deploy:ui.from("constructor()")}),st(this,{fallback:o,receive:c})}format(t){const e=t?"minimal":"full";return this.fragments.map(o=>o.format(e))}formatJson(){const t=this.fragments.map(e=>e.format("json"));return JSON.stringify(t.map(e=>JSON.parse(e)))}getAbiCoder(){return Ko.defaultAbiCoder()}getFunctionName(t){const e=R(this,Dn,qa).call(this,t,null,!1);return P(e,"no matching function","key",t),e.name}hasFunction(t){return!!R(this,Dn,qa).call(this,t,null,!1)}getFunction(t,e){return R(this,Dn,qa).call(this,t,e||null,!0)}forEachFunction(t){const e=Array.from(p(this,Bn).keys());e.sort((i,o)=>i.localeCompare(o));for(let i=0;i<e.length;i++){const o=e[i];t(p(this,Bn).get(o),i)}}getEventName(t){const e=R(this,Dn,Xa).call(this,t,null,!1);return P(e,"no matching event","key",t),e.name}hasEvent(t){return!!R(this,Dn,Xa).call(this,t,null,!1)}getEvent(t,e){return R(this,Dn,Xa).call(this,t,e||null,!0)}forEachEvent(t){const e=Array.from(p(this,In).keys());e.sort((i,o)=>i.localeCompare(o));for(let i=0;i<e.length;i++){const o=e[i];t(p(this,In).get(o),i)}}getError(t,e){if(zt(t)){const o=t.toLowerCase();if(Jf[o])return Oe.from(Jf[o].signature);for(const c of p(this,kn).values())if(o===c.selector)return c;return null}if(t.indexOf("(")===-1){const o=[];for(const[c,l]of p(this,kn))c.split("(")[0]===t&&o.push(l);if(o.length===0)return t==="Error"?Oe.from("error Error(string)"):t==="Panic"?Oe.from("error Panic(uint256)"):null;if(o.length>1){const c=o.map(l=>JSON.stringify(l.format())).join(", ");P(!1,`ambiguous error description (i.e. ${c})`,"name",t)}return o[0]}if(t=Oe.from(t).format(),t==="Error(string)")return Oe.from("error Error(string)");if(t==="Panic(uint256)")return Oe.from("error Panic(uint256)");const i=p(this,kn).get(t);return i||null}forEachError(t){const e=Array.from(p(this,kn).keys());e.sort((i,o)=>i.localeCompare(o));for(let i=0;i<e.length;i++){const o=e[i];t(p(this,kn).get(o),i)}}_decodeParams(t,e){return p(this,me).decode(t,e)}_encodeParams(t,e){return p(this,me).encode(t,e)}encodeDeploy(t){return this._encodeParams(this.deploy.inputs,t||[])}decodeErrorResult(t,e){if(typeof t=="string"){const i=this.getError(t);P(i,"unknown error","fragment",t),t=i}return P(Wt(e,0,4)===t.selector,`data signature does not match error ${t.name}.`,"data",e),this._decodeParams(t.inputs,Wt(e,4))}encodeErrorResult(t,e){if(typeof t=="string"){const i=this.getError(t);P(i,"unknown error","fragment",t),t=i}return jt([t.selector,this._encodeParams(t.inputs,e||[])])}decodeFunctionData(t,e){if(typeof t=="string"){const i=this.getFunction(t);P(i,"unknown function","fragment",t),t=i}return P(Wt(e,0,4)===t.selector,`data signature does not match function ${t.name}.`,"data",e),this._decodeParams(t.inputs,Wt(e,4))}encodeFunctionData(t,e){if(typeof t=="string"){const i=this.getFunction(t);P(i,"unknown function","fragment",t),t=i}return jt([t.selector,this._encodeParams(t.inputs,e||[])])}decodeFunctionResult(t,e){if(typeof t=="string"){const c=this.getFunction(t);P(c,"unknown function","fragment",t),t=c}let i="invalid length for result data";const o=xe(e);if(o.length%32===0)try{return p(this,me).decode(t.outputs,o)}catch{i="could not decode result data"}N(!1,i,"BAD_DATA",{value:Z(o),info:{method:t.name,signature:t.format()}})}makeError(t,e){const i=yt(t,"data"),o=Ko.getBuiltinCallException("call",e,i);if(o.message.startsWith("execution reverted (unknown custom error)")){const h=Z(i.slice(0,4)),f=this.getError(h);if(f)try{const m=p(this,me).decode(f.inputs,i.slice(4));o.revert={name:f.name,signature:f.format(),args:m},o.reason=o.revert.signature,o.message=`execution reverted: ${o.reason}`}catch{o.message="execution reverted (coult not decode custom error)"}}const l=this.parseTransaction(e);return l&&(o.invocation={method:l.name,signature:l.signature,args:l.args}),o}encodeFunctionResult(t,e){if(typeof t=="string"){const i=this.getFunction(t);P(i,"unknown function","fragment",t),t=i}return Z(p(this,me).encode(t.outputs,e||[]))}encodeFilterTopics(t,e){if(typeof t=="string"){const c=this.getEvent(t);P(c,"unknown event","eventFragment",t),t=c}N(e.length<=t.inputs.length,`too many arguments for ${t.format()}`,"UNEXPECTED_ARGUMENT",{count:e.length,expectedCount:t.inputs.length});const i=[];t.anonymous||i.push(t.topicHash);const o=(c,l)=>c.type==="string"?Dr(l):c.type==="bytes"?ne(Z(l)):(c.type==="bool"&&typeof l=="boolean"?l=l?"0x01":"0x00":c.type.match(/^u?int/)?l=Ji(l):c.type.match(/^bytes/)?l=Ig(l,32):c.type==="address"&&p(this,me).encode(["address"],[l]),di(Z(l),32));for(e.forEach((c,l)=>{const h=t.inputs[l];if(!h.indexed){P(c==null,"cannot filter non-indexed parameters; must be null","contract."+h.name,c);return}c==null?i.push(null):h.baseType==="array"||h.baseType==="tuple"?P(!1,"filtering with tuples or arrays not supported","contract."+h.name,c):Array.isArray(c)?i.push(c.map(f=>o(h,f))):i.push(o(h,c))});i.length&&i[i.length-1]===null;)i.pop();return i}encodeEventLog(t,e){if(typeof t=="string"){const l=this.getEvent(t);P(l,"unknown event","eventFragment",t),t=l}const i=[],o=[],c=[];return t.anonymous||i.push(t.topicHash),P(e.length===t.inputs.length,"event arguments/values mismatch","values",e),t.inputs.forEach((l,h)=>{const f=e[h];if(l.indexed)if(l.type==="string")i.push(Dr(f));else if(l.type==="bytes")i.push(ne(f));else{if(l.baseType==="tuple"||l.baseType==="array")throw new Error("not implemented");i.push(p(this,me).encode([l.type],[f]))}else o.push(l),c.push(f)}),{data:p(this,me).encode(o,c),topics:i}}decodeEventLog(t,e,i){if(typeof t=="string"){const E=this.getEvent(t);P(E,"unknown event","eventFragment",t),t=E}if(i!=null&&!t.anonymous){const E=t.topicHash;P(zt(i[0],32)&&i[0].toLowerCase()===E,"fragment/topic mismatch","topics[0]",i[0]),i=i.slice(1)}const o=[],c=[],l=[];t.inputs.forEach((E,T)=>{E.indexed?E.type==="string"||E.type==="bytes"||E.baseType==="tuple"||E.baseType==="array"?(o.push(pe.from({type:"bytes32",name:E.name})),l.push(!0)):(o.push(E),l.push(!1)):(c.push(E),l.push(!1))});const h=i!=null?p(this,me).decode(o,jt(i)):null,f=p(this,me).decode(c,e,!0),m=[],_=[];let y=0,b=0;return t.inputs.forEach((E,T)=>{let x=null;if(E.indexed)if(h==null)x=new Vf(null);else if(l[T])x=new Vf(h[b++]);else try{x=h[b++]}catch(O){x=O}else try{x=f[y++]}catch(O){x=O}m.push(x),_.push(E.name||null)}),ro.fromItems(m,_)}parseTransaction(t){const e=yt(t.data,"tx.data"),i=j(t.value!=null?t.value:0,"tx.value"),o=this.getFunction(Z(e.slice(0,4)));if(!o)return null;const c=p(this,me).decode(o.inputs,e.slice(4));return new dw(o,o.selector,c,i)}parseCallResult(t){throw new Error("@TODO")}parseLog(t){const e=this.getEvent(t.topics[0]);return!e||e.anonymous?null:new fw(e,e.topicHash,this.decodeEventLog(e,t.data,t.topics))}parseError(t){const e=Z(t),i=this.getError(Wt(e,0,4));if(!i)return null;const o=p(this,me).decode(i.inputs,Wt(e,4));return new pw(i,i.selector,o)}static from(t){return t instanceof lr?t:typeof t=="string"?new lr(JSON.parse(t)):typeof t.formatJson=="function"?new lr(t.formatJson()):typeof t.format=="function"?new lr(t.format("json")):new lr(t)}};kn=new WeakMap,In=new WeakMap,Bn=new WeakMap,me=new WeakMap,Dn=new WeakSet,qa=function(t,e,i){if(zt(t)){const c=t.toLowerCase();for(const l of p(this,Bn).values())if(c===l.selector)return l;return null}if(t.indexOf("(")===-1){const c=[];for(const[l,h]of p(this,Bn))l.split("(")[0]===t&&c.push(h);if(e){const l=e.length>0?e[e.length-1]:null;let h=e.length,f=!0;_e.isTyped(l)&&l.type==="overrides"&&(f=!1,h--);for(let m=c.length-1;m>=0;m--){const _=c[m].inputs.length;_!==h&&(!f||_!==h-1)&&c.splice(m,1)}for(let m=c.length-1;m>=0;m--){const _=c[m].inputs;for(let y=0;y<e.length;y++)if(_e.isTyped(e[y])){if(y>=_.length){if(e[y].type==="overrides")continue;c.splice(m,1);break}if(e[y].type!==_[y].baseType){c.splice(m,1);break}}}}if(c.length===1&&e&&e.length!==c[0].inputs.length){const l=e[e.length-1];(l==null||Array.isArray(l)||typeof l!="object")&&c.splice(0,1)}if(c.length===0)return null;if(c.length>1&&i){const l=c.map(h=>JSON.stringify(h.format())).join(", ");P(!1,`ambiguous function description (i.e. matches ${l})`,"key",t)}return c[0]}const o=p(this,Bn).get(Rn.from(t).format());return o||null},Xa=function(t,e,i){if(zt(t)){const c=t.toLowerCase();for(const l of p(this,In).values())if(c===l.topicHash)return l;return null}if(t.indexOf("(")===-1){const c=[];for(const[l,h]of p(this,In))l.split("(")[0]===t&&c.push(h);if(e){for(let l=c.length-1;l>=0;l--)c[l].inputs.length<e.length&&c.splice(l,1);for(let l=c.length-1;l>=0;l--){const h=c[l].inputs;for(let f=0;f<e.length;f++)if(_e.isTyped(e[f])&&e[f].type!==h[f].baseType){c.splice(l,1);break}}}if(c.length===0)return null;if(c.length>1&&i){const l=c.map(h=>JSON.stringify(h.format())).join(", ");P(!1,`ambiguous event description (i.e. matches ${l})`,"key",t)}return c[0]}const o=p(this,In).get(Mn.from(t).format());return o||null};let au=lr;const Fp=BigInt(0);function gs(r){return r??null}function qt(r){return r==null?null:r.toString()}class Kf{constructor(t,e,i){k(this,"gasPrice");k(this,"maxFeePerGas");k(this,"maxPriorityFeePerGas");st(this,{gasPrice:gs(t),maxFeePerGas:gs(e),maxPriorityFeePerGas:gs(i)})}toJSON(){const{gasPrice:t,maxFeePerGas:e,maxPriorityFeePerGas:i}=this;return{_type:"FeeData",gasPrice:qt(t),maxFeePerGas:qt(e),maxPriorityFeePerGas:qt(i)}}}function mc(r){const t={};r.to&&(t.to=r.to),r.from&&(t.from=r.from),r.data&&(t.data=Z(r.data));const e="chainId,gasLimit,gasPrice,maxFeePerBlobGas,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(const o of e)!(o in r)||r[o]==null||(t[o]=j(r[o],`request.${o}`));const i="type,nonce".split(/,/);for(const o of i)!(o in r)||r[o]==null||(t[o]=_t(r[o],`request.${o}`));return r.accessList&&(t.accessList=Zr(r.accessList)),r.authorizationList&&(t.authorizationList=r.authorizationList.slice()),"blockTag"in r&&(t.blockTag=r.blockTag),"enableCcipRead"in r&&(t.enableCcipRead=!!r.enableCcipRead),"customData"in r&&(t.customData=r.customData),"blobVersionedHashes"in r&&r.blobVersionedHashes&&(t.blobVersionedHashes=r.blobVersionedHashes.slice()),"kzg"in r&&(t.kzg=r.kzg),"blobs"in r&&r.blobs&&(t.blobs=r.blobs.map(o=>Eu(o)?Z(o):Object.assign({},o))),t}var ii;class mw{constructor(t,e){k(this,"provider");k(this,"number");k(this,"hash");k(this,"timestamp");k(this,"parentHash");k(this,"parentBeaconBlockRoot");k(this,"nonce");k(this,"difficulty");k(this,"gasLimit");k(this,"gasUsed");k(this,"stateRoot");k(this,"receiptsRoot");k(this,"blobGasUsed");k(this,"excessBlobGas");k(this,"miner");k(this,"prevRandao");k(this,"extraData");k(this,"baseFeePerGas");B(this,ii);w(this,ii,t.transactions.map(i=>typeof i!="string"?new Wo(i,e):i)),st(this,{provider:e,hash:gs(t.hash),number:t.number,timestamp:t.timestamp,parentHash:t.parentHash,parentBeaconBlockRoot:t.parentBeaconBlockRoot,nonce:t.nonce,difficulty:t.difficulty,gasLimit:t.gasLimit,gasUsed:t.gasUsed,blobGasUsed:t.blobGasUsed,excessBlobGas:t.excessBlobGas,miner:t.miner,prevRandao:gs(t.prevRandao),extraData:t.extraData,baseFeePerGas:gs(t.baseFeePerGas),stateRoot:t.stateRoot,receiptsRoot:t.receiptsRoot})}get transactions(){return p(this,ii).map(t=>typeof t=="string"?t:t.hash)}get prefetchedTransactions(){const t=p(this,ii).slice();return t.length===0?[]:(N(typeof t[0]=="object","transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"}),t)}toJSON(){const{baseFeePerGas:t,difficulty:e,extraData:i,gasLimit:o,gasUsed:c,hash:l,miner:h,prevRandao:f,nonce:m,number:_,parentHash:y,parentBeaconBlockRoot:b,stateRoot:E,receiptsRoot:T,timestamp:x,transactions:O}=this;return{_type:"Block",baseFeePerGas:qt(t),difficulty:qt(e),extraData:i,gasLimit:qt(o),gasUsed:qt(c),blobGasUsed:qt(this.blobGasUsed),excessBlobGas:qt(this.excessBlobGas),hash:l,miner:h,prevRandao:f,nonce:m,number:_,parentHash:y,timestamp:x,parentBeaconBlockRoot:b,stateRoot:E,receiptsRoot:T,transactions:O}}[Symbol.iterator](){let t=0;const e=this.transactions;return{next:()=>t<this.length?{value:e[t++],done:!1}:{value:void 0,done:!0}}}get length(){return p(this,ii).length}get date(){return this.timestamp==null?null:new Date(this.timestamp*1e3)}async getTransaction(t){let e;if(typeof t=="number")e=p(this,ii)[t];else{const i=t.toLowerCase();for(const o of p(this,ii))if(typeof o=="string"){if(o!==i)continue;e=o;break}else{if(o.hash!==i)continue;e=o;break}}if(e==null)throw new Error("no such tx");return typeof e=="string"?await this.provider.getTransaction(e):e}getPrefetchedTransaction(t){const e=this.prefetchedTransactions;if(typeof t=="number")return e[t];t=t.toLowerCase();for(const i of e)if(i.hash===t)return i;P(!1,"no matching transaction","indexOrHash",t)}isMined(){return!!this.hash}isLondon(){return!!this.baseFeePerGas}orphanedEvent(){if(!this.isMined())throw new Error("");return gw(this)}}ii=new WeakMap;class fa{constructor(t,e){k(this,"provider");k(this,"transactionHash");k(this,"blockHash");k(this,"blockNumber");k(this,"removed");k(this,"address");k(this,"data");k(this,"topics");k(this,"index");k(this,"transactionIndex");this.provider=e;const i=Object.freeze(t.topics.slice());st(this,{transactionHash:t.transactionHash,blockHash:t.blockHash,blockNumber:t.blockNumber,removed:t.removed,address:t.address,data:t.data,topics:i,index:t.index,transactionIndex:t.transactionIndex})}toJSON(){const{address:t,blockHash:e,blockNumber:i,data:o,index:c,removed:l,topics:h,transactionHash:f,transactionIndex:m}=this;return{_type:"log",address:t,blockHash:e,blockNumber:i,data:o,index:c,removed:l,topics:h,transactionHash:f,transactionIndex:m}}async getBlock(){const t=await this.provider.getBlock(this.blockHash);return N(!!t,"failed to find transaction","UNKNOWN_ERROR",{}),t}async getTransaction(){const t=await this.provider.getTransaction(this.transactionHash);return N(!!t,"failed to find transaction","UNKNOWN_ERROR",{}),t}async getTransactionReceipt(){const t=await this.provider.getTransactionReceipt(this.transactionHash);return N(!!t,"failed to find transaction receipt","UNKNOWN_ERROR",{}),t}removedEvent(){return yw(this)}}var na;class Dp{constructor(t,e){k(this,"provider");k(this,"to");k(this,"from");k(this,"contractAddress");k(this,"hash");k(this,"index");k(this,"blockHash");k(this,"blockNumber");k(this,"logsBloom");k(this,"gasUsed");k(this,"blobGasUsed");k(this,"cumulativeGasUsed");k(this,"gasPrice");k(this,"blobGasPrice");k(this,"type");k(this,"status");k(this,"root");B(this,na);w(this,na,Object.freeze(t.logs.map(o=>new fa(o,e))));let i=Fp;t.effectiveGasPrice!=null?i=t.effectiveGasPrice:t.gasPrice!=null&&(i=t.gasPrice),st(this,{provider:e,to:t.to,from:t.from,contractAddress:t.contractAddress,hash:t.hash,index:t.index,blockHash:t.blockHash,blockNumber:t.blockNumber,logsBloom:t.logsBloom,gasUsed:t.gasUsed,cumulativeGasUsed:t.cumulativeGasUsed,blobGasUsed:t.blobGasUsed,gasPrice:i,blobGasPrice:t.blobGasPrice,type:t.type,status:t.status,root:t.root})}get logs(){return p(this,na)}toJSON(){const{to:t,from:e,contractAddress:i,hash:o,index:c,blockHash:l,blockNumber:h,logsBloom:f,logs:m,status:_,root:y}=this;return{_type:"TransactionReceipt",blockHash:l,blockNumber:h,contractAddress:i,cumulativeGasUsed:qt(this.cumulativeGasUsed),from:e,gasPrice:qt(this.gasPrice),blobGasUsed:qt(this.blobGasUsed),blobGasPrice:qt(this.blobGasPrice),gasUsed:qt(this.gasUsed),hash:o,index:c,logs:m,logsBloom:f,root:y,status:_,to:t}}get length(){return this.logs.length}[Symbol.iterator](){let t=0;return{next:()=>t<this.length?{value:this.logs[t++],done:!1}:{value:void 0,done:!0}}}get fee(){return this.gasUsed*this.gasPrice}async getBlock(){const t=await this.provider.getBlock(this.blockHash);if(t==null)throw new Error("TODO");return t}async getTransaction(){const t=await this.provider.getTransaction(this.hash);if(t==null)throw new Error("TODO");return t}async getResult(){return await this.provider.getTransactionResult(this.hash)}async confirmations(){return await this.provider.getBlockNumber()-this.blockNumber+1}removedEvent(){return zp(this)}reorderedEvent(t){return N(!t||t.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),Up(this,t)}}na=new WeakMap;var Si;const Ku=class Ku{constructor(t,e){k(this,"provider");k(this,"blockNumber");k(this,"blockHash");k(this,"index");k(this,"hash");k(this,"type");k(this,"to");k(this,"from");k(this,"nonce");k(this,"gasLimit");k(this,"gasPrice");k(this,"maxPriorityFeePerGas");k(this,"maxFeePerGas");k(this,"maxFeePerBlobGas");k(this,"data");k(this,"value");k(this,"chainId");k(this,"signature");k(this,"accessList");k(this,"blobVersionedHashes");k(this,"authorizationList");B(this,Si);this.provider=e,this.blockNumber=t.blockNumber!=null?t.blockNumber:null,this.blockHash=t.blockHash!=null?t.blockHash:null,this.hash=t.hash,this.index=t.index,this.type=t.type,this.from=t.from,this.to=t.to||null,this.gasLimit=t.gasLimit,this.nonce=t.nonce,this.data=t.data,this.value=t.value,this.gasPrice=t.gasPrice,this.maxPriorityFeePerGas=t.maxPriorityFeePerGas!=null?t.maxPriorityFeePerGas:null,this.maxFeePerGas=t.maxFeePerGas!=null?t.maxFeePerGas:null,this.maxFeePerBlobGas=t.maxFeePerBlobGas!=null?t.maxFeePerBlobGas:null,this.chainId=t.chainId,this.signature=t.signature,this.accessList=t.accessList!=null?t.accessList:null,this.blobVersionedHashes=t.blobVersionedHashes!=null?t.blobVersionedHashes:null,this.authorizationList=t.authorizationList!=null?t.authorizationList:null,w(this,Si,-1)}toJSON(){const{blockNumber:t,blockHash:e,index:i,hash:o,type:c,to:l,from:h,nonce:f,data:m,signature:_,accessList:y,blobVersionedHashes:b}=this;return{_type:"TransactionResponse",accessList:y,blockNumber:t,blockHash:e,blobVersionedHashes:b,chainId:qt(this.chainId),data:m,from:h,gasLimit:qt(this.gasLimit),gasPrice:qt(this.gasPrice),hash:o,maxFeePerGas:qt(this.maxFeePerGas),maxPriorityFeePerGas:qt(this.maxPriorityFeePerGas),maxFeePerBlobGas:qt(this.maxFeePerBlobGas),nonce:f,signature:_,to:l,index:i,type:c,value:qt(this.value)}}async getBlock(){let t=this.blockNumber;if(t==null){const i=await this.getTransaction();i&&(t=i.blockNumber)}if(t==null)return null;const e=this.provider.getBlock(t);if(e==null)throw new Error("TODO");return e}async getTransaction(){return this.provider.getTransaction(this.hash)}async confirmations(){if(this.blockNumber==null){const{tx:e,blockNumber:i}=await Ae({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});return e==null||e.blockNumber==null?0:i-e.blockNumber+1}return await this.provider.getBlockNumber()-this.blockNumber+1}async wait(t,e){const i=t??1,o=e??0;let c=p(this,Si),l=-1,h=c===-1;const f=async()=>{if(h)return null;const{blockNumber:b,nonce:E}=await Ae({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(E<this.nonce){c=b;return}if(h)return null;const T=await this.getTransaction();if(!(T&&T.blockNumber!=null))for(l===-1&&(l=c-3,l<p(this,Si)&&(l=p(this,Si)));l<=b;){if(h)return null;const x=await this.provider.getBlock(l,!0);if(x==null)return;for(const O of x)if(O===this.hash)return;for(let O=0;O<x.length;O++){const A=await x.getTransaction(O);if(A.from===this.from&&A.nonce===this.nonce){if(h)return null;const G=await this.provider.getTransactionReceipt(A.hash);if(G==null||b-G.blockNumber+1<i)return;let F="replaced";A.data===this.data&&A.to===this.to&&A.value===this.value?F="repriced":A.data==="0x"&&A.from===A.to&&A.value===Fp&&(F="cancelled"),N(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:F==="replaced"||F==="cancelled",reason:F,replacement:A.replaceableTransaction(c),hash:A.hash,receipt:G})}}l++}},m=b=>{if(b==null||b.status!==0)return b;N(!1,"transaction execution reverted","CALL_EXCEPTION",{action:"sendTransaction",data:null,reason:null,invocation:null,revert:null,transaction:{to:b.to,from:b.from,data:""},receipt:b})},_=await this.provider.getTransactionReceipt(this.hash);if(i===0)return m(_);if(_){if(i===1||await _.confirmations()>=i)return m(_)}else if(await f(),i===0)return null;return await new Promise((b,E)=>{const T=[],x=()=>{T.forEach(A=>A())};if(T.push(()=>{h=!0}),o>0){const A=setTimeout(()=>{x(),E(Vt("wait for transaction timeout","TIMEOUT"))},o);T.push(()=>{clearTimeout(A)})}const O=async A=>{if(await A.confirmations()>=i){x();try{b(m(A))}catch(G){E(G)}}};if(T.push(()=>{this.provider.off(this.hash,O)}),this.provider.on(this.hash,O),c>=0){const A=async()=>{try{await f()}catch(G){if(de(G,"TRANSACTION_REPLACED")){x(),E(G);return}}h||this.provider.once("block",A)};T.push(()=>{this.provider.off("block",A)}),this.provider.once("block",A)}})}isMined(){return this.blockHash!=null}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}removedEvent(){return N(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),zp(this)}reorderedEvent(t){return N(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),N(!t||t.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),Up(this,t)}replaceableTransaction(t){P(Number.isInteger(t)&&t>=0,"invalid startBlock","startBlock",t);const e=new Ku(this,this.provider);return w(e,Si,t),e}};Si=new WeakMap;let Wo=Ku;function gw(r){return{orphan:"drop-block",hash:r.hash,number:r.number}}function Up(r,t){return{orphan:"reorder-transaction",tx:r,other:t}}function zp(r){return{orphan:"drop-transaction",tx:r}}function yw(r){return{orphan:"drop-log",log:{transactionHash:r.transactionHash,blockHash:r.blockHash,blockNumber:r.blockNumber,address:r.address,data:r.data,topics:Object.freeze(r.topics.slice()),index:r.index}}}class Fu extends fa{constructor(e,i,o){super(e,e.provider);k(this,"interface");k(this,"fragment");k(this,"args");const c=i.decodeEventLog(o,e.data,e.topics);st(this,{args:c,fragment:o,interface:i})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}class Hp extends fa{constructor(e,i){super(e,e.provider);k(this,"error");st(this,{error:i})}}var Zs;class _w extends Dp{constructor(e,i,o){super(o,i);B(this,Zs);w(this,Zs,e)}get logs(){return super.logs.map(e=>{const i=e.topics.length?p(this,Zs).getEvent(e.topics[0]):null;if(i)try{return new Fu(e,p(this,Zs),i)}catch(o){return new Hp(e,o)}return e})}}Zs=new WeakMap;var ia;class Du extends Wo{constructor(e,i,o){super(o,i);B(this,ia);w(this,ia,e)}async wait(e,i){const o=await super.wait(e,i);return o==null?null:new _w(p(this,ia),this.provider,o)}}ia=new WeakMap;class Gp extends pd{constructor(e,i,o,c){super(e,i,o);k(this,"log");st(this,{log:c})}async getBlock(){return await this.log.getBlock()}async getTransaction(){return await this.log.getTransaction()}async getTransactionReceipt(){return await this.log.getTransactionReceipt()}}class ww extends Gp{constructor(t,e,i,o,c){super(t,e,i,new Fu(c,t.interface,o));const l=t.interface.decodeEventLog(o,this.log.data,this.log.topics);st(this,{args:l,fragment:o})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}const Wf=BigInt(0);function Zp(r){return r&&typeof r.call=="function"}function Vp(r){return r&&typeof r.estimateGas=="function"}function Fc(r){return r&&typeof r.resolveName=="function"}function Qp(r){return r&&typeof r.sendTransaction=="function"}function Jp(r){if(r!=null){if(Fc(r))return r;if(r.provider)return r.provider}}var ra;class vw{constructor(t,e,i){B(this,ra);k(this,"fragment");if(st(this,{fragment:e}),e.inputs.length<i.length)throw new Error("too many arguments");const o=Hr(t.runner,"resolveName"),c=Fc(o)?o:null;w(this,ra,async function(){const l=await Promise.all(e.inputs.map((h,f)=>i[f]==null?null:h.walkAsync(i[f],(_,y)=>_==="address"?Array.isArray(y)?Promise.all(y.map(b=>Pe(b,c))):Pe(y,c):y)));return t.interface.encodeFilterTopics(e,l)}())}getTopicFilter(){return p(this,ra)}}ra=new WeakMap;function Hr(r,t){return r==null?null:typeof r[t]=="function"?r:r.provider&&typeof r.provider[t]=="function"?r.provider:null}function pr(r){return r==null?null:r.provider||null}async function Kp(r,t){const e=_e.dereference(r,"overrides");P(typeof e=="object","invalid overrides parameter","overrides",r);const i=mc(e);return P(i.to==null||(t||[]).indexOf("to")>=0,"cannot override to","overrides.to",i.to),P(i.data==null||(t||[]).indexOf("data")>=0,"cannot override data","overrides.data",i.data),i.from&&(i.from=i.from),i}async function bw(r,t,e){const i=Hr(r,"resolveName"),o=Fc(i)?i:null;return await Promise.all(t.map((c,l)=>c.walkAsync(e[l],(h,f)=>(f=_e.dereference(f,h),h==="address"?Pe(f,o):f))))}function Aw(r){const t=async function(l){const h=await Kp(l,["data"]);h.to=await r.getAddress(),h.from&&(h.from=await Pe(h.from,Jp(r.runner)));const f=r.interface,m=j(h.value||Wf,"overrides.value")===Wf,_=(h.data||"0x")==="0x";f.fallback&&!f.fallback.payable&&f.receive&&!_&&!m&&P(!1,"cannot send data to receive or send value to non-payable fallback","overrides",l),P(f.fallback||_,"cannot send data to receive-only contract","overrides.data",h.data);const y=f.receive||f.fallback&&f.fallback.payable;return P(y||m,"cannot send value to non-payable fallback","overrides.value",h.value),P(f.fallback||_,"cannot send data to receive-only contract","overrides.data",h.data),h},e=async function(l){const h=Hr(r.runner,"call");N(Zp(h),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const f=await t(l);try{return await h.call(f)}catch(m){throw xu(m)&&m.data?r.interface.makeError(m.data,f):m}},i=async function(l){const h=r.runner;N(Qp(h),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const f=await h.sendTransaction(await t(l)),m=pr(r.runner);return new Du(r.interface,m,f)},o=async function(l){const h=Hr(r.runner,"estimateGas");return N(Vp(h),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await h.estimateGas(await t(l))},c=async l=>await i(l);return st(c,{_contract:r,estimateGas:o,populateTransaction:t,send:i,staticCall:e}),c}function xw(r,t){const e=function(...m){const _=r.interface.getFunction(t,m);return N(_,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t,args:m}}),_},i=async function(...m){const _=e(...m);let y={};if(_.inputs.length+1===m.length&&(y=await Kp(m.pop()),y.from&&(y.from=await Pe(y.from,Jp(r.runner)))),_.inputs.length!==m.length)throw new Error("internal error: fragment inputs doesn't match arguments; should not happen");const b=await bw(r.runner,_.inputs,m);return Object.assign({},y,await Ae({to:r.getAddress(),data:r.interface.encodeFunctionData(_,b)}))},o=async function(...m){const _=await h(...m);return _.length===1?_[0]:_},c=async function(...m){const _=r.runner;N(Qp(_),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const y=await _.sendTransaction(await i(...m)),b=pr(r.runner);return new Du(r.interface,b,y)},l=async function(...m){const _=Hr(r.runner,"estimateGas");return N(Vp(_),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await _.estimateGas(await i(...m))},h=async function(...m){const _=Hr(r.runner,"call");N(Zp(_),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const y=await i(...m);let b="0x";try{b=await _.call(y)}catch(T){throw xu(T)&&T.data?r.interface.makeError(T.data,y):T}const E=e(...m);return r.interface.decodeFunctionResult(E,b)},f=async(...m)=>e(...m).constant?await o(...m):await c(...m);return st(f,{name:r.interface.getFunctionName(t),_contract:r,_key:t,getFragment:e,estimateGas:l,populateTransaction:i,send:c,staticCall:o,staticCallResult:h}),Object.defineProperty(f,"fragment",{configurable:!1,enumerable:!0,get:()=>{const m=r.interface.getFunction(t);return N(m,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t}}),m}}),f}function Ew(r,t){const e=function(...o){const c=r.interface.getEvent(t,o);return N(c,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t,args:o}}),c},i=function(...o){return new vw(r,e(...o),o)};return st(i,{name:r.interface.getEventName(t),_contract:r,_key:t,getFragment:e}),Object.defineProperty(i,"fragment",{configurable:!1,enumerable:!0,get:()=>{const o=r.interface.getEvent(t);return N(o,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t}}),o}}),i}const gc=Symbol.for("_ethersInternal_contract"),Wp=new WeakMap;function Pw(r,t){Wp.set(r[gc],t)}function De(r){return Wp.get(r[gc])}function Tw(r){return r&&typeof r=="object"&&"getTopicFilter"in r&&typeof r.getTopicFilter=="function"&&r.fragment}async function Uu(r,t){let e,i=null;if(Array.isArray(t)){const c=function(l){if(zt(l,32))return l;const h=r.interface.getEvent(l);return P(h,"unknown fragment","name",l),h.topicHash};e=t.map(l=>l==null?null:Array.isArray(l)?l.map(c):c(l))}else t==="*"?e=[null]:typeof t=="string"?zt(t,32)?e=[t]:(i=r.interface.getEvent(t),P(i,"unknown fragment","event",t),e=[i.topicHash]):Tw(t)?e=await t.getTopicFilter():"fragment"in t?(i=t.fragment,e=[i.topicHash]):P(!1,"unknown event name","event",t);e=e.map(c=>{if(c==null)return null;if(Array.isArray(c)){const l=Array.from(new Set(c.map(h=>h.toLowerCase())).values());return l.length===1?l[0]:(l.sort(),l)}return c.toLowerCase()});const o=e.map(c=>c==null?"null":Array.isArray(c)?c.join("|"):c).join("&");return{fragment:i,tag:o,topics:e}}async function So(r,t){const{subs:e}=De(r);return e.get((await Uu(r,t)).tag)||null}async function jf(r,t,e){const i=pr(r.runner);N(i,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:t});const{fragment:o,tag:c,topics:l}=await Uu(r,e),{addr:h,subs:f}=De(r);let m=f.get(c);if(!m){const y={address:h||r,topics:l},b=O=>{let A=o;if(A==null)try{A=r.interface.getEvent(O.topics[0])}catch{}if(A){const G=A,F=o?r.interface.decodeEventLog(o,O.data,O.topics):[];lu(r,e,F,rt=>new ww(r,rt,e,G,O))}else lu(r,e,[],G=>new Gp(r,G,e,O))};let E=[];m={tag:c,listeners:[],start:()=>{E.length||E.push(i.on(y,b))},stop:async()=>{if(E.length==0)return;let O=E;E=[],await Promise.all(O),i.off(y,b)}},f.set(c,m)}return m}let cu=Promise.resolve();async function Lw(r,t,e,i){await cu;const o=await So(r,t);if(!o)return!1;const c=o.listeners.length;return o.listeners=o.listeners.filter(({listener:l,once:h})=>{const f=Array.from(e);i&&f.push(i(h?null:l));try{l.call(r,...f)}catch{}return!h}),o.listeners.length===0&&(o.stop(),De(r).subs.delete(o.tag)),c>0}async function lu(r,t,e,i){try{await cu}catch{}const o=Lw(r,t,e,i);return cu=o,await o}const Za=["then"];var ld;ld=gc;const Do=class Do{constructor(t,e,i,o){k(this,"target");k(this,"interface");k(this,"runner");k(this,"filters");k(this,ld);k(this,"fallback");P(typeof t=="string"||$d(t),"invalid value for Contract target","target",t),i==null&&(i=null);const c=au.from(e);st(this,{target:t,runner:i,interface:c}),Object.defineProperty(this,gc,{value:{}});let l,h=null,f=null;if(o){const y=pr(i);f=new Du(this.interface,y,o)}let m=new Map;if(typeof t=="string")if(zt(t))h=t,l=Promise.resolve(t);else{const y=Hr(i,"resolveName");if(!Fc(y))throw Vt("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});l=y.resolveName(t).then(b=>{if(b==null)throw Vt("an ENS name used for a contract target must be correctly configured","UNCONFIGURED_NAME",{value:t});return De(this).addr=b,b})}else l=t.getAddress().then(y=>{if(y==null)throw new Error("TODO");return De(this).addr=y,y});Pw(this,{addrPromise:l,addr:h,deployTx:f,subs:m});const _=new Proxy({},{get:(y,b,E)=>{if(typeof b=="symbol"||Za.indexOf(b)>=0)return Reflect.get(y,b,E);try{return this.getEvent(b)}catch(T){if(!de(T,"INVALID_ARGUMENT")||T.argument!=="key")throw T}},has:(y,b)=>Za.indexOf(b)>=0?Reflect.has(y,b):Reflect.has(y,b)||this.interface.hasEvent(String(b))});return st(this,{filters:_}),st(this,{fallback:c.receive||c.fallback?Aw(this):null}),new Proxy(this,{get:(y,b,E)=>{if(typeof b=="symbol"||b in y||Za.indexOf(b)>=0)return Reflect.get(y,b,E);try{return y.getFunction(b)}catch(T){if(!de(T,"INVALID_ARGUMENT")||T.argument!=="key")throw T}},has:(y,b)=>typeof b=="symbol"||b in y||Za.indexOf(b)>=0?Reflect.has(y,b):y.interface.hasFunction(b)})}connect(t){return new Do(this.target,this.interface,t)}attach(t){return new Do(t,this.interface,this.runner)}async getAddress(){return await De(this).addrPromise}async getDeployedCode(){const t=pr(this.runner);N(t,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});const e=await t.getCode(await this.getAddress());return e==="0x"?null:e}async waitForDeployment(){const t=this.deploymentTransaction();if(t)return await t.wait(),this;if(await this.getDeployedCode()!=null)return this;const i=pr(this.runner);return N(i!=null,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise((o,c)=>{const l=async()=>{try{if(await this.getDeployedCode()!=null)return o(this);i.once("block",l)}catch(h){c(h)}};l()})}deploymentTransaction(){return De(this).deployTx}getFunction(t){return typeof t!="string"&&(t=t.format()),xw(this,t)}getEvent(t){return typeof t!="string"&&(t=t.format()),Ew(this,t)}async queryTransaction(t){throw new Error("@TODO")}async queryFilter(t,e,i){e==null&&(e=0),i==null&&(i="latest");const{addr:o,addrPromise:c}=De(this),l=o||await c,{fragment:h,topics:f}=await Uu(this,t),m={address:l,topics:f,fromBlock:e,toBlock:i},_=pr(this.runner);return N(_,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(await _.getLogs(m)).map(y=>{let b=h;if(b==null)try{b=this.interface.getEvent(y.topics[0])}catch{}if(b)try{return new Fu(y,this.interface,b)}catch(E){return new Hp(y,E)}return new fa(y,_)})}async on(t,e){const i=await jf(this,"on",t);return i.listeners.push({listener:e,once:!1}),i.start(),this}async once(t,e){const i=await jf(this,"once",t);return i.listeners.push({listener:e,once:!0}),i.start(),this}async emit(t,...e){return await lu(this,t,e,null)}async listenerCount(t){if(t){const o=await So(this,t);return o?o.listeners.length:0}const{subs:e}=De(this);let i=0;for(const{listeners:o}of e.values())i+=o.length;return i}async listeners(t){if(t){const o=await So(this,t);return o?o.listeners.map(({listener:c})=>c):[]}const{subs:e}=De(this);let i=[];for(const{listeners:o}of e.values())i=i.concat(o.map(({listener:c})=>c));return i}async off(t,e){const i=await So(this,t);if(!i)return this;if(e){const o=i.listeners.map(({listener:c})=>c).indexOf(e);o>=0&&i.listeners.splice(o,1)}return(e==null||i.listeners.length===0)&&(i.stop(),De(this).subs.delete(i.tag)),this}async removeAllListeners(t){if(t){const e=await So(this,t);if(!e)return this;e.stop(),De(this).subs.delete(e.tag)}else{const{subs:e}=De(this);for(const{tag:i,stop:o}of e.values())o(),e.delete(i)}return this}async addListener(t,e){return await this.on(t,e)}async removeListener(t,e){return await this.off(t,e)}static buildClass(t){class e extends Do{constructor(o,c=null){super(o,t,c)}}return e}static from(t,e,i){return i==null&&(i=null),new this(t,e,i)}};let uu=Do;function Cw(){return uu}class Fr extends Cw(){}function Ll(r){return r.match(/^ipfs:\/\/ipfs\//i)?r=r.substring(12):r.match(/^ipfs:\/\//i)?r=r.substring(7):P(!1,"unsupported IPFS format","link",r),`https://gateway.ipfs.io/ipfs/${r}`}class kw{constructor(t){k(this,"name");st(this,{name:t})}connect(t){return this}supportsCoinType(t){return!1}async encodeAddress(t,e){throw new Error("unsupported coin")}async decodeAddress(t,e){throw new Error("unsupported coin")}}const jp=new RegExp("^(ipfs)://(.*)$","i"),Yf=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),jp,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];var Ni,Lr,Mi,as,Ac,Yp;const hs=class hs{constructor(t,e,i){B(this,Mi);k(this,"provider");k(this,"address");k(this,"name");B(this,Ni);B(this,Lr);st(this,{provider:t,address:e,name:i}),w(this,Ni,null),w(this,Lr,new Fr(e,["function supportsInterface(bytes4) view returns (bool)","function resolve(bytes, bytes) view returns (bytes)","function addr(bytes32) view returns (address)","function addr(bytes32, uint) view returns (bytes)","function text(bytes32, string) view returns (string)","function contenthash(bytes32) view returns (bytes)"],t))}async supportsWildcard(){return p(this,Ni)==null&&w(this,Ni,(async()=>{try{return await p(this,Lr).supportsInterface("0x9061b923")}catch(t){if(de(t,"CALL_EXCEPTION"))return!1;throw w(this,Ni,null),t}})()),await p(this,Ni)}async getAddress(t){if(t==null&&(t=60),t===60)try{const c=await R(this,Mi,as).call(this,"addr(bytes32)");return c==null||c===zo?null:c}catch(c){if(de(c,"CALL_EXCEPTION"))return null;throw c}if(t>=0&&t<2147483648){let c=t+2147483648;const l=await R(this,Mi,as).call(this,"addr(bytes32,uint)",[c]);if(zt(l,20))return Nt(l)}let e=null;for(const c of this.provider.plugins)if(c instanceof kw&&c.supportsCoinType(t)){e=c;break}if(e==null)return null;const i=await R(this,Mi,as).call(this,"addr(bytes32,uint)",[t]);if(i==null||i==="0x")return null;const o=await e.decodeAddress(t,i);if(o!=null)return o;N(!1,"invalid coin data","UNSUPPORTED_OPERATION",{operation:`getAddress(${t})`,info:{coinType:t,data:i}})}async getText(t){const e=await R(this,Mi,as).call(this,"text(bytes32,string)",[t]);return e==null||e==="0x"?null:e}async getContentHash(){const t=await R(this,Mi,as).call(this,"contenthash(bytes32)");if(t==null||t==="0x")return null;const e=t.match(/^0x(e3010170|e5010172)(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(e){const o=e[1]==="e3010170"?"ipfs":"ipns",c=parseInt(e[4],16);if(e[5].length===c*2)return`${o}://${Og("0x"+e[2])}`}const i=t.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(i&&i[1].length===64)return`bzz://${i[1]}`;N(!1,"invalid or unsupported content hash data","UNSUPPORTED_OPERATION",{operation:"getContentHash()",info:{data:t}})}async getAvatar(){return(await this._getAvatar()).url}async _getAvatar(){const t=[{type:"name",value:this.name}];try{const e=await this.getText("avatar");if(e==null)return t.push({type:"!avatar",value:""}),{url:null,linkage:t};t.push({type:"avatar",value:e});for(let i=0;i<Yf.length;i++){const o=e.match(Yf[i]);if(o==null)continue;const c=o[1].toLowerCase();switch(c){case"https":case"data":return t.push({type:"url",value:e}),{linkage:t,url:e};case"ipfs":{const l=Ll(e);return t.push({type:"ipfs",value:e}),t.push({type:"url",value:l}),{linkage:t,url:l}}case"erc721":case"erc1155":{const l=c==="erc721"?"tokenURI(uint256)":"uri(uint256)";t.push({type:c,value:e});const h=await this.getAddress();if(h==null)return t.push({type:"!owner",value:""}),{url:null,linkage:t};const f=(o[2]||"").split("/");if(f.length!==2)return t.push({type:`!${c}caip`,value:o[2]||""}),{url:null,linkage:t};const m=f[1],_=new Fr(f[0],["function tokenURI(uint) view returns (string)","function ownerOf(uint) view returns (address)","function uri(uint) view returns (string)","function balanceOf(address, uint256) view returns (uint)"],this.provider);if(c==="erc721"){const x=await _.ownerOf(m);if(h!==x)return t.push({type:"!owner",value:x}),{url:null,linkage:t};t.push({type:"owner",value:x})}else if(c==="erc1155"){const x=await _.balanceOf(h,m);if(!x)return t.push({type:"!balance",value:"0"}),{url:null,linkage:t};t.push({type:"balance",value:x.toString()})}let y=await _[l](m);if(y==null||y==="0x")return t.push({type:"!metadata-url",value:""}),{url:null,linkage:t};t.push({type:"metadata-url-base",value:y}),c==="erc1155"&&(y=y.replace("{id}",Ji(m,32).substring(2)),t.push({type:"metadata-url-expanded",value:y})),y.match(/^ipfs:/i)&&(y=Ll(y)),t.push({type:"metadata-url",value:y});let b={};const E=await new Ki(y).send();E.assertOk();try{b=E.bodyJson}catch{try{t.push({type:"!metadata",value:E.bodyText})}catch{const A=E.body;return A&&t.push({type:"!metadata",value:Z(A)}),{url:null,linkage:t}}return{url:null,linkage:t}}if(!b)return t.push({type:"!metadata",value:""}),{url:null,linkage:t};t.push({type:"metadata",value:JSON.stringify(b)});let T=b.image;if(typeof T!="string")return t.push({type:"!imageUrl",value:""}),{url:null,linkage:t};if(!T.match(/^(https:\/\/|data:)/i)){if(T.match(jp)==null)return t.push({type:"!imageUrl-ipfs",value:T}),{url:null,linkage:t};t.push({type:"imageUrl-ipfs",value:T}),T=Ll(T)}return t.push({type:"url",value:T}),{linkage:t,url:T}}}}}catch{}return{linkage:t,url:null}}static async getEnsAddress(t){const e=await t.getNetwork(),i=e.getPlugin("org.ethers.plugins.network.Ens");return N(i,"network does not support ENS","UNSUPPORTED_OPERATION",{operation:"getEnsAddress",info:{network:e}}),i.address}static async fromName(t,e){var o;let i=e;for(;;){if(i===""||i==="."||e!=="eth"&&i==="eth")return null;const c=await R(o=hs,Ac,Yp).call(o,t,i);if(c!=null){const l=new hs(t,c,e);return i!==e&&!await l.supportsWildcard()?null:l}i=i.split(".").slice(1).join(".")}}};Ni=new WeakMap,Lr=new WeakMap,Mi=new WeakSet,as=async function(t,e){e=(e||[]).slice();const i=p(this,Lr).interface;e.unshift(su(this.name));let o=null;await this.supportsWildcard()&&(o=i.getFunction(t),N(o,"missing fragment","UNKNOWN_ERROR",{info:{funcName:t}}),e=[V_(this.name,255),i.encodeFunctionData(o,e)],t="resolve(bytes,bytes)"),e.push({enableCcipRead:!0});try{const c=await p(this,Lr)[t](...e);return o?i.decodeFunctionResult(o,c)[0]:c}catch(c){if(!de(c,"CALL_EXCEPTION"))throw c}return null},Ac=new WeakSet,Yp=async function(t,e){const i=await hs.getEnsAddress(t);try{const c=await new Fr(i,["function resolver(bytes32) view returns (address)"],t).resolver(su(e),{enableCcipRead:!0});return c===zo?null:c}catch(o){throw o}return null},B(hs,Ac);let yc=hs;const qf=BigInt(0);function Et(r,t){return function(e){return e==null?t:r(e)}}function jo(r,t){return e=>{if(t&&e==null)return null;if(!Array.isArray(e))throw new Error("not an array");return e.map(i=>r(i))}}function da(r,t){return e=>{const i={};for(const o in r){let c=o;if(t&&o in t&&!(c in e)){for(const l of t[o])if(l in e){c=l;break}}try{const l=r[o](e[c]);l!==void 0&&(i[o]=l)}catch(l){const h=l instanceof Error?l.message:"not-an-error";N(!1,`invalid value for value.${o} (${h})`,"BAD_DATA",{value:e})}}return i}}function Iw(r){switch(r){case!0:case"true":return!0;case!1:case"false":return!1}P(!1,`invalid boolean; ${JSON.stringify(r)}`,"value",r)}function ho(r){return P(zt(r,!0),"invalid data","value",r),r}function fe(r){return P(zt(r,32),"invalid hash","value",r),r}const Bw=da({address:Nt,blockHash:fe,blockNumber:_t,data:ho,index:_t,removed:Et(Iw,!1),topics:jo(fe),transactionHash:fe,transactionIndex:_t},{index:["logIndex"]});function Ow(r){return Bw(r)}const Sw=da({hash:Et(fe),parentHash:fe,parentBeaconBlockRoot:Et(fe,null),number:_t,timestamp:_t,nonce:Et(ho),difficulty:j,gasLimit:j,gasUsed:j,stateRoot:Et(fe,null),receiptsRoot:Et(fe,null),blobGasUsed:Et(j,null),excessBlobGas:Et(j,null),miner:Et(Nt),prevRandao:Et(fe,null),extraData:ho,baseFeePerGas:Et(j)},{prevRandao:["mixHash"]});function Nw(r){const t=Sw(r);return t.transactions=r.transactions.map(e=>typeof e=="string"?e:qp(e)),t}const Mw=da({transactionIndex:_t,blockNumber:_t,transactionHash:fe,address:Nt,topics:jo(fe),data:ho,index:_t,blockHash:fe},{index:["logIndex"]});function Rw(r){return Mw(r)}const Fw=da({to:Et(Nt,null),from:Et(Nt,null),contractAddress:Et(Nt,null),index:_t,root:Et(Z),gasUsed:j,blobGasUsed:Et(j,null),logsBloom:Et(ho),blockHash:fe,hash:fe,logs:jo(Rw),blockNumber:_t,cumulativeGasUsed:j,effectiveGasPrice:Et(j),blobGasPrice:Et(j,null),status:Et(_t),type:Et(_t,0)},{effectiveGasPrice:["gasPrice"],hash:["transactionHash"],index:["transactionIndex"]});function Dw(r){return Fw(r)}function qp(r){r.to&&j(r.to)===qf&&(r.to="0x0000000000000000000000000000000000000000");const t=da({hash:fe,index:Et(_t,void 0),type:e=>e==="0x"||e==null?0:_t(e),accessList:Et(Zr,null),blobVersionedHashes:Et(jo(fe,!0),null),authorizationList:Et(jo(e=>{let i;if(e.signature)i=e.signature;else{let o=e.yParity;o==="0x1b"?o=0:o==="0x1c"&&(o=1),i=Object.assign({},e,{yParity:o})}return{address:Nt(e.address),chainId:j(e.chainId),nonce:j(e.nonce),signature:Se.from(i)}},!1),null),blockHash:Et(fe,null),blockNumber:Et(_t,null),transactionIndex:Et(_t,null),from:Nt,gasPrice:Et(j),maxPriorityFeePerGas:Et(j),maxFeePerGas:Et(j),maxFeePerBlobGas:Et(j,null),gasLimit:j,to:Et(Nt,null),value:j,nonce:_t,data:ho,creates:Et(Nt,null),chainId:Et(j,null)},{data:["input"],gasLimit:["gas"],index:["transactionIndex"]})(r);if(t.to==null&&t.creates==null&&(t.creates=T0(t)),(r.type===1||r.type===2)&&r.accessList==null&&(t.accessList=[]),r.signature?t.signature=Se.from(r.signature):t.signature=Se.from(r),t.chainId==null){const e=t.signature.legacyChainId;e!=null&&(t.chainId=e)}return t.blockHash&&j(t.blockHash)===qf&&(t.blockHash=null),t}const Uw="0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e";class pa{constructor(t){k(this,"name");st(this,{name:t})}clone(){return new pa(this.name)}}class Dc extends pa{constructor(e,i){e==null&&(e=0);super(`org.ethers.network.plugins.GasCost#${e||0}`);k(this,"effectiveBlock");k(this,"txBase");k(this,"txCreate");k(this,"txDataZero");k(this,"txDataNonzero");k(this,"txAccessListStorageKey");k(this,"txAccessListAddress");const o={effectiveBlock:e};function c(l,h){let f=(i||{})[l];f==null&&(f=h),P(typeof f=="number",`invalud value for ${l}`,"costs",i),o[l]=f}c("txBase",21e3),c("txCreate",32e3),c("txDataZero",4),c("txDataNonzero",16),c("txAccessListStorageKey",1900),c("txAccessListAddress",2400),st(this,o)}clone(){return new Dc(this.effectiveBlock,this)}}class Uc extends pa{constructor(e,i){super("org.ethers.plugins.network.Ens");k(this,"address");k(this,"targetNetwork");st(this,{address:e||Uw,targetNetwork:i??1})}clone(){return new Uc(this.address,this.targetNetwork)}}var sa,oa;class zw extends pa{constructor(e,i){super("org.ethers.plugins.network.FetchUrlFeeDataPlugin");B(this,sa);B(this,oa);w(this,sa,e),w(this,oa,i)}get url(){return p(this,sa)}get processFunc(){return p(this,oa)}clone(){return this}}sa=new WeakMap,oa=new WeakMap;const Cl=new Map;var Vs,Qs,Ri;const fs=class fs{constructor(t,e){B(this,Vs);B(this,Qs);B(this,Ri);w(this,Vs,t),w(this,Qs,j(e)),w(this,Ri,new Map)}toJSON(){return{name:this.name,chainId:String(this.chainId)}}get name(){return p(this,Vs)}set name(t){w(this,Vs,t)}get chainId(){return p(this,Qs)}set chainId(t){w(this,Qs,j(t,"chainId"))}matches(t){if(t==null)return!1;if(typeof t=="string"){try{return this.chainId===j(t)}catch{}return this.name===t}if(typeof t=="number"||typeof t=="bigint"){try{return this.chainId===j(t)}catch{}return!1}if(typeof t=="object"){if(t.chainId!=null){try{return this.chainId===j(t.chainId)}catch{}return!1}return t.name!=null?this.name===t.name:!1}return!1}get plugins(){return Array.from(p(this,Ri).values())}attachPlugin(t){if(p(this,Ri).get(t.name))throw new Error(`cannot replace existing plugin: ${t.name} `);return p(this,Ri).set(t.name,t.clone()),this}getPlugin(t){return p(this,Ri).get(t)||null}getPlugins(t){return this.plugins.filter(e=>e.name.split("#")[0]===t)}clone(){const t=new fs(this.name,this.chainId);return this.plugins.forEach(e=>{t.attachPlugin(e.clone())}),t}computeIntrinsicGas(t){const e=this.getPlugin("org.ethers.plugins.network.GasCost")||new Dc;let i=e.txBase;if(t.to==null&&(i+=e.txCreate),t.data)for(let o=2;o<t.data.length;o+=2)t.data.substring(o,o+2)==="00"?i+=e.txDataZero:i+=e.txDataNonzero;if(t.accessList){const o=Zr(t.accessList);for(const c in o)i+=e.txAccessListAddress+e.txAccessListStorageKey*o[c].storageKeys.length}return i}static from(t){if(Hw(),t==null)return fs.from("mainnet");if(typeof t=="number"&&(t=BigInt(t)),typeof t=="string"||typeof t=="bigint"){const e=Cl.get(t);if(e)return e();if(typeof t=="bigint")return new fs("unknown",t);P(!1,"unknown network","network",t)}if(typeof t.clone=="function")return t.clone();if(typeof t=="object"){P(typeof t.name=="string"&&typeof t.chainId=="number","invalid network object name or chainId","network",t);const e=new fs(t.name,t.chainId);return(t.ensAddress||t.ensNetwork!=null)&&e.attachPlugin(new Uc(t.ensAddress,t.ensNetwork)),e}P(!1,"invalid network","network",t)}static register(t,e){typeof t=="number"&&(t=BigInt(t));const i=Cl.get(t);i&&P(!1,`conflicting network for ${JSON.stringify(i.name)}`,"nameOrChainId",t),Cl.set(t,e)}};Vs=new WeakMap,Qs=new WeakMap,Ri=new WeakMap;let Fn=fs;function Xf(r,t){const e=String(r);if(!e.match(/^[0-9.]+$/))throw new Error(`invalid gwei value: ${r}`);const i=e.split(".");if(i.length===1&&i.push(""),i.length!==2)throw new Error(`invalid gwei value: ${r}`);for(;i[1].length<t;)i[1]+="0";if(i[1].length>9){let o=BigInt(i[1].substring(0,9));i[1].substring(9).match(/^0+$/)||o++,i[1]=o.toString()}return BigInt(i[0]+i[1])}function $f(r){return new zw(r,async(t,e,i)=>{i.setHeader("User-Agent","ethers");let o;try{const[c,l]=await Promise.all([i.send(),t()]);o=c;const h=o.bodyJson.standard;return{gasPrice:l.gasPrice,maxFeePerGas:Xf(h.maxFee,9),maxPriorityFeePerGas:Xf(h.maxPriorityFee,9)}}catch(c){N(!1,`error encountered with polygon gas station (${JSON.stringify(i.url)})`,"SERVER_ERROR",{request:i,response:o,error:c})}})}let td=!1;function Hw(){if(td)return;td=!0;function r(t,e,i){const o=function(){const c=new Fn(t,e);return i.ensNetwork!=null&&c.attachPlugin(new Uc(null,i.ensNetwork)),c.attachPlugin(new Dc),(i.plugins||[]).forEach(l=>{c.attachPlugin(l)}),c};Fn.register(t,o),Fn.register(e,o),i.altNames&&i.altNames.forEach(c=>{Fn.register(c,o)})}r("mainnet",1,{ensNetwork:1,altNames:["homestead"]}),r("ropsten",3,{ensNetwork:3}),r("rinkeby",4,{ensNetwork:4}),r("goerli",5,{ensNetwork:5}),r("kovan",42,{ensNetwork:42}),r("sepolia",11155111,{ensNetwork:11155111}),r("holesky",17e3,{ensNetwork:17e3}),r("classic",61,{}),r("classicKotti",6,{}),r("arbitrum",42161,{ensNetwork:1}),r("arbitrum-goerli",421613,{}),r("arbitrum-sepolia",421614,{}),r("base",8453,{ensNetwork:1}),r("base-goerli",84531,{}),r("base-sepolia",84532,{}),r("bnb",56,{ensNetwork:1}),r("bnbt",97,{}),r("linea",59144,{ensNetwork:1}),r("linea-goerli",59140,{}),r("linea-sepolia",59141,{}),r("matic",137,{ensNetwork:1,plugins:[$f("https://gasstation.polygon.technology/v2")]}),r("matic-amoy",80002,{}),r("matic-mumbai",80001,{altNames:["maticMumbai","maticmum"],plugins:[$f("https://gasstation-testnet.polygon.technology/v2")]}),r("optimism",10,{ensNetwork:1,plugins:[]}),r("optimism-goerli",420,{}),r("optimism-sepolia",11155420,{}),r("xdai",100,{ensNetwork:1})}function hu(r){return JSON.parse(JSON.stringify(r))}var ri,Ye,Fi,On,Js,$a;class Gw{constructor(t){B(this,Js);B(this,ri);B(this,Ye);B(this,Fi);B(this,On);w(this,ri,t),w(this,Ye,null),w(this,Fi,4e3),w(this,On,-2)}get pollingInterval(){return p(this,Fi)}set pollingInterval(t){w(this,Fi,t)}start(){p(this,Ye)||(w(this,Ye,p(this,ri)._setTimeout(R(this,Js,$a).bind(this),p(this,Fi))),R(this,Js,$a).call(this))}stop(){p(this,Ye)&&(p(this,ri)._clearTimeout(p(this,Ye)),w(this,Ye,null))}pause(t){this.stop(),t&&w(this,On,-2)}resume(){this.start()}}ri=new WeakMap,Ye=new WeakMap,Fi=new WeakMap,On=new WeakMap,Js=new WeakSet,$a=async function(){try{const t=await p(this,ri).getBlockNumber();if(p(this,On)===-2){w(this,On,t);return}if(t!==p(this,On)){for(let e=p(this,On)+1;e<=t;e++){if(p(this,Ye)==null)return;await p(this,ri).emit("block",e)}w(this,On,t)}}catch{}p(this,Ye)!=null&&w(this,Ye,p(this,ri)._setTimeout(R(this,Js,$a).bind(this),p(this,Fi)))};var Cr,kr,Di;class zu{constructor(t){B(this,Cr);B(this,kr);B(this,Di);w(this,Cr,t),w(this,Di,!1),w(this,kr,e=>{this._poll(e,p(this,Cr))})}async _poll(t,e){throw new Error("sub-classes must override this")}start(){p(this,Di)||(w(this,Di,!0),p(this,kr).call(this,-2),p(this,Cr).on("block",p(this,kr)))}stop(){p(this,Di)&&(w(this,Di,!1),p(this,Cr).off("block",p(this,kr)))}pause(t){this.stop()}resume(){this.start()}}Cr=new WeakMap,kr=new WeakMap,Di=new WeakMap;var Ks,si;class Zw extends zu{constructor(e,i){super(e);B(this,Ks);B(this,si);w(this,Ks,i),w(this,si,-2)}pause(e){e&&w(this,si,-2),super.pause(e)}async _poll(e,i){const o=await i.getBlock(p(this,Ks));o!=null&&(p(this,si)===-2?w(this,si,o.number):o.number>p(this,si)&&(i.emit(p(this,Ks),o.number),w(this,si,o.number)))}}Ks=new WeakMap,si=new WeakMap;var xc;class Vw extends zu{constructor(e,i){super(e);B(this,xc);w(this,xc,hu(i))}async _poll(e,i){throw new Error("@TODO")}}xc=new WeakMap;var Ws;class Qw extends zu{constructor(e,i){super(e);B(this,Ws);w(this,Ws,i)}async _poll(e,i){const o=await i.getTransactionReceipt(p(this,Ws));o&&i.emit(p(this,Ws),o)}}Ws=new WeakMap;var oi,js,Ys,Ui,qe,Ec,Xp;class Hu{constructor(t,e){B(this,Ec);B(this,oi);B(this,js);B(this,Ys);B(this,Ui);B(this,qe);w(this,oi,t),w(this,js,hu(e)),w(this,Ys,R(this,Ec,Xp).bind(this)),w(this,Ui,!1),w(this,qe,-2)}start(){p(this,Ui)||(w(this,Ui,!0),p(this,qe)===-2&&p(this,oi).getBlockNumber().then(t=>{w(this,qe,t)}),p(this,oi).on("block",p(this,Ys)))}stop(){p(this,Ui)&&(w(this,Ui,!1),p(this,oi).off("block",p(this,Ys)))}pause(t){this.stop(),t&&w(this,qe,-2)}resume(){this.start()}}oi=new WeakMap,js=new WeakMap,Ys=new WeakMap,Ui=new WeakMap,qe=new WeakMap,Ec=new WeakSet,Xp=async function(t){if(p(this,qe)===-2)return;const e=hu(p(this,js));e.fromBlock=p(this,qe)+1,e.toBlock=t;const i=await p(this,oi).getLogs(e);if(i.length===0){p(this,qe)<t-60&&w(this,qe,t-60);return}for(const o of i)p(this,oi).emit(p(this,js),o),w(this,qe,o.blockNumber)};const Jw=BigInt(2),Kw=10;function Va(r){return r&&typeof r.then=="function"}function tc(r,t){return r+":"+JSON.stringify(t,(e,i)=>{if(i==null)return"null";if(typeof i=="bigint")return`bigint:${i.toString()}`;if(typeof i=="string")return i.toLowerCase();if(typeof i=="object"&&!Array.isArray(i)){const o=Object.keys(i);return o.sort(),o.reduce((c,l)=>(c[l]=i[l],c),{})}return i})}class $p{constructor(t){k(this,"name");st(this,{name:t})}start(){}stop(){}pause(t){}resume(){}}function Ww(r){return JSON.parse(JSON.stringify(r))}function fu(r){return r=Array.from(new Set(r).values()),r.sort(),r}async function kl(r,t){if(r==null)throw new Error("invalid event");if(Array.isArray(r)&&(r={topics:r}),typeof r=="string")switch(r){case"block":case"debug":case"error":case"finalized":case"network":case"pending":case"safe":return{type:r,tag:r}}if(zt(r,32)){const e=r.toLowerCase();return{type:"transaction",tag:tc("tx",{hash:e}),hash:e}}if(r.orphan){const e=r;return{type:"orphan",tag:tc("orphan",e),filter:Ww(e)}}if(r.address||r.topics){const e=r,i={topics:(e.topics||[]).map(o=>o==null?null:Array.isArray(o)?fu(o.map(c=>c.toLowerCase())):o.toLowerCase())};if(e.address){const o=[],c=[],l=h=>{zt(h)?o.push(h):c.push((async()=>{o.push(await Pe(h,t))})())};Array.isArray(e.address)?e.address.forEach(l):l(e.address),c.length&&await Promise.all(c),i.address=fu(o.map(h=>h.toLowerCase()))}return{filter:i,tag:tc("event",i),type:"event"}}P(!1,"unknown ProviderEvent","event",r)}function Il(){return new Date().getTime()}const jw={cacheTimeout:250,pollingInterval:4e3};var ge,zi,ye,qs,Ge,Ir,Hi,ai,aa,Xe,Xs,$s,At,Fe,du,pu,No,mu,Mo,ec;class Yw{constructor(t,e){B(this,At);B(this,ge);B(this,zi);B(this,ye);B(this,qs);B(this,Ge);B(this,Ir);B(this,Hi);B(this,ai);B(this,aa);B(this,Xe);B(this,Xs);B(this,$s);if(w(this,$s,Object.assign({},jw,e||{})),t==="any")w(this,Ir,!0),w(this,Ge,null);else if(t){const i=Fn.from(t);w(this,Ir,!1),w(this,Ge,Promise.resolve(i)),setTimeout(()=>{this.emit("network",i,null)},0)}else w(this,Ir,!1),w(this,Ge,null);w(this,ai,-1),w(this,Hi,new Map),w(this,ge,new Map),w(this,zi,new Map),w(this,ye,null),w(this,qs,!1),w(this,aa,1),w(this,Xe,new Map),w(this,Xs,!1)}get pollingInterval(){return p(this,$s).pollingInterval}get provider(){return this}get plugins(){return Array.from(p(this,zi).values())}attachPlugin(t){if(p(this,zi).get(t.name))throw new Error(`cannot replace existing plugin: ${t.name} `);return p(this,zi).set(t.name,t.connect(this)),this}getPlugin(t){return p(this,zi).get(t)||null}get disableCcipRead(){return p(this,Xs)}set disableCcipRead(t){w(this,Xs,!!t)}async ccipReadFetch(t,e,i){if(this.disableCcipRead||i.length===0||t.to==null)return null;const o=t.to.toLowerCase(),c=e.toLowerCase(),l=[];for(let h=0;h<i.length;h++){const f=i[h],m=f.replace("{sender}",o).replace("{data}",c),_=new Ki(m);f.indexOf("{data}")===-1&&(_.body={data:c,sender:o}),this.emit("debug",{action:"sendCcipReadFetchRequest",request:_,index:h,urls:i});let y="unknown error",b;try{b=await _.send()}catch(E){l.push(E.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:_,result:{error:E}});continue}try{const E=b.bodyJson;if(E.data)return this.emit("debug",{action:"receiveCcipReadFetchResult",request:_,result:E}),E.data;E.message&&(y=E.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:_,result:E})}catch{}N(b.statusCode<400||b.statusCode>=500,`response not found during CCIP fetch: ${y}`,"OFFCHAIN_FAULT",{reason:"404_MISSING_RESOURCE",transaction:t,info:{url:f,errorMessage:y}}),l.push(y)}N(!1,`error encountered during CCIP fetch: ${l.map(h=>JSON.stringify(h)).join(", ")}`,"OFFCHAIN_FAULT",{reason:"500_SERVER_ERROR",transaction:t,info:{urls:i,errorMessages:l}})}_wrapBlock(t,e){return new mw(Nw(t),this)}_wrapLog(t,e){return new fa(Ow(t),this)}_wrapTransactionReceipt(t,e){return new Dp(Dw(t),this)}_wrapTransactionResponse(t,e){return new Wo(qp(t),this)}_detectNetwork(){N(!1,"sub-classes must implement this","UNSUPPORTED_OPERATION",{operation:"_detectNetwork"})}async _perform(t){N(!1,`unsupported method: ${t.method}`,"UNSUPPORTED_OPERATION",{operation:t.method,info:t})}async getBlockNumber(){const t=_t(await R(this,At,Fe).call(this,{method:"getBlockNumber"}),"%response");return p(this,ai)>=0&&w(this,ai,t),t}_getAddress(t){return Pe(t,this)}_getBlockTag(t){if(t==null)return"latest";switch(t){case"earliest":return"0x0";case"finalized":case"latest":case"pending":case"safe":return t}if(zt(t))return zt(t,32)?t:yn(t);if(typeof t=="bigint"&&(t=_t(t,"blockTag")),typeof t=="number")return t>=0?yn(t):p(this,ai)>=0?yn(p(this,ai)+t):this.getBlockNumber().then(e=>yn(e+t));P(!1,"invalid blockTag","blockTag",t)}_getFilter(t){const e=(t.topics||[]).map(f=>f==null?null:Array.isArray(f)?fu(f.map(m=>m.toLowerCase())):f.toLowerCase()),i="blockHash"in t?t.blockHash:void 0,o=(f,m,_)=>{let y;switch(f.length){case 0:break;case 1:y=f[0];break;default:f.sort(),y=f}if(i&&(m!=null||_!=null))throw new Error("invalid filter");const b={};return y&&(b.address=y),e.length&&(b.topics=e),m&&(b.fromBlock=m),_&&(b.toBlock=_),i&&(b.blockHash=i),b};let c=[];if(t.address)if(Array.isArray(t.address))for(const f of t.address)c.push(this._getAddress(f));else c.push(this._getAddress(t.address));let l;"fromBlock"in t&&(l=this._getBlockTag(t.fromBlock));let h;return"toBlock"in t&&(h=this._getBlockTag(t.toBlock)),c.filter(f=>typeof f!="string").length||l!=null&&typeof l!="string"||h!=null&&typeof h!="string"?Promise.all([Promise.all(c),l,h]).then(f=>o(f[0],f[1],f[2])):o(c,l,h)}_getTransactionRequest(t){const e=mc(t),i=[];if(["to","from"].forEach(o=>{if(e[o]==null)return;const c=Pe(e[o],this);Va(c)?i.push(async function(){e[o]=await c}()):e[o]=c}),e.blockTag!=null){const o=this._getBlockTag(e.blockTag);Va(o)?i.push(async function(){e.blockTag=await o}()):e.blockTag=o}return i.length?async function(){return await Promise.all(i),e}():e}async getNetwork(){if(p(this,Ge)==null){const o=(async()=>{try{const c=await this._detectNetwork();return this.emit("network",c,null),c}catch(c){throw p(this,Ge)===o&&w(this,Ge,null),c}})();return w(this,Ge,o),(await o).clone()}const t=p(this,Ge),[e,i]=await Promise.all([t,this._detectNetwork()]);return e.chainId!==i.chainId&&(p(this,Ir)?(this.emit("network",i,e),p(this,Ge)===t&&w(this,Ge,Promise.resolve(i))):N(!1,`network changed: ${e.chainId} => ${i.chainId} `,"NETWORK_ERROR",{event:"changed"})),e.clone()}async getFeeData(){const t=await this.getNetwork(),e=async()=>{const{_block:o,gasPrice:c,priorityFee:l}=await Ae({_block:R(this,At,mu).call(this,"latest",!1),gasPrice:(async()=>{try{const _=await R(this,At,Fe).call(this,{method:"getGasPrice"});return j(_,"%response")}catch{}return null})(),priorityFee:(async()=>{try{const _=await R(this,At,Fe).call(this,{method:"getPriorityFee"});return j(_,"%response")}catch{}return null})()});let h=null,f=null;const m=this._wrapBlock(o,t);return m&&m.baseFeePerGas&&(f=l??BigInt("1000000000"),h=m.baseFeePerGas*Jw+f),new Kf(c,h,f)},i=t.getPlugin("org.ethers.plugins.network.FetchUrlFeeDataPlugin");if(i){const o=new Ki(i.url),c=await i.processFunc(e,this,o);return new Kf(c.gasPrice,c.maxFeePerGas,c.maxPriorityFeePerGas)}return await e()}async estimateGas(t){let e=this._getTransactionRequest(t);return Va(e)&&(e=await e),j(await R(this,At,Fe).call(this,{method:"estimateGas",transaction:e}),"%response")}async call(t){const{tx:e,blockTag:i}=await Ae({tx:this._getTransactionRequest(t),blockTag:this._getBlockTag(t.blockTag)});return await R(this,At,pu).call(this,R(this,At,du).call(this,e,i,t.enableCcipRead?0:-1))}async getBalance(t,e){return j(await R(this,At,No).call(this,{method:"getBalance"},t,e),"%response")}async getTransactionCount(t,e){return _t(await R(this,At,No).call(this,{method:"getTransactionCount"},t,e),"%response")}async getCode(t,e){return Z(await R(this,At,No).call(this,{method:"getCode"},t,e))}async getStorage(t,e,i){const o=j(e,"position");return Z(await R(this,At,No).call(this,{method:"getStorage",position:o},t,i))}async broadcastTransaction(t){const{blockNumber:e,hash:i,network:o}=await Ae({blockNumber:this.getBlockNumber(),hash:this._perform({method:"broadcastTransaction",signedTransaction:t}),network:this.getNetwork()}),c=cc.from(t);if(c.hash!==i)throw new Error("@TODO: the returned hash did not match");return this._wrapTransactionResponse(c,o).replaceableTransaction(e)}async getBlock(t,e){const{network:i,params:o}=await Ae({network:this.getNetwork(),params:R(this,At,mu).call(this,t,!!e)});return o==null?null:this._wrapBlock(o,i)}async getTransaction(t){const{network:e,params:i}=await Ae({network:this.getNetwork(),params:R(this,At,Fe).call(this,{method:"getTransaction",hash:t})});return i==null?null:this._wrapTransactionResponse(i,e)}async getTransactionReceipt(t){const{network:e,params:i}=await Ae({network:this.getNetwork(),params:R(this,At,Fe).call(this,{method:"getTransactionReceipt",hash:t})});if(i==null)return null;if(i.gasPrice==null&&i.effectiveGasPrice==null){const o=await R(this,At,Fe).call(this,{method:"getTransaction",hash:t});if(o==null)throw new Error("report this; could not find tx or effectiveGasPrice");i.effectiveGasPrice=o.gasPrice}return this._wrapTransactionReceipt(i,e)}async getTransactionResult(t){const{result:e}=await Ae({network:this.getNetwork(),result:R(this,At,Fe).call(this,{method:"getTransactionResult",hash:t})});return e==null?null:Z(e)}async getLogs(t){let e=this._getFilter(t);Va(e)&&(e=await e);const{network:i,params:o}=await Ae({network:this.getNetwork(),params:R(this,At,Fe).call(this,{method:"getLogs",filter:e})});return o.map(c=>this._wrapLog(c,i))}_getProvider(t){N(!1,"provider cannot connect to target network","UNSUPPORTED_OPERATION",{operation:"_getProvider()"})}async getResolver(t){return await yc.fromName(this,t)}async getAvatar(t){const e=await this.getResolver(t);return e?await e.getAvatar():null}async resolveName(t){const e=await this.getResolver(t);return e?await e.getAddress():null}async lookupAddress(t){t=Nt(t);const e=su(t.substring(2).toLowerCase()+".addr.reverse");try{const i=await yc.getEnsAddress(this),c=await new Fr(i,["function resolver(bytes32) view returns (address)"],this).resolver(e);if(c==null||c===zo)return null;const h=await new Fr(c,["function name(bytes32) view returns (string)"],this).name(e);return await this.resolveName(h)!==t?null:h}catch(i){if(de(i,"BAD_DATA")&&i.value==="0x"||de(i,"CALL_EXCEPTION"))return null;throw i}return null}async waitForTransaction(t,e,i){const o=e??1;return o===0?this.getTransactionReceipt(t):new Promise(async(c,l)=>{let h=null;const f=async m=>{try{const _=await this.getTransactionReceipt(t);if(_!=null&&m-_.blockNumber+1>=o){c(_),h&&(clearTimeout(h),h=null);return}}catch(_){console.log("EEE",_)}this.once("block",f)};i!=null&&(h=setTimeout(()=>{h!=null&&(h=null,this.off("block",f),l(Vt("timeout","TIMEOUT",{reason:"timeout"})))},i)),f(await this.getBlockNumber())})}async waitForBlock(t){N(!1,"not implemented yet","NOT_IMPLEMENTED",{operation:"waitForBlock"})}_clearTimeout(t){const e=p(this,Xe).get(t);e&&(e.timer&&clearTimeout(e.timer),p(this,Xe).delete(t))}_setTimeout(t,e){e==null&&(e=0);const i=Lo(this,aa)._++,o=()=>{p(this,Xe).delete(i),t()};if(this.paused)p(this,Xe).set(i,{timer:null,func:o,time:e});else{const c=setTimeout(o,e);p(this,Xe).set(i,{timer:c,func:o,time:Il()})}return i}_forEachSubscriber(t){for(const e of p(this,ge).values())t(e.subscriber)}_getSubscriber(t){switch(t.type){case"debug":case"error":case"network":return new $p(t.type);case"block":{const e=new Gw(this);return e.pollingInterval=this.pollingInterval,e}case"safe":case"finalized":return new Zw(this,t.type);case"event":return new Hu(this,t.filter);case"transaction":return new Qw(this,t.hash);case"orphan":return new Vw(this,t.filter)}throw new Error(`unsupported event: ${t.type}`)}_recoverSubscriber(t,e){for(const i of p(this,ge).values())if(i.subscriber===t){i.started&&i.subscriber.stop(),i.subscriber=e,i.started&&e.start(),p(this,ye)!=null&&e.pause(p(this,ye));break}}async on(t,e){const i=await R(this,At,ec).call(this,t);return i.listeners.push({listener:e,once:!1}),i.started||(i.subscriber.start(),i.started=!0,p(this,ye)!=null&&i.subscriber.pause(p(this,ye))),this}async once(t,e){const i=await R(this,At,ec).call(this,t);return i.listeners.push({listener:e,once:!0}),i.started||(i.subscriber.start(),i.started=!0,p(this,ye)!=null&&i.subscriber.pause(p(this,ye))),this}async emit(t,...e){const i=await R(this,At,Mo).call(this,t,e);if(!i||i.listeners.length===0)return!1;const o=i.listeners.length;return i.listeners=i.listeners.filter(({listener:c,once:l})=>{const h=new pd(this,l?null:c,t);try{c.call(this,...e,h)}catch{}return!l}),i.listeners.length===0&&(i.started&&i.subscriber.stop(),p(this,ge).delete(i.tag)),o>0}async listenerCount(t){if(t){const i=await R(this,At,Mo).call(this,t);return i?i.listeners.length:0}let e=0;for(const{listeners:i}of p(this,ge).values())e+=i.length;return e}async listeners(t){if(t){const i=await R(this,At,Mo).call(this,t);return i?i.listeners.map(({listener:o})=>o):[]}let e=[];for(const{listeners:i}of p(this,ge).values())e=e.concat(i.map(({listener:o})=>o));return e}async off(t,e){const i=await R(this,At,Mo).call(this,t);if(!i)return this;if(e){const o=i.listeners.map(({listener:c})=>c).indexOf(e);o>=0&&i.listeners.splice(o,1)}return(!e||i.listeners.length===0)&&(i.started&&i.subscriber.stop(),p(this,ge).delete(i.tag)),this}async removeAllListeners(t){if(t){const{tag:e,started:i,subscriber:o}=await R(this,At,ec).call(this,t);i&&o.stop(),p(this,ge).delete(e)}else for(const[e,{started:i,subscriber:o}]of p(this,ge))i&&o.stop(),p(this,ge).delete(e);return this}async addListener(t,e){return await this.on(t,e)}async removeListener(t,e){return this.off(t,e)}get destroyed(){return p(this,qs)}destroy(){this.removeAllListeners();for(const t of p(this,Xe).keys())this._clearTimeout(t);w(this,qs,!0)}get paused(){return p(this,ye)!=null}set paused(t){!!t!==this.paused&&(this.paused?this.resume():this.pause(!1))}pause(t){if(w(this,ai,-1),p(this,ye)!=null){if(p(this,ye)==!!t)return;N(!1,"cannot change pause type; resume first","UNSUPPORTED_OPERATION",{operation:"pause"})}this._forEachSubscriber(e=>e.pause(t)),w(this,ye,!!t);for(const e of p(this,Xe).values())e.timer&&clearTimeout(e.timer),e.time=Il()-e.time}resume(){if(p(this,ye)!=null){this._forEachSubscriber(t=>t.resume()),w(this,ye,null);for(const t of p(this,Xe).values()){let e=t.time;e<0&&(e=0),t.time=Il(),setTimeout(t.func,e)}}}}ge=new WeakMap,zi=new WeakMap,ye=new WeakMap,qs=new WeakMap,Ge=new WeakMap,Ir=new WeakMap,Hi=new WeakMap,ai=new WeakMap,aa=new WeakMap,Xe=new WeakMap,Xs=new WeakMap,$s=new WeakMap,At=new WeakSet,Fe=async function(t){const e=p(this,$s).cacheTimeout;if(e<0)return await this._perform(t);const i=tc(t.method,t);let o=p(this,Hi).get(i);return o||(o=this._perform(t),p(this,Hi).set(i,o),setTimeout(()=>{p(this,Hi).get(i)===o&&p(this,Hi).delete(i)},e)),await o},du=async function(t,e,i){N(i<Kw,"CCIP read exceeded maximum redirections","OFFCHAIN_FAULT",{reason:"TOO_MANY_REDIRECTS",transaction:Object.assign({},t,{blockTag:e,enableCcipRead:!0})});const o=mc(t);try{return Z(await this._perform({method:"call",transaction:o,blockTag:e}))}catch(c){if(!this.disableCcipRead&&xu(c)&&c.data&&i>=0&&e==="latest"&&o.to!=null&&Wt(c.data,0,4)==="0x556f1830"){const l=c.data,h=await Pe(o.to,this);let f;try{f=ev(Wt(c.data,4))}catch(y){N(!1,y.message,"OFFCHAIN_FAULT",{reason:"BAD_DATA",transaction:o,info:{data:l}})}N(f.sender.toLowerCase()===h.toLowerCase(),"CCIP Read sender mismatch","CALL_EXCEPTION",{action:"call",data:l,reason:"OffchainLookup",transaction:o,invocation:null,revert:{signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",name:"OffchainLookup",args:f.errorArgs}});const m=await this.ccipReadFetch(o,f.calldata,f.urls);N(m!=null,"CCIP Read failed to fetch data","OFFCHAIN_FAULT",{reason:"FETCH_FAILED",transaction:o,info:{data:c.data,errorArgs:f.errorArgs}});const _={to:h,data:jt([f.selector,tv([m,f.extraData])])};this.emit("debug",{action:"sendCcipReadCall",transaction:_});try{const y=await R(this,At,du).call(this,_,e,i+1);return this.emit("debug",{action:"receiveCcipReadCallResult",transaction:Object.assign({},_),result:y}),y}catch(y){throw this.emit("debug",{action:"receiveCcipReadCallError",transaction:Object.assign({},_),error:y}),y}}throw c}},pu=async function(t){const{value:e}=await Ae({network:this.getNetwork(),value:t});return e},No=async function(t,e,i){let o=this._getAddress(e),c=this._getBlockTag(i);return(typeof o!="string"||typeof c!="string")&&([o,c]=await Promise.all([o,c])),await R(this,At,pu).call(this,R(this,At,Fe).call(this,Object.assign(t,{address:o,blockTag:c})))},mu=async function(t,e){if(zt(t,32))return await R(this,At,Fe).call(this,{method:"getBlock",blockHash:t,includeTransactions:e});let i=this._getBlockTag(t);return typeof i!="string"&&(i=await i),await R(this,At,Fe).call(this,{method:"getBlock",blockTag:i,includeTransactions:e})},Mo=async function(t,e){let i=await kl(t,this);return i.type==="event"&&e&&e.length>0&&e[0].removed===!0&&(i=await kl({orphan:"drop-log",log:e[0]},this)),p(this,ge).get(i.tag)||null},ec=async function(t){const e=await kl(t,this),i=e.tag;let o=p(this,ge).get(i);return o||(o={subscriber:this._getSubscriber(e),tag:i,addressableMap:new WeakMap,nameMap:new Map,started:!1,listeners:[]},p(this,ge).set(i,o)),o};function qw(r,t){try{const e=gu(r,t);if(e)return oc(e)}catch{}return null}function gu(r,t){if(r==="0x")return null;try{const e=_t(Wt(r,t,t+32)),i=_t(Wt(r,e,e+32));return Wt(r,e+32,e+32+i)}catch{}return null}function ed(r){const t=re(r);if(t.length>32)throw new Error("internal; should not happen");const e=new Uint8Array(32);return e.set(t,32-t.length),e}function Xw(r){if(r.length%32===0)return r;const t=new Uint8Array(Math.ceil(r.length/32)*32);return t.set(r),t}const $w=new Uint8Array([]);function tv(r){const t=[];let e=0;for(let i=0;i<r.length;i++)t.push($w),e+=32;for(let i=0;i<r.length;i++){const o=yt(r[i]);t[i]=ed(e),t.push(ed(o.length)),t.push(Xw(o)),e+=32+Math.ceil(o.length/32)*32}return jt(t)}const nd="0x0000000000000000000000000000000000000000000000000000000000000000";function ev(r){const t={sender:"",urls:[],calldata:"",selector:"",extraData:"",errorArgs:[]};N(ds(r)>=5*32,"insufficient OffchainLookup data","OFFCHAIN_FAULT",{reason:"insufficient OffchainLookup data"});const e=Wt(r,0,32);N(Wt(e,0,12)===Wt(nd,0,12),"corrupt OffchainLookup sender","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup sender"}),t.sender=Wt(e,12);try{const i=[],o=_t(Wt(r,32,64)),c=_t(Wt(r,o,o+32)),l=Wt(r,o+32);for(let h=0;h<c;h++){const f=qw(l,h*32);if(f==null)throw new Error("abort");i.push(f)}t.urls=i}catch{N(!1,"corrupt OffchainLookup urls","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup urls"})}try{const i=gu(r,64);if(i==null)throw new Error("abort");t.calldata=i}catch{N(!1,"corrupt OffchainLookup calldata","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup calldata"})}N(Wt(r,100,128)===Wt(nd,0,28),"corrupt OffchainLookup callbaackSelector","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup callbaackSelector"}),t.selector=Wt(r,96,100);try{const i=gu(r,128);if(i==null)throw new Error("abort");t.extraData=i}catch{N(!1,"corrupt OffchainLookup extraData","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup extraData"})}return t.errorArgs="sender,urls,calldata,selector,extraData".split(/,/).map(i=>t[i]),t}function ir(r,t){if(r.provider)return r.provider;N(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:t})}async function id(r,t){let e=mc(t);if(e.to!=null&&(e.to=Pe(e.to,r)),e.from!=null){const i=e.from;e.from=Promise.all([r.getAddress(),Pe(i,r)]).then(([o,c])=>(P(o.toLowerCase()===c.toLowerCase(),"transaction from mismatch","tx.from",c),o))}else e.from=r.getAddress();return await Ae(e)}class nv{constructor(t){k(this,"provider");st(this,{provider:t||null})}async getNonce(t){return ir(this,"getTransactionCount").getTransactionCount(await this.getAddress(),t)}async populateCall(t){return await id(this,t)}async populateTransaction(t){const e=ir(this,"populateTransaction"),i=await id(this,t);i.nonce==null&&(i.nonce=await this.getNonce("pending")),i.gasLimit==null&&(i.gasLimit=await this.estimateGas(i));const o=await this.provider.getNetwork();if(i.chainId!=null){const l=j(i.chainId);P(l===o.chainId,"transaction chainId mismatch","tx.chainId",t.chainId)}else i.chainId=o.chainId;const c=i.maxFeePerGas!=null||i.maxPriorityFeePerGas!=null;if(i.gasPrice!=null&&(i.type===2||c)?P(!1,"eip-1559 transaction do not support gasPrice","tx",t):(i.type===0||i.type===1)&&c&&P(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",t),(i.type===2||i.type==null)&&i.maxFeePerGas!=null&&i.maxPriorityFeePerGas!=null)i.type=2;else if(i.type===0||i.type===1){const l=await e.getFeeData();N(l.gasPrice!=null,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),i.gasPrice==null&&(i.gasPrice=l.gasPrice)}else{const l=await e.getFeeData();if(i.type==null)if(l.maxFeePerGas!=null&&l.maxPriorityFeePerGas!=null)if(i.authorizationList&&i.authorizationList.length?i.type=4:i.type=2,i.gasPrice!=null){const h=i.gasPrice;delete i.gasPrice,i.maxFeePerGas=h,i.maxPriorityFeePerGas=h}else i.maxFeePerGas==null&&(i.maxFeePerGas=l.maxFeePerGas),i.maxPriorityFeePerGas==null&&(i.maxPriorityFeePerGas=l.maxPriorityFeePerGas);else l.gasPrice!=null?(N(!c,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),i.gasPrice==null&&(i.gasPrice=l.gasPrice),i.type=0):N(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else(i.type===2||i.type===3||i.type===4)&&(i.maxFeePerGas==null&&(i.maxFeePerGas=l.maxFeePerGas),i.maxPriorityFeePerGas==null&&(i.maxPriorityFeePerGas=l.maxPriorityFeePerGas))}return await Ae(i)}async populateAuthorization(t){const e=Object.assign({},t);return e.chainId==null&&(e.chainId=(await ir(this,"getNetwork").getNetwork()).chainId),e.nonce==null&&(e.nonce=await this.getNonce()),e}async estimateGas(t){return ir(this,"estimateGas").estimateGas(await this.populateCall(t))}async call(t){return ir(this,"call").call(await this.populateCall(t))}async resolveName(t){return await ir(this,"resolveName").resolveName(t)}async sendTransaction(t){const e=ir(this,"sendTransaction"),i=await this.populateTransaction(t);delete i.from;const o=cc.from(i);return await e.broadcastTransaction(await this.signTransaction(o))}authorize(t){N(!1,"authorization not implemented for this signer","UNSUPPORTED_OPERATION",{operation:"authorize"})}}function iv(r){return JSON.parse(JSON.stringify(r))}var be,Sn,Br,Gi,Or,to,ji,yu,_u;class tm{constructor(t){B(this,ji);B(this,be);B(this,Sn);B(this,Br);B(this,Gi);B(this,Or);B(this,to);w(this,be,t),w(this,Sn,null),w(this,Br,R(this,ji,yu).bind(this)),w(this,Gi,!1),w(this,Or,null),w(this,to,!1)}_subscribe(t){throw new Error("subclasses must override this")}_emitResults(t,e){throw new Error("subclasses must override this")}_recover(t){throw new Error("subclasses must override this")}start(){p(this,Gi)||(w(this,Gi,!0),R(this,ji,yu).call(this,-2))}stop(){p(this,Gi)&&(w(this,Gi,!1),w(this,to,!0),R(this,ji,_u).call(this),p(this,be).off("block",p(this,Br)))}pause(t){t&&R(this,ji,_u).call(this),p(this,be).off("block",p(this,Br))}resume(){this.start()}}be=new WeakMap,Sn=new WeakMap,Br=new WeakMap,Gi=new WeakMap,Or=new WeakMap,to=new WeakMap,ji=new WeakSet,yu=async function(t){try{p(this,Sn)==null&&w(this,Sn,this._subscribe(p(this,be)));let e=null;try{e=await p(this,Sn)}catch(c){if(!de(c,"UNSUPPORTED_OPERATION")||c.operation!=="eth_newFilter")throw c}if(e==null){w(this,Sn,null),p(this,be)._recoverSubscriber(this,this._recover(p(this,be)));return}const i=await p(this,be).getNetwork();if(p(this,Or)||w(this,Or,i),p(this,Or).chainId!==i.chainId)throw new Error("chaid changed");if(p(this,to))return;const o=await p(this,be).send("eth_getFilterChanges",[e]);await this._emitResults(p(this,be),o)}catch(e){console.log("@TODO",e)}p(this,be).once("block",p(this,Br))},_u=function(){const t=p(this,Sn);t&&(w(this,Sn,null),t.then(e=>{p(this,be).destroyed||p(this,be).send("eth_uninstallFilter",[e])}))};var Sr;class rv extends tm{constructor(e,i){super(e);B(this,Sr);w(this,Sr,iv(i))}_recover(e){return new Hu(e,p(this,Sr))}async _subscribe(e){return await e.send("eth_newFilter",[p(this,Sr)])}async _emitResults(e,i){for(const o of i)e.emit(p(this,Sr),e._wrapLog(o,e._network))}}Sr=new WeakMap;class sv extends tm{async _subscribe(t){return await t.send("eth_newPendingTransactionFilter",[])}async _emitResults(t,e){for(const i of e)t.emit("pending",i)}}const ov="bigint,boolean,function,number,string,symbol".split(/,/g);function nc(r){if(r==null||ov.indexOf(typeof r)>=0||typeof r.getAddress=="function")return r;if(Array.isArray(r))return r.map(nc);if(typeof r=="object")return Object.keys(r).reduce((t,e)=>(t[e]=r[e],t),{});throw new Error(`should not happen: ${r} (${typeof r})`)}function av(r){return new Promise(t=>{setTimeout(t,r)})}function rs(r){return r&&r.toLowerCase()}function rd(r){return r&&typeof r.pollingInterval=="number"}const em={polling:!1,staticNetwork:null,batchStallTime:10,batchMaxSize:1<<20,batchMaxCount:100,cacheTimeout:250,pollingInterval:4e3};class Bl extends nv{constructor(e,i){super(e);k(this,"address");i=Nt(i),st(this,{address:i})}connect(e){N(!1,"cannot reconnect JsonRpcSigner","UNSUPPORTED_OPERATION",{operation:"signer.connect"})}async getAddress(){return this.address}async populateTransaction(e){return await this.populateCall(e)}async sendUncheckedTransaction(e){const i=nc(e),o=[];if(i.from){const l=i.from;o.push((async()=>{const h=await Pe(l,this.provider);P(h!=null&&h.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",e),i.from=h})())}else i.from=this.address;if(i.gasLimit==null&&o.push((async()=>{i.gasLimit=await this.provider.estimateGas({...i,from:this.address})})()),i.to!=null){const l=i.to;o.push((async()=>{i.to=await Pe(l,this.provider)})())}o.length&&await Promise.all(o);const c=this.provider.getRpcTransaction(i);return this.provider.send("eth_sendTransaction",[c])}async sendTransaction(e){const i=await this.provider.getBlockNumber(),o=await this.sendUncheckedTransaction(e);return await new Promise((c,l)=>{const h=[1e3,100];let f=0;const m=async()=>{try{const _=await this.provider.getTransaction(o);if(_!=null){c(_.replaceableTransaction(i));return}}catch(_){if(de(_,"CANCELLED")||de(_,"BAD_DATA")||de(_,"NETWORK_ERROR")||de(_,"UNSUPPORTED_OPERATION")){_.info==null&&(_.info={}),_.info.sendTransactionHash=o,l(_);return}if(de(_,"INVALID_ARGUMENT")&&(f++,_.info==null&&(_.info={}),_.info.sendTransactionHash=o,f>10)){l(_);return}this.provider.emit("error",Vt("failed to fetch transation after sending (will try again)","UNKNOWN_ERROR",{error:_}))}this.provider._setTimeout(()=>{m()},h.pop()||4e3)};m()})}async signTransaction(e){const i=nc(e);if(i.from){const c=await Pe(i.from,this.provider);P(c!=null&&c.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",e),i.from=c}else i.from=this.address;const o=this.provider.getRpcTransaction(i);return await this.provider.send("eth_signTransaction",[o])}async signMessage(e){const i=typeof e=="string"?hi(e):e;return await this.provider.send("personal_sign",[Z(i),this.address.toLowerCase()])}async signTypedData(e,i,o){const c=nc(o),l=await pc.resolveNames(e,i,c,async h=>{const f=await Pe(h);return P(f!=null,"TypedData does not support null address","value",h),f});return await this.provider.send("eth_signTypedData_v4",[this.address.toLowerCase(),JSON.stringify(pc.getPayload(l.domain,i,l.value))])}async unlock(e){return this.provider.send("personal_unlockAccount",[this.address.toLowerCase(),e,null])}async _legacySignMessage(e){const i=typeof e=="string"?hi(e):e;return await this.provider.send("eth_sign",[this.address.toLowerCase(),Z(i)])}}var Nr,eo,ci,Nn,gn,$e,Ie,ca,wu;class cv extends Yw{constructor(e,i){super(e,i);B(this,ca);B(this,Nr);B(this,eo);B(this,ci);B(this,Nn);B(this,gn);B(this,$e);B(this,Ie);w(this,eo,1),w(this,Nr,Object.assign({},em,i||{})),w(this,ci,[]),w(this,Nn,null),w(this,$e,null),w(this,Ie,null);{let c=null;const l=new Promise(h=>{c=h});w(this,gn,{promise:l,resolve:c})}const o=this._getOption("staticNetwork");typeof o=="boolean"?(P(!o||e!=="any","staticNetwork cannot be used on special network 'any'","options",i),o&&e!=null&&w(this,$e,Fn.from(e))):o&&(P(e==null||o.matches(e),"staticNetwork MUST match network object","options",i),w(this,$e,o))}_getOption(e){return p(this,Nr)[e]}get _network(){return N(p(this,$e),"network is not available yet","NETWORK_ERROR"),p(this,$e)}async _perform(e){if(e.method==="call"||e.method==="estimateGas"){let o=e.transaction;if(o&&o.type!=null&&j(o.type)&&o.maxFeePerGas==null&&o.maxPriorityFeePerGas==null){const c=await this.getFeeData();c.maxFeePerGas==null&&c.maxPriorityFeePerGas==null&&(e=Object.assign({},e,{transaction:Object.assign({},o,{type:void 0})}))}}const i=this.getRpcRequest(e);return i!=null?await this.send(i.method,i.args):super._perform(e)}async _detectNetwork(){const e=this._getOption("staticNetwork");if(e)if(e===!0){if(p(this,$e))return p(this,$e)}else return e;return p(this,Ie)?await p(this,Ie):this.ready?(w(this,Ie,(async()=>{try{const i=Fn.from(j(await this.send("eth_chainId",[])));return w(this,Ie,null),i}catch(i){throw w(this,Ie,null),i}})()),await p(this,Ie)):(w(this,Ie,(async()=>{const i={id:Lo(this,eo)._++,method:"eth_chainId",params:[],jsonrpc:"2.0"};this.emit("debug",{action:"sendRpcPayload",payload:i});let o;try{o=(await this._send(i))[0],w(this,Ie,null)}catch(c){throw w(this,Ie,null),this.emit("debug",{action:"receiveRpcError",error:c}),c}if(this.emit("debug",{action:"receiveRpcResult",result:o}),"result"in o)return Fn.from(j(o.result));throw this.getRpcError(i,o)})()),await p(this,Ie))}_start(){p(this,gn)==null||p(this,gn).resolve==null||(p(this,gn).resolve(),w(this,gn,null),(async()=>{for(;p(this,$e)==null&&!this.destroyed;)try{w(this,$e,await this._detectNetwork())}catch(e){if(this.destroyed)break;console.log("JsonRpcProvider failed to detect network and cannot start up; retry in 1s (perhaps the URL is wrong or the node is not started)"),this.emit("error",Vt("failed to bootstrap network detection","NETWORK_ERROR",{event:"initial-network-discovery",info:{error:e}})),await av(1e3)}R(this,ca,wu).call(this)})())}async _waitUntilReady(){if(p(this,gn)!=null)return await p(this,gn).promise}_getSubscriber(e){return e.type==="pending"?new sv(this):e.type==="event"?this._getOption("polling")?new Hu(this,e.filter):new rv(this,e.filter):e.type==="orphan"&&e.filter.orphan==="drop-log"?new $p("orphan"):super._getSubscriber(e)}get ready(){return p(this,gn)==null}getRpcTransaction(e){const i={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(o=>{if(e[o]==null)return;let c=o;o==="gasLimit"&&(c="gas"),i[c]=yn(j(e[o],`tx.${o}`))}),["from","to","data"].forEach(o=>{e[o]!=null&&(i[o]=Z(e[o]))}),e.accessList&&(i.accessList=Zr(e.accessList)),e.blobVersionedHashes&&(i.blobVersionedHashes=e.blobVersionedHashes.map(o=>o.toLowerCase())),e.authorizationList&&(i.authorizationList=e.authorizationList.map(o=>{const c=ip(o);return{address:c.address,nonce:yn(c.nonce),chainId:yn(c.chainId),yParity:yn(c.signature.yParity),r:yn(c.signature.r),s:yn(c.signature.s)}})),i}getRpcRequest(e){switch(e.method){case"chainId":return{method:"eth_chainId",args:[]};case"getBlockNumber":return{method:"eth_blockNumber",args:[]};case"getGasPrice":return{method:"eth_gasPrice",args:[]};case"getPriorityFee":return{method:"eth_maxPriorityFeePerGas",args:[]};case"getBalance":return{method:"eth_getBalance",args:[rs(e.address),e.blockTag]};case"getTransactionCount":return{method:"eth_getTransactionCount",args:[rs(e.address),e.blockTag]};case"getCode":return{method:"eth_getCode",args:[rs(e.address),e.blockTag]};case"getStorage":return{method:"eth_getStorageAt",args:[rs(e.address),"0x"+e.position.toString(16),e.blockTag]};case"broadcastTransaction":return{method:"eth_sendRawTransaction",args:[e.signedTransaction]};case"getBlock":if("blockTag"in e)return{method:"eth_getBlockByNumber",args:[e.blockTag,!!e.includeTransactions]};if("blockHash"in e)return{method:"eth_getBlockByHash",args:[e.blockHash,!!e.includeTransactions]};break;case"getTransaction":return{method:"eth_getTransactionByHash",args:[e.hash]};case"getTransactionReceipt":return{method:"eth_getTransactionReceipt",args:[e.hash]};case"call":return{method:"eth_call",args:[this.getRpcTransaction(e.transaction),e.blockTag]};case"estimateGas":return{method:"eth_estimateGas",args:[this.getRpcTransaction(e.transaction)]};case"getLogs":return e.filter&&e.filter.address!=null&&(Array.isArray(e.filter.address)?e.filter.address=e.filter.address.map(rs):e.filter.address=rs(e.filter.address)),{method:"eth_getLogs",args:[e.filter]}}return null}getRpcError(e,i){const{method:o}=e,{error:c}=i;if(o==="eth_estimateGas"&&c.message){const f=c.message;if(!f.match(/revert/i)&&f.match(/insufficient funds/i))return Vt("insufficient funds","INSUFFICIENT_FUNDS",{transaction:e.params[0],info:{payload:e,error:c}});if(f.match(/nonce/i)&&f.match(/too low/i))return Vt("nonce has already been used","NONCE_EXPIRED",{transaction:e.params[0],info:{payload:e,error:c}})}if(o==="eth_call"||o==="eth_estimateGas"){const f=vu(c),m=Ko.getBuiltinCallException(o==="eth_call"?"call":"estimateGas",e.params[0],f?f.data:null);return m.info={error:c,payload:e},m}const l=JSON.stringify(uv(c));if(typeof c.message=="string"&&c.message.match(/user denied|ethers-user-denied/i))return Vt("user rejected action","ACTION_REJECTED",{action:{eth_sign:"signMessage",personal_sign:"signMessage",eth_signTypedData_v4:"signTypedData",eth_signTransaction:"signTransaction",eth_sendTransaction:"sendTransaction",eth_requestAccounts:"requestAccess",wallet_requestAccounts:"requestAccess"}[o]||"unknown",reason:"rejected",info:{payload:e,error:c}});if(o==="eth_sendRawTransaction"||o==="eth_sendTransaction"){const f=e.params[0];if(l.match(/insufficient funds|base fee exceeds gas limit/i))return Vt("insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:f,info:{error:c}});if(l.match(/nonce/i)&&l.match(/too low/i))return Vt("nonce has already been used","NONCE_EXPIRED",{transaction:f,info:{error:c}});if(l.match(/replacement transaction/i)&&l.match(/underpriced/i))return Vt("replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:f,info:{error:c}});if(l.match(/only replay-protected/i))return Vt("legacy pre-eip-155 transactions not supported","UNSUPPORTED_OPERATION",{operation:o,info:{transaction:f,info:{error:c}}})}let h=!!l.match(/the method .* does not exist/i);return h||c&&c.details&&c.details.startsWith("Unauthorized method:")&&(h=!0),h?Vt("unsupported operation","UNSUPPORTED_OPERATION",{operation:e.method,info:{error:c,payload:e}}):Vt("could not coalesce error","UNKNOWN_ERROR",{error:c,payload:e})}send(e,i){if(this.destroyed)return Promise.reject(Vt("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:e}));const o=Lo(this,eo)._++,c=new Promise((l,h)=>{p(this,ci).push({resolve:l,reject:h,payload:{method:e,params:i,id:o,jsonrpc:"2.0"}})});return R(this,ca,wu).call(this),c}async getSigner(e){e==null&&(e=0);const i=this.send("eth_accounts",[]);if(typeof e=="number"){const c=await i;if(e>=c.length)throw new Error("no such account");return new Bl(this,c[e])}const{accounts:o}=await Ae({network:this.getNetwork(),accounts:i});e=Nt(e);for(const c of o)if(Nt(c)===e)return new Bl(this,e);throw new Error("invalid account")}async listAccounts(){return(await this.send("eth_accounts",[])).map(i=>new Bl(this,i))}destroy(){p(this,Nn)&&(clearTimeout(p(this,Nn)),w(this,Nn,null));for(const{payload:e,reject:i}of p(this,ci))i(Vt("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:e.method}));w(this,ci,[]),super.destroy()}}Nr=new WeakMap,eo=new WeakMap,ci=new WeakMap,Nn=new WeakMap,gn=new WeakMap,$e=new WeakMap,Ie=new WeakMap,ca=new WeakSet,wu=function(){if(p(this,Nn))return;const e=this._getOption("batchMaxCount")===1?0:this._getOption("batchStallTime");w(this,Nn,setTimeout(()=>{w(this,Nn,null);const i=p(this,ci);for(w(this,ci,[]);i.length;){const o=[i.shift()];for(;i.length&&o.length!==p(this,Nr).batchMaxCount;)if(o.push(i.shift()),JSON.stringify(o.map(l=>l.payload)).length>p(this,Nr).batchMaxSize){i.unshift(o.pop());break}(async()=>{const c=o.length===1?o[0].payload:o.map(l=>l.payload);this.emit("debug",{action:"sendRpcPayload",payload:c});try{const l=await this._send(c);this.emit("debug",{action:"receiveRpcResult",result:l});for(const{resolve:h,reject:f,payload:m}of o){if(this.destroyed){f(Vt("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:m.method}));continue}const _=l.filter(y=>y.id===m.id)[0];if(_==null){const y=Vt("missing response for request","BAD_DATA",{value:l,info:{payload:m}});this.emit("error",y),f(y);continue}if("error"in _){f(this.getRpcError(m,_));continue}h(_.result)}}catch(l){this.emit("debug",{action:"receiveRpcError",error:l});for(const{reject:h}of o)h(l)}})()}},e))};var Zi;class lv extends cv{constructor(e,i){super(e,i);B(this,Zi);let o=this._getOption("pollingInterval");o==null&&(o=em.pollingInterval),w(this,Zi,o)}_getSubscriber(e){const i=super._getSubscriber(e);return rd(i)&&(i.pollingInterval=p(this,Zi)),i}get pollingInterval(){return p(this,Zi)}set pollingInterval(e){if(!Number.isInteger(e)||e<0)throw new Error("invalid interval");w(this,Zi,e),this._forEachSubscriber(i=>{rd(i)&&(i.pollingInterval=p(this,Zi))})}}Zi=new WeakMap;function vu(r){if(r==null)return null;if(typeof r.message=="string"&&r.message.match(/revert/i)&&zt(r.data))return{message:r.message,data:r.data};if(typeof r=="object"){for(const t in r){const e=vu(r[t]);if(e)return e}return null}if(typeof r=="string")try{return vu(JSON.parse(r))}catch{}return null}function bu(r,t){if(r!=null){if(typeof r.message=="string"&&t.push(r.message),typeof r=="object")for(const e in r)bu(r[e],t);if(typeof r=="string")try{return bu(JSON.parse(r),t)}catch{}}}function uv(r){const t=[];return bu(r,t),t}var no,io;const ur=class ur extends lv{constructor(e,i,o){const c=Object.assign({},o??{},{batchMaxCount:1});P(e&&e.request,"invalid EIP-1193 provider","ethereum",e);super(i,c);B(this,no);B(this,io);w(this,io,null),o&&o.providerInfo&&w(this,io,o.providerInfo),w(this,no,async(l,h)=>{const f={method:l,params:h};this.emit("debug",{action:"sendEip1193Request",payload:f});try{const m=await e.request(f);return this.emit("debug",{action:"receiveEip1193Result",result:m}),m}catch(m){const _=new Error(m.message);throw _.code=m.code,_.data=m.data,_.payload=f,this.emit("debug",{action:"receiveEip1193Error",error:_}),_}})}get providerInfo(){return p(this,io)}async send(e,i){return await this._start(),await super.send(e,i)}async _send(e){P(!Array.isArray(e),"EIP-1193 does not support batch request","payload",e);try{const i=await p(this,no).call(this,e.method,e.params||[]);return[{id:e.id,result:i}]}catch(i){return[{id:e.id,error:{code:i.code,data:i.data,message:i.message}}]}}getRpcError(e,i){switch(i=JSON.parse(JSON.stringify(i)),i.error.code||-1){case 4001:i.error.message=`ethers-user-denied: ${i.error.message}`;break;case 4200:i.error.message=`ethers-unsupported: ${i.error.message}`;break}return super.getRpcError(e,i)}async hasSigner(e){e==null&&(e=0);const i=await this.send("eth_accounts",[]);return typeof e=="number"?i.length>e:(e=e.toLowerCase(),i.filter(o=>o.toLowerCase()===e).length!==0)}async getSigner(e){if(e==null&&(e=0),!await this.hasSigner(e))try{await p(this,no).call(this,"eth_requestAccounts",[])}catch(i){const o=i.payload;throw this.getRpcError(o,{id:o.id,error:i})}return await super.getSigner(e)}static async discover(e){if(e==null&&(e={}),e.provider)return new ur(e.provider);const i=e.window?e.window:typeof window<"u"?window:null;if(i==null)return null;const o=e.anyProvider;if(o&&i.ethereum)return new ur(i.ethereum);if(!("addEventListener"in i&&"dispatchEvent"in i&&"removeEventListener"in i))return null;const c=e.timeout?e.timeout:300;return c===0?null:await new Promise((l,h)=>{let f=[];const m=b=>{f.push(b.detail),o&&_()},_=()=>{if(clearTimeout(y),f.length)if(e&&e.filter){const b=e.filter(f.map(E=>Object.assign({},E.info)));if(b==null)l(null);else if(b instanceof ur)l(b);else{let E=null;if(b.uuid&&(E=f.filter(x=>b.uuid===x.info.uuid)[0]),E){const{provider:T,info:x}=E;l(new ur(T,void 0,{providerInfo:x}))}else h(Vt("filter returned unknown info","UNSUPPORTED_OPERATION",{value:b}))}}else{const{provider:b,info:E}=f[0];l(new ur(b,void 0,{providerInfo:E}))}else l(null);i.removeEventListener("eip6963:announceProvider",m)},y=setTimeout(()=>{_()},c);i.addEventListener("eip6963:announceProvider",m),i.dispatchEvent(new Event("eip6963:requestProvider"))})}};no=new WeakMap,io=new WeakMap;let Au=ur,Ol,Sl,Nl,Ml;const hv="0x64a6DC242b70Ca275f214A29bAe3F5f856a02f7A",fv=[{type:"constructor",inputs:[{name:"grillzFarm42Address",type:"address",internalType:"address"}],stateMutability:"nonpayable"},{type:"function",name:"REWARD_PER_FARM",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"allowance",inputs:[{name:"owner",type:"address",internalType:"address"},{name:"spender",type:"address",internalType:"address"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"approve",inputs:[{name:"spender",type:"address",internalType:"address"},{name:"value",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"nonpayable"},{type:"function",name:"balanceOf",inputs:[{name:"account",type:"address",internalType:"address"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"claimCooldown",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"claimGrz",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"nonpayable"},{type:"function",name:"decimals",inputs:[],outputs:[{name:"",type:"uint8",internalType:"uint8"}],stateMutability:"view"},{type:"function",name:"grillzFarm42",inputs:[],outputs:[{name:"",type:"address",internalType:"contract IGrillzFarm42"}],stateMutability:"view"},{type:"function",name:"lastClaim",inputs:[{name:"",type:"address",internalType:"address"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"mintGoldCricket",inputs:[],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"name",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"},{type:"function",name:"purchaseProduct",inputs:[{name:"orderId",type:"string",internalType:"string"},{name:"amount",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"symbol",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"},{type:"function",name:"totalSupply",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"transfer",inputs:[{name:"to",type:"address",internalType:"address"},{name:"value",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"nonpayable"},{type:"function",name:"transferFrom",inputs:[{name:"from",type:"address",internalType:"address"},{name:"to",type:"address",internalType:"address"},{name:"value",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"nonpayable"},{type:"event",name:"Approval",inputs:[{name:"owner",type:"address",indexed:!0,internalType:"address"},{name:"spender",type:"address",indexed:!0,internalType:"address"},{name:"value",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"ClaimGrz",inputs:[{name:"claimer",type:"address",indexed:!0,internalType:"address"},{name:"amount",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"PurchaseProduct",inputs:[{name:"buyer",type:"address",indexed:!0,internalType:"address"},{name:"orderId",type:"string",indexed:!1,internalType:"string"},{name:"amount",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"Transfer",inputs:[{name:"from",type:"address",indexed:!0,internalType:"address"},{name:"to",type:"address",indexed:!0,internalType:"address"},{name:"value",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"error",name:"ERC20InsufficientAllowance",inputs:[{name:"spender",type:"address",internalType:"address"},{name:"allowance",type:"uint256",internalType:"uint256"},{name:"needed",type:"uint256",internalType:"uint256"}]},{type:"error",name:"ERC20InsufficientBalance",inputs:[{name:"sender",type:"address",internalType:"address"},{name:"balance",type:"uint256",internalType:"uint256"},{name:"needed",type:"uint256",internalType:"uint256"}]},{type:"error",name:"ERC20InvalidApprover",inputs:[{name:"approver",type:"address",internalType:"address"}]},{type:"error",name:"ERC20InvalidReceiver",inputs:[{name:"receiver",type:"address",internalType:"address"}]},{type:"error",name:"ERC20InvalidSender",inputs:[{name:"sender",type:"address",internalType:"address"}]},{type:"error",name:"ERC20InvalidSpender",inputs:[{name:"spender",type:"address",internalType:"address"}]}],dv="0xFAB00a5639256e0d1fbB2a6dAF4d99a568D28Bbf",pv=[{type:"constructor",inputs:[],stateMutability:"nonpayable"},{type:"function",name:"approve",inputs:[{name:"to",type:"address",internalType:"address"},{name:"tokenId",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"balanceOf",inputs:[{name:"owner",type:"address",internalType:"address"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"buildFarm",inputs:[{name:"latitude",type:"int64",internalType:"int64"},{name:"longitude",type:"int64",internalType:"int64"},{name:"farmName",type:"string",internalType:"string"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"payable"},{type:"function",name:"farms",inputs:[{name:"",type:"uint256",internalType:"uint256"}],outputs:[{name:"owner",type:"address",internalType:"address"},{name:"name",type:"string",internalType:"string"},{name:"latitude",type:"int64",internalType:"int64"},{name:"longitude",type:"int64",internalType:"int64"},{name:"buildTime",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"getApproved",inputs:[{name:"tokenId",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"getChainlinkDataFeedLatestAnswer",inputs:[],outputs:[{name:"",type:"int256",internalType:"int256"}],stateMutability:"view"},{type:"function",name:"getFarm",inputs:[{name:"tokenId",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"tuple",internalType:"struct GrillzFarm42.Farm",components:[{name:"owner",type:"address",internalType:"address"},{name:"name",type:"string",internalType:"string"},{name:"latitude",type:"int64",internalType:"int64"},{name:"longitude",type:"int64",internalType:"int64"},{name:"buildTime",type:"uint256",internalType:"uint256"}]}],stateMutability:"view"},{type:"function",name:"getFarmsIds",inputs:[],outputs:[{name:"",type:"uint256[]",internalType:"uint256[]"}],stateMutability:"view"},{type:"function",name:"goldFarmers",inputs:[{name:"",type:"address",internalType:"address"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"grzContractAddress",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"isApprovedForAll",inputs:[{name:"owner",type:"address",internalType:"address"},{name:"operator",type:"address",internalType:"address"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"isGoldFarmer",inputs:[{name:"farmer",type:"address",internalType:"address"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"mintGoldCricket",inputs:[{name:"_to",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"name",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"},{type:"function",name:"owner",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"ownerFarmCount",inputs:[{name:"",type:"address",internalType:"address"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"ownerOf",inputs:[{name:"tokenId",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"renounceOwnership",inputs:[],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"safeTransferFrom",inputs:[{name:"from",type:"address",internalType:"address"},{name:"to",type:"address",internalType:"address"},{name:"tokenId",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"safeTransferFrom",inputs:[{name:"from",type:"address",internalType:"address"},{name:"to",type:"address",internalType:"address"},{name:"tokenId",type:"uint256",internalType:"uint256"},{name:"data",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"setApprovalForAll",inputs:[{name:"operator",type:"address",internalType:"address"},{name:"approved",type:"bool",internalType:"bool"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"setFarmPrice",inputs:[{name:"newFarmPrice",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"setMinter",inputs:[{name:"_grzContractAddress",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"supportsInterface",inputs:[{name:"interfaceId",type:"bytes4",internalType:"bytes4"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"symbol",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"},{type:"function",name:"tokenURI",inputs:[{name:"tokenId",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"},{type:"function",name:"transferFrom",inputs:[{name:"from",type:"address",internalType:"address"},{name:"to",type:"address",internalType:"address"},{name:"tokenId",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"transferOwnership",inputs:[{name:"newOwner",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"withdraw",inputs:[],outputs:[],stateMutability:"nonpayable"},{type:"event",name:"Approval",inputs:[{name:"owner",type:"address",indexed:!0,internalType:"address"},{name:"approved",type:"address",indexed:!0,internalType:"address"},{name:"tokenId",type:"uint256",indexed:!0,internalType:"uint256"}],anonymous:!1},{type:"event",name:"ApprovalForAll",inputs:[{name:"owner",type:"address",indexed:!0,internalType:"address"},{name:"operator",type:"address",indexed:!0,internalType:"address"},{name:"approved",type:"bool",indexed:!1,internalType:"bool"}],anonymous:!1},{type:"event",name:"BatchMetadataUpdate",inputs:[{name:"_fromTokenId",type:"uint256",indexed:!1,internalType:"uint256"},{name:"_toTokenId",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"BuildFarm",inputs:[{name:"owner",type:"address",indexed:!0,internalType:"address"},{name:"tokenId",type:"uint256",indexed:!1,internalType:"uint256"},{name:"buildTime",type:"uint256",indexed:!1,internalType:"uint256"},{name:"latitude",type:"int64",indexed:!1,internalType:"int64"},{name:"longitude",type:"int64",indexed:!1,internalType:"int64"},{name:"farmName",type:"string",indexed:!1,internalType:"string"}],anonymous:!1},{type:"event",name:"MetadataUpdate",inputs:[{name:"_tokenId",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"Mint",inputs:[{name:"owner",type:"address",indexed:!0,internalType:"address"},{name:"IPFSUrl",type:"string",indexed:!1,internalType:"string"}],anonymous:!1},{type:"event",name:"OwnershipTransferred",inputs:[{name:"previousOwner",type:"address",indexed:!0,internalType:"address"},{name:"newOwner",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"event",name:"Transfer",inputs:[{name:"from",type:"address",indexed:!0,internalType:"address"},{name:"to",type:"address",indexed:!0,internalType:"address"},{name:"tokenId",type:"uint256",indexed:!0,internalType:"uint256"}],anonymous:!1},{type:"error",name:"ERC721IncorrectOwner",inputs:[{name:"sender",type:"address",internalType:"address"},{name:"tokenId",type:"uint256",internalType:"uint256"},{name:"owner",type:"address",internalType:"address"}]},{type:"error",name:"ERC721InsufficientApproval",inputs:[{name:"operator",type:"address",internalType:"address"},{name:"tokenId",type:"uint256",internalType:"uint256"}]},{type:"error",name:"ERC721InvalidApprover",inputs:[{name:"approver",type:"address",internalType:"address"}]},{type:"error",name:"ERC721InvalidOperator",inputs:[{name:"operator",type:"address",internalType:"address"}]},{type:"error",name:"ERC721InvalidOwner",inputs:[{name:"owner",type:"address",internalType:"address"}]},{type:"error",name:"ERC721InvalidReceiver",inputs:[{name:"receiver",type:"address",internalType:"address"}]},{type:"error",name:"ERC721InvalidSender",inputs:[{name:"sender",type:"address",internalType:"address"}]},{type:"error",name:"ERC721NonexistentToken",inputs:[{name:"tokenId",type:"uint256",internalType:"uint256"}]},{type:"error",name:"OwnableInvalidOwner",inputs:[{name:"owner",type:"address",internalType:"address"}]},{type:"error",name:"OwnableUnauthorizedAccount",inputs:[{name:"account",type:"address",internalType:"address"}]}];async function mv(){const r=ma(),t=await r.listAccounts();return(!t.length||t[0]!==Ml)&&(Ml=await r.getSigner()),Ml}const ma=()=>(!Nl&&window.ethereum&&(Nl=new Au(window.ethereum)),Nl),nm=()=>{const r=ma();return Ol||(Ol=new Fr(hv,fv,r)),Ol},ga=()=>{const r=ma();return Sl||(Sl=new Fr(dv,pv,r)),Sl},im=async r=>{const t=await nm();r||(r=Gu());const e=await t.balanceOf(r);return Xg(e)},Gu=async()=>{const t=await ma().listAccounts();if(t.length!==0)return t[0].getAddress()};async function Zu(r){const t=ga(),e=await t.filters.BuildFarm(r);return await t.queryFilter(e)}function rm(r){const t=r.args.toObject();return{owner:t.owner,name:t.farmName,latitude:parseInt(t.latitude)/100,longitude:parseInt(t.longitude)/100}}async function gv(){const r=ga(),t=await r.getFarmsIds(),e=new Map;for(let i=0;i<t.length;i++){const o=(await r.farms(t[i])).toObject();e.has(o.owner)||e.set(o.owner,{address:o.owner,score:0,farmCount:0,cricketCount:0});const c=e.get(o.owner),l=sm(o.buildTime);c.farmCount+=1,c.cricketCount+=l,c.score+=1e3+l}return e}async function yv(){const r=await gv(),t=[];let e=0,i="0x";const o=r.size;for(let c=0;c<o;c++)r.forEach((l,h,f)=>{l.score>e&&(e=l.score,i=h)}),t.push(r.get(i)),r.delete(i),e=0,i="0x";return t}async function _v(){return(await Zu()).length}function sm(r){const t=Date.now()/1e3;return Math.round((t-parseInt(r))/10)}async function wv(){let r=0;const t=await Zu();for(let e=0;e<t.length;e++){const i=t[e].args.toObject();r+=sm(i.buildTime)}return r}async function Rl(r,t){const e={startVal:0,duration:1.5};let i=new Lg(r,t,e);return i.error?console.error(i.error):i.start(),i}async function vv(){const r=await _v(),t=await wv();Promise.all([Rl("global-farm-count",r),Rl("global-crickets-count",t),Rl("global-meals-count",t/77)]).then(e=>{const i=ga(),o=i.filters.BuildFarm();i.on(o,()=>{e[0].update(e[0].endVal+1)}),r&&(setInterval(()=>{e[1].update(e[1].endVal+1)},5e3/r),setInterval(()=>{e[2].update(e[2].endVal+1)},5e3/r*20))})}window.ethereum&&vv();function om(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var ic={exports:{}},bv=ic.exports,sd;function Av(){return sd||(sd=1,function(r,t){(function(e,i){r.exports=i()})(bv,function(){return function(e){function i(c){if(o[c])return o[c].exports;var l=o[c]={i:c,l:!1,exports:{}};return e[c].call(l.exports,l,l.exports,i),l.l=!0,l.exports}var o={};return i.m=e,i.c=o,i.i=function(c){return c},i.d=function(c,l,h){i.o(c,l)||Object.defineProperty(c,l,{configurable:!1,enumerable:!0,get:h})},i.n=function(c){var l=c&&c.__esModule?function(){return c.default}:function(){return c};return i.d(l,"a",l),l},i.o=function(c,l){return Object.prototype.hasOwnProperty.call(c,l)},i.p="",i(i.s=1)}([function(e,i){e.exports=function(o){return o.webpackPolyfill||(o.deprecate=function(){},o.paths=[],o.children||(o.children=[]),Object.defineProperty(o,"loaded",{enumerable:!0,get:function(){return o.l}}),Object.defineProperty(o,"id",{enumerable:!0,get:function(){return o.i}}),o.webpackPolyfill=1),o}},function(e,i,o){(function(c){var l,h,f,m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _};(function(_,y){m(i)==="object"&&m(c)==="object"?c.exports=y():(h=[],l=y,f=typeof l=="function"?l.apply(i,h):l,f!==void 0&&(c.exports=f))})(void 0,function(){return function(_){function y(E){if(b[E])return b[E].exports;var T=b[E]={i:E,l:!1,exports:{}};return _[E].call(T.exports,T,T.exports,y),T.l=!0,T.exports}var b={};return y.m=_,y.c=b,y.i=function(E){return E},y.d=function(E,T,x){y.o(E,T)||Object.defineProperty(E,T,{configurable:!1,enumerable:!0,get:x})},y.n=function(E){var T=E&&E.__esModule?function(){return E.default}:function(){return E};return y.d(T,"a",T),T},y.o=function(E,T){return Object.prototype.hasOwnProperty.call(E,T)},y.p="",y(y.s=0)}([function(_,y,b){function E(S,q){var z={};for(var X in S)q.indexOf(X)>=0||Object.prototype.hasOwnProperty.call(S,X)&&(z[X]=S[X]);return z}Object.defineProperty(y,"__esModule",{value:!0});var T=typeof Symbol=="function"&&m(Symbol.iterator)==="symbol"?function(S){return typeof S>"u"?"undefined":m(S)}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S>"u"?"undefined":m(S)},x=Object.assign||function(S){for(var q=1;q<arguments.length;q++){var z=arguments[q];for(var X in z)Object.prototype.hasOwnProperty.call(z,X)&&(S[X]=z[X])}return S},O={top:"top",bottom:"bottom"},A={alertTime:3,dateMonths:["January","February","March","April","May","June","July","August","September","October","November","December"],overlayClickDismiss:!0,overlayOpacity:.75,transitionCurve:"ease",transitionDuration:.3,transitionSelector:"all",classes:{container:"notie-container",textbox:"notie-textbox",textboxInner:"notie-textbox-inner",button:"notie-button",element:"notie-element",elementHalf:"notie-element-half",elementThird:"notie-element-third",overlay:"notie-overlay",backgroundSuccess:"notie-background-success",backgroundWarning:"notie-background-warning",backgroundError:"notie-background-error",backgroundInfo:"notie-background-info",backgroundNeutral:"notie-background-neutral",backgroundOverlay:"notie-background-overlay",alert:"notie-alert",inputField:"notie-input-field",selectChoiceRepeated:"notie-select-choice-repeated",dateSelectorInner:"notie-date-selector-inner",dateSelectorUp:"notie-date-selector-up"},ids:{overlay:"notie-overlay"},positions:{alert:O.top,force:O.top,confirm:O.top,input:O.top,select:O.bottom,date:O.top}},G=y.setOptions=function(S){A=x({},A,S,{classes:x({},A.classes,S.classes),ids:x({},A.ids,S.ids),positions:x({},A.positions,S.positions)})},F=function(){return new Promise(function(S){return setTimeout(S,0)})},rt=function(S){return new Promise(function(q){return setTimeout(q,1e3*S)})},K=function(){document.activeElement&&document.activeElement.blur()},V=function(){var S="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(q){var z=16*Math.random()|0,X=q==="x"?z:3&z|8;return X.toString(16)});return"notie-"+S},et={1:A.classes.backgroundSuccess,success:A.classes.backgroundSuccess,2:A.classes.backgroundWarning,warning:A.classes.backgroundWarning,3:A.classes.backgroundError,error:A.classes.backgroundError,4:A.classes.backgroundInfo,info:A.classes.backgroundInfo,5:A.classes.backgroundNeutral,neutral:A.classes.backgroundNeutral},$=function(){return A.transitionSelector+" "+A.transitionDuration+"s "+A.transitionCurve},pt=function(S){return S.keyCode===13},ut=function(S){return S.keyCode===27},it=function(S,q){S.classList.add(A.classes.container),S.style[q]="-10000px",document.body.appendChild(S),S.style[q]="-"+S.offsetHeight+"px",S.listener&&window.addEventListener("keydown",S.listener),F().then(function(){S.style.transition=$(),S.style[q]=0})},ct=function(S,q){var z=document.getElementById(S);z&&(z.style[q]="-"+z.offsetHeight+"px",z.listener&&window.removeEventListener("keydown",z.listener),rt(A.transitionDuration).then(function(){z.parentNode&&z.parentNode.removeChild(z)}))},Ht=function(S,q){var z=document.createElement("div");z.id=A.ids.overlay,z.classList.add(A.classes.overlay),z.classList.add(A.classes.backgroundOverlay),z.style.opacity=0,S&&A.overlayClickDismiss&&(z.onclick=function(){ct(S.id,q),Bt()}),document.body.appendChild(z),F().then(function(){z.style.transition=$(),z.style.opacity=A.overlayOpacity})},Bt=function(){var S=document.getElementById(A.ids.overlay);S.style.opacity=0,rt(A.transitionDuration).then(function(){S.parentNode&&S.parentNode.removeChild(S)})},D=y.hideAlerts=function(S){var q=document.getElementsByClassName(A.classes.alert);if(q.length){for(var z=0;z<q.length;z++){var X=q[z];ct(X.id,X.position)}S&&rt(A.transitionDuration).then(function(){return S()})}},H=y.alert=function(S){var q=S.type,z=q===void 0?4:q,X=S.text,U=S.time,xt=U===void 0?A.alertTime:U,Mt=S.stay,Gt=Mt!==void 0&&Mt,Ot=S.position,Ct=Ot===void 0?A.positions.alert||Ct.top:Ot;K(),D();var dt=document.createElement("div"),ht=V();dt.id=ht,dt.position=Ct,dt.classList.add(A.classes.textbox),dt.classList.add(et[z]),dt.classList.add(A.classes.alert),dt.innerHTML='<div class="'+A.classes.textboxInner+'">'+X+"</div>",dt.onclick=function(){return ct(ht,Ct)},dt.listener=function(tt){(pt(tt)||ut(tt))&&D()},it(dt,Ct),xt&&xt<1&&(xt=1),!Gt&&xt&&rt(xt).then(function(){return ct(ht,Ct)})},lt=y.force=function(S,q){var z=S.type,X=z===void 0?5:z,U=S.text,xt=S.buttonText,Mt=xt===void 0?"OK":xt,Gt=S.callback,Ot=S.position,Ct=Ot===void 0?A.positions.force||Ct.top:Ot;K(),D();var dt=document.createElement("div"),ht=V();dt.id=ht;var tt=document.createElement("div");tt.classList.add(A.classes.textbox),tt.classList.add(A.classes.backgroundInfo),tt.innerHTML='<div class="'+A.classes.textboxInner+'">'+U+"</div>";var vt=document.createElement("div");vt.classList.add(A.classes.button),vt.classList.add(et[X]),vt.innerHTML=Mt,vt.onclick=function(){ct(ht,Ct),Bt(),Gt?Gt():q&&q()},dt.appendChild(tt),dt.appendChild(vt),dt.listener=function(Zt){pt(Zt)&&vt.click()},it(dt,Ct),Ht()},Q=y.confirm=function(S,q,z){var X=S.text,U=S.submitText,xt=U===void 0?"Yes":U,Mt=S.cancelText,Gt=Mt===void 0?"Cancel":Mt,Ot=S.submitCallback,Ct=S.cancelCallback,dt=S.position,ht=dt===void 0?A.positions.confirm||ht.top:dt;K(),D();var tt=document.createElement("div"),vt=V();tt.id=vt;var Zt=document.createElement("div");Zt.classList.add(A.classes.textbox),Zt.classList.add(A.classes.backgroundInfo),Zt.innerHTML='<div class="'+A.classes.textboxInner+'">'+X+"</div>";var Rt=document.createElement("div");Rt.classList.add(A.classes.button),Rt.classList.add(A.classes.elementHalf),Rt.classList.add(A.classes.backgroundSuccess),Rt.innerHTML=xt,Rt.onclick=function(){ct(vt,ht),Bt(),Ot?Ot():q&&q()};var ot=document.createElement("div");ot.classList.add(A.classes.button),ot.classList.add(A.classes.elementHalf),ot.classList.add(A.classes.backgroundError),ot.innerHTML=Gt,ot.onclick=function(){ct(vt,ht),Bt(),Ct?Ct():z&&z()},tt.appendChild(Zt),tt.appendChild(Rt),tt.appendChild(ot),tt.listener=function(ie){pt(ie)?Rt.click():ut(ie)&&ot.click()},it(tt,ht),Ht(tt,ht)},Lt=function(S,q,z){var X=S.text,U=S.submitText,xt=U===void 0?"Submit":U,Mt=S.cancelText,Gt=Mt===void 0?"Cancel":Mt,Ot=S.submitCallback,Ct=S.cancelCallback,dt=S.position,ht=dt===void 0?A.positions.input||ht.top:dt,tt=E(S,["text","submitText","cancelText","submitCallback","cancelCallback","position"]);K(),D();var vt=document.createElement("div"),Zt=V();vt.id=Zt;var Rt=document.createElement("div");Rt.classList.add(A.classes.textbox),Rt.classList.add(A.classes.backgroundInfo),Rt.innerHTML='<div class="'+A.classes.textboxInner+'">'+X+"</div>";var ot=document.createElement("input");ot.classList.add(A.classes.inputField),ot.setAttribute("autocapitalize",tt.autocapitalize||"none"),ot.setAttribute("autocomplete",tt.autocomplete||"off"),ot.setAttribute("autocorrect",tt.autocorrect||"off"),ot.setAttribute("autofocus",tt.autofocus||"true"),ot.setAttribute("inputmode",tt.inputmode||"verbatim"),ot.setAttribute("max",tt.max||""),ot.setAttribute("maxlength",tt.maxlength||""),ot.setAttribute("min",tt.min||""),ot.setAttribute("minlength",tt.minlength||""),ot.setAttribute("placeholder",tt.placeholder||""),ot.setAttribute("spellcheck",tt.spellcheck||"default"),ot.setAttribute("step",tt.step||"any"),ot.setAttribute("type",tt.type||"text"),ot.value=tt.value||"",tt.allowed&&(ot.oninput=function(){var $t=void 0;if(Array.isArray(tt.allowed)){for(var le="",nn=tt.allowed,rn=0;rn<nn.length;rn++)nn[rn]==="an"?le+="0-9a-zA-Z":nn[rn]==="a"?le+="a-zA-Z":nn[rn]==="n"&&(le+="0-9"),nn[rn]==="s"&&(le+=" ");$t=new RegExp("[^"+le+"]","g")}else T(tt.allowed)==="object"&&($t=tt.allowed);ot.value=ot.value.replace($t,"")});var ie=document.createElement("div");ie.classList.add(A.classes.button),ie.classList.add(A.classes.elementHalf),ie.classList.add(A.classes.backgroundSuccess),ie.innerHTML=xt,ie.onclick=function(){ct(Zt,ht),Bt(),Ot?Ot(ot.value):q&&q(ot.value)};var Le=document.createElement("div");Le.classList.add(A.classes.button),Le.classList.add(A.classes.elementHalf),Le.classList.add(A.classes.backgroundError),Le.innerHTML=Gt,Le.onclick=function(){ct(Zt,ht),Bt(),Ct?Ct(ot.value):z&&z(ot.value)},vt.appendChild(Rt),vt.appendChild(ot),vt.appendChild(ie),vt.appendChild(Le),vt.listener=function($t){pt($t)?ie.click():ut($t)&&Le.click()},it(vt,ht),ot.focus(),Ht(vt,ht)};y.input=Lt;var Y=y.select=function(S,q){var z=S.text,X=S.cancelText,U=X===void 0?"Cancel":X,xt=S.cancelCallback,Mt=S.choices,Gt=S.position,Ot=Gt===void 0?A.positions.select||Ot.top:Gt;K(),D();var Ct=document.createElement("div"),dt=V();Ct.id=dt;var ht=document.createElement("div");ht.classList.add(A.classes.textbox),ht.classList.add(A.classes.backgroundInfo),ht.innerHTML='<div class="'+A.classes.textboxInner+'">'+z+"</div>",Ct.appendChild(ht),Mt.forEach(function(vt,Zt){var Rt=vt.type,ot=Rt===void 0?1:Rt,ie=vt.text,Le=vt.handler,$t=document.createElement("div");$t.classList.add(et[ot]),$t.classList.add(A.classes.button),$t.classList.add(A.classes.selectChoice);var le=Mt[Zt+1];le&&!le.type&&(le.type=1),le&&le.type===ot&&$t.classList.add(A.classes.selectChoiceRepeated),$t.innerHTML=ie,$t.onclick=function(){ct(dt,Ot),Bt(),Le()},Ct.appendChild($t)});var tt=document.createElement("div");tt.classList.add(A.classes.backgroundNeutral),tt.classList.add(A.classes.button),tt.innerHTML=U,tt.onclick=function(){ct(dt,Ot),Bt(),xt?xt():q&&q()},Ct.appendChild(tt),Ct.listener=function(vt){ut(vt)&&tt.click()},it(Ct,Ot),Ht(Ct,Ot)},wt=y.date=function(S,q,z){var X=S.value,U=X===void 0?new Date:X,xt=S.submitText,Mt=xt===void 0?"OK":xt,Gt=S.cancelText,Ot=Gt===void 0?"Cancel":Gt,Ct=S.submitCallback,dt=S.cancelCallback,ht=S.position,tt=ht===void 0?A.positions.date||tt.top:ht;K(),D();var vt="&#9662",Zt=document.createElement("div"),Rt=document.createElement("div"),ot=document.createElement("div"),ie=function(Qt){Zt.innerHTML=A.dateMonths[Qt.getMonth()],Rt.innerHTML=Qt.getDate(),ot.innerHTML=Qt.getFullYear()},Le=function(Qt){var Ze=new Date(U.getFullYear(),U.getMonth()+1,0).getDate(),Zn=Qt.target.textContent.replace(/^0+/,"").replace(/[^\d]/g,"").slice(0,2);Number(Zn)>Ze&&(Zn=Ze.toString()),Qt.target.textContent=Zn,Number(Zn)<1&&(Zn="1"),U.setDate(Number(Zn))},$t=function(Qt){var Ze=Qt.target.textContent.replace(/^0+/,"").replace(/[^\d]/g,"").slice(0,4);Qt.target.textContent=Ze,U.setFullYear(Number(Ze))},le=function(Qt){ie(U)},nn=function(Qt){var Ze=new Date(U.getFullYear(),U.getMonth()+Qt+1,0).getDate();U.getDate()>Ze&&U.setDate(Ze),U.setMonth(U.getMonth()+Qt),ie(U)},rn=function(Qt){U.setDate(U.getDate()+Qt),ie(U)},ya=function(Qt){var Ze=U.getFullYear()+Qt;Ze<0?U.setFullYear(0):U.setFullYear(U.getFullYear()+Qt),ie(U)},sn=document.createElement("div"),Qr=V();sn.id=Qr;var Jr=document.createElement("div");Jr.classList.add(A.classes.backgroundInfo);var Me=document.createElement("div");Me.classList.add(A.classes.dateSelectorInner);var Un=document.createElement("div");Un.classList.add(A.classes.button),Un.classList.add(A.classes.elementThird),Un.classList.add(A.classes.dateSelectorUp),Un.innerHTML=vt;var zn=document.createElement("div");zn.classList.add(A.classes.button),zn.classList.add(A.classes.elementThird),zn.classList.add(A.classes.dateSelectorUp),zn.innerHTML=vt;var gi=document.createElement("div");gi.classList.add(A.classes.button),gi.classList.add(A.classes.elementThird),gi.classList.add(A.classes.dateSelectorUp),gi.innerHTML=vt,Zt.classList.add(A.classes.element),Zt.classList.add(A.classes.elementThird),Zt.innerHTML=A.dateMonths[U.getMonth()],Rt.classList.add(A.classes.element),Rt.classList.add(A.classes.elementThird),Rt.setAttribute("contentEditable",!0),Rt.addEventListener("input",Le),Rt.addEventListener("blur",le),Rt.innerHTML=U.getDate(),ot.classList.add(A.classes.element),ot.classList.add(A.classes.elementThird),ot.setAttribute("contentEditable",!0),ot.addEventListener("input",$t),ot.addEventListener("blur",le),ot.innerHTML=U.getFullYear();var yi=document.createElement("div");yi.classList.add(A.classes.button),yi.classList.add(A.classes.elementThird),yi.innerHTML=vt;var Hn=document.createElement("div");Hn.classList.add(A.classes.button),Hn.classList.add(A.classes.elementThird),Hn.innerHTML=vt;var _i=document.createElement("div");_i.classList.add(A.classes.button),_i.classList.add(A.classes.elementThird),_i.innerHTML=vt,Un.onclick=function(){return nn(1)},zn.onclick=function(){return rn(1)},gi.onclick=function(){return ya(1)},yi.onclick=function(){return nn(-1)},Hn.onclick=function(){return rn(-1)},_i.onclick=function(){return ya(-1)};var Gn=document.createElement("div");Gn.classList.add(A.classes.button),Gn.classList.add(A.classes.elementHalf),Gn.classList.add(A.classes.backgroundSuccess),Gn.innerHTML=Mt,Gn.onclick=function(){ct(Qr,tt),Bt(),Ct?Ct(U):q&&q(U)};var Re=document.createElement("div");Re.classList.add(A.classes.button),Re.classList.add(A.classes.elementHalf),Re.classList.add(A.classes.backgroundError),Re.innerHTML=Ot,Re.onclick=function(){ct(Qr,tt),Bt(),dt?dt(U):z&&z(U)},Me.appendChild(Un),Me.appendChild(zn),Me.appendChild(gi),Me.appendChild(Zt),Me.appendChild(Rt),Me.appendChild(ot),Me.appendChild(yi),Me.appendChild(Hn),Me.appendChild(_i),Jr.appendChild(Me),sn.appendChild(Jr),sn.appendChild(Gn),sn.appendChild(Re),sn.listener=function(Qt){pt(Qt)?Gn.click():ut(Qt)&&Re.click()},it(sn,tt),Ht(sn,tt)};y.default={alert:H,force:lt,confirm:Q,input:Lt,select:Y,date:wt,setOptions:G,hideAlerts:D}}])})}).call(i,o(0)(e))}])})}(ic)),ic.exports}var xv=Av();const am=om(xv);am.setOptions({alertTime:5,dateMonths:["January","February","March","April","May","June","July","August","September","October","November","December"],overlayClickDismiss:!0,overlayOpacity:.75,transitionCurve:"ease",transitionDuration:.3,transitionSelector:"all",classes:{container:"notie-container",textbox:"notie-textbox",textboxInner:"notie-textbox-inner",button:"notie-button",element:"notie-element",elementHalf:"notie-element-half",elementThird:"notie-element-third",overlay:"notie-overlay",backgroundSuccess:"notie-background-success",backgroundWarning:"notie-background-warning",backgroundError:"notie-background-error",backgroundInfo:"notie-background-info",backgroundNeutral:"notie-background-neutral",backgroundOverlay:"notie-background-overlay",alert:"notie-alert",inputField:"notie-input-field",selectChoiceRepeated:"notie-select-choice-repeated",dateSelectorInner:"notie-date-selector-inner",dateSelectorUp:"notie-date-selector-up"},ids:{overlay:"notie-overlay"},positions:{alert:"bottom",force:"bottom",confirm:"bottom",input:"bottom",select:"bottom",date:"bottom"}});const Ev=r=>{am.alert({type:1,text:r,stay:!1,position:"bottom"})};async function Pv(r){const t=document.getElementById("popup");t.innerHTML=`<div class="m-auto flex flex-col gap-8 h-1/2 items-center 2xl:w-1/2 w-3/4 lg:2/3 justify-center">

        <div class="justify-between gap-3 flex flex-col inset-shadow-[0_0_12px_cyan] shadow-[0_0_20px_cyan] hover:shadow-[0_0_30px_cyan] rounded-xl bg-neutral-900 w-full h-auto col-span-1 text-center  p-4 overflow-visible">

            <div class="flex flex-col w-full">
                <p class="text-4xl text-cyan-100 font-bold">You successfully minted <span id="product-name"></span></p><br>
                <div class="flex flex-col md:flex-row w-full">
                    <img id="product-img" src="" alt="product image" class="opacity-100 md:max-w-1/2"/>
                    <div class="text-white md:w-1/2 justify-between gap-3 flex flex-col inset-shadow-[0_0_12px_cyan] shadow-[0_0_20px_cyan] hover:shadow-[0_0_30px_cyan] rounded-xl bg-neutral-900 h-full col-span-1 text-center  p-4 overflow-visible ">
                        <p id="metadata" class="text-lg text-cyan-100 font-bold break-words text-start"></p>
                    </div>
                </div>
                <p class="text-4xl text-cyan-100 font-bold my-2">Thank you! Your belonging to the GRZ42 Project make the world better!</p>
            </div>
        </div>

    </div>`;const e=document.getElementById("product-img"),i=document.getElementById("product-name");fetch("https://ipfs.io/ipfs/"+r.substring(7)).then(o=>o.json()).then(o=>{document.getElementById("metadata").innerText=JSON.stringify(o),i.innerText=o.name;const c="https://ipfs.io/ipfs/"+o.image.substring(7);e.setAttribute("src",c)}).catch(o=>console.log(o)),t.classList.remove("hidden!"),t.addEventListener("click",()=>t.classList.add("hidden!"))}const Vu=document.getElementById("user-access-container");function Tv(){Vu.innerHTML='<button class="cursor-pointer! text-neutral-900 font-bold text-xl inset-shadow-[0_0_12px_cyan] shadow-[0_0_20px_cyan] hover:shadow-[0_0_30px_cyan] flex md:flex-col rounded-xl bg-cyan-200 col-span-1 text-center justify-center p-4 items-center" id="metamaskConnection">CONNECT WITH METAMASK</button>',document.getElementById("metamaskConnection").addEventListener("click",async()=>{await mv()})}async function Lv(r){const t=await im(r);Vu.innerHTML=[`<a href='/dashboard' class="cursor-pointer! text-neutral-900 font-bold text-xl inset-shadow-[0_0_12px_cyan] shadow-[0_0_20px_cyan] hover:shadow-[0_0_30px_cyan] rounded-xl bg-cyan-200 col-span-1 text-center justify-center p-4 px-16 items-center" id="dashboardAccess">MY DASHBOARD</a>`,"   <a class='cursor-pointer! gap-1 flex flex-row text-neutral-900 font-bold text-xl inset-shadow-[0_0_12px_cyan] shadow-[0_0_20px_cyan] hover:shadow-[0_0_30px_cyan] rounded-xl bg-cyan-200 col-span-1 text-center justify-center p-4 items-center' href='/marketplace'>","       <img class='cursor-pointer! h-7 w-7' alt='shopping-cart' src='/shopping-cart.png'/>","   </a>",'<div class="gap-1 flex flex-row text-neutral-900 font-bold text-xl inset-shadow-[0_0_12px_cyan] shadow-[0_0_20px_cyan] hover:shadow-[0_0_30px_cyan] rounded-xl bg-cyan-200 col-span-1 text-center justify-center p-4 items-center">',"   <img alt='wallet' class='h-7 w-7' src='/wallet.png' />",`    <p><span id="balance-header">${t}</span> $GRZ</p>`,"</div>"].join(`
`)}async function od(){const t=await ma().listAccounts();t.length===0?Tv():t[0]!==Ja&&(Ja=t[0],await Lv(Ja),await Cv(Ja))}async function Qa(){const r=document.getElementById("balance-dashboard"),t=document.getElementById("balance-header"),e=await im();t&&(t.innerText=e),r&&(r.innerText=e)}async function Cv(r){const t=nm(),e=ga(),i=e.filters.BuildFarm(r),o=e.filters.Mint(r),c=t.filters.PurchaseProduct(r),l=t.filters.ClaimGrz(r);e.on(o,async h=>{const f=h.args.toObject();await Qa(),await Pv(f.IPFSUrl)}),e.on(i,async h=>{await Qa()}),t.on(c,async h=>{await Qa()}),t.on(l,async h=>{const f=h.args.toObject();await Qa(),Ev(`You successfully redeemed ${f.amount} $GRZ42!`)})}let Ja=null;window.ethereum?(window.ethereum.on("accountsChanged",od),od()):Vu.innerHTML=`<a class="cursor-pointer! text-neutral-900 font-bold text-xl inset-shadow-[0_0_12px_cyan] shadow-[0_0_20px_cyan] hover:shadow-[0_0_30px_cyan] flex md:flex-col rounded-xl bg-cyan-200 col-span-1 text-center justify-center p-4 px-16 items-center" id="dashboardAccess" href='https://chromewebstore.google.com/detail/metamask/nkbihfbeogaeaoehlefnkodbefgpgknn' target='_blank'>DOWNLOAD METAMASK</a>`;async function kv(){const r=document.getElementById("leaderboard");(await yv()).forEach((e,i)=>{r.innerHTML+=['<tr class="text-center">',`<td class="py-3">${i+1}</td>`,`<td>${e.address}</td>`,`<td>${e.score}</td>`,`<td>${e.farmCount}</td>`,`<td>${e.cricketCount}</td>`,"</tr>"].join("")})}window.ethereum&&kv();var Ro={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var Iv=Ro.exports,ad;function Bv(){return ad||(ad=1,function(r,t){(function(e,i){i(t)})(Iv,function(e){var i="1.9.4";function o(n){var s,a,u,d;for(a=1,u=arguments.length;a<u;a++){d=arguments[a];for(s in d)n[s]=d[s]}return n}var c=Object.create||function(){function n(){}return function(s){return n.prototype=s,new n}}();function l(n,s){var a=Array.prototype.slice;if(n.bind)return n.bind.apply(n,a.call(arguments,1));var u=a.call(arguments,2);return function(){return n.apply(s,u.length?u.concat(a.call(arguments)):arguments)}}var h=0;function f(n){return"_leaflet_id"in n||(n._leaflet_id=++h),n._leaflet_id}function m(n,s,a){var u,d,g,v;return v=function(){u=!1,d&&(g.apply(a,d),d=!1)},g=function(){u?d=arguments:(n.apply(a,arguments),setTimeout(v,s),u=!0)},g}function _(n,s,a){var u=s[1],d=s[0],g=u-d;return n===u&&a?n:((n-d)%g+g)%g+d}function y(){return!1}function b(n,s){if(s===!1)return n;var a=Math.pow(10,s===void 0?6:s);return Math.round(n*a)/a}function E(n){return n.trim?n.trim():n.replace(/^\s+|\s+$/g,"")}function T(n){return E(n).split(/\s+/)}function x(n,s){Object.prototype.hasOwnProperty.call(n,"options")||(n.options=n.options?c(n.options):{});for(var a in s)n.options[a]=s[a];return n.options}function O(n,s,a){var u=[];for(var d in n)u.push(encodeURIComponent(a?d.toUpperCase():d)+"="+encodeURIComponent(n[d]));return(!s||s.indexOf("?")===-1?"?":"&")+u.join("&")}var A=/\{ *([\w_ -]+) *\}/g;function G(n,s){return n.replace(A,function(a,u){var d=s[u];if(d===void 0)throw new Error("No value provided for variable "+a);return typeof d=="function"&&(d=d(s)),d})}var F=Array.isArray||function(n){return Object.prototype.toString.call(n)==="[object Array]"};function rt(n,s){for(var a=0;a<n.length;a++)if(n[a]===s)return a;return-1}var K="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function V(n){return window["webkit"+n]||window["moz"+n]||window["ms"+n]}var et=0;function $(n){var s=+new Date,a=Math.max(0,16-(s-et));return et=s+a,window.setTimeout(n,a)}var pt=window.requestAnimationFrame||V("RequestAnimationFrame")||$,ut=window.cancelAnimationFrame||V("CancelAnimationFrame")||V("CancelRequestAnimationFrame")||function(n){window.clearTimeout(n)};function it(n,s,a){if(a&&pt===$)n.call(s);else return pt.call(window,l(n,s))}function ct(n){n&&ut.call(window,n)}var Ht={__proto__:null,extend:o,create:c,bind:l,get lastId(){return h},stamp:f,throttle:m,wrapNum:_,falseFn:y,formatNum:b,trim:E,splitWords:T,setOptions:x,getParamString:O,template:G,isArray:F,indexOf:rt,emptyImageUrl:K,requestFn:pt,cancelFn:ut,requestAnimFrame:it,cancelAnimFrame:ct};function Bt(){}Bt.extend=function(n){var s=function(){x(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},a=s.__super__=this.prototype,u=c(a);u.constructor=s,s.prototype=u;for(var d in this)Object.prototype.hasOwnProperty.call(this,d)&&d!=="prototype"&&d!=="__super__"&&(s[d]=this[d]);return n.statics&&o(s,n.statics),n.includes&&(D(n.includes),o.apply(null,[u].concat(n.includes))),o(u,n),delete u.statics,delete u.includes,u.options&&(u.options=a.options?c(a.options):{},o(u.options,n.options)),u._initHooks=[],u.callInitHooks=function(){if(!this._initHooksCalled){a.callInitHooks&&a.callInitHooks.call(this),this._initHooksCalled=!0;for(var g=0,v=u._initHooks.length;g<v;g++)u._initHooks[g].call(this)}},s},Bt.include=function(n){var s=this.prototype.options;return o(this.prototype,n),n.options&&(this.prototype.options=s,this.mergeOptions(n.options)),this},Bt.mergeOptions=function(n){return o(this.prototype.options,n),this},Bt.addInitHook=function(n){var s=Array.prototype.slice.call(arguments,1),a=typeof n=="function"?n:function(){this[n].apply(this,s)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(a),this};function D(n){if(!(typeof L>"u"||!L||!L.Mixin)){n=F(n)?n:[n];for(var s=0;s<n.length;s++)n[s]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var H={on:function(n,s,a){if(typeof n=="object")for(var u in n)this._on(u,n[u],s);else{n=T(n);for(var d=0,g=n.length;d<g;d++)this._on(n[d],s,a)}return this},off:function(n,s,a){if(!arguments.length)delete this._events;else if(typeof n=="object")for(var u in n)this._off(u,n[u],s);else{n=T(n);for(var d=arguments.length===1,g=0,v=n.length;g<v;g++)d?this._off(n[g]):this._off(n[g],s,a)}return this},_on:function(n,s,a,u){if(typeof s!="function"){console.warn("wrong listener type: "+typeof s);return}if(this._listens(n,s,a)===!1){a===this&&(a=void 0);var d={fn:s,ctx:a};u&&(d.once=!0),this._events=this._events||{},this._events[n]=this._events[n]||[],this._events[n].push(d)}},_off:function(n,s,a){var u,d,g;if(this._events&&(u=this._events[n],!!u)){if(arguments.length===1){if(this._firingCount)for(d=0,g=u.length;d<g;d++)u[d].fn=y;delete this._events[n];return}if(typeof s!="function"){console.warn("wrong listener type: "+typeof s);return}var v=this._listens(n,s,a);if(v!==!1){var C=u[v];this._firingCount&&(C.fn=y,this._events[n]=u=u.slice()),u.splice(v,1)}}},fire:function(n,s,a){if(!this.listens(n,a))return this;var u=o({},s,{type:n,target:this,sourceTarget:s&&s.sourceTarget||this});if(this._events){var d=this._events[n];if(d){this._firingCount=this._firingCount+1||1;for(var g=0,v=d.length;g<v;g++){var C=d[g],I=C.fn;C.once&&this.off(n,I,C.ctx),I.call(C.ctx||this,u)}this._firingCount--}}return a&&this._propagateEvent(u),this},listens:function(n,s,a,u){typeof n!="string"&&console.warn('"string" type argument expected');var d=s;typeof s!="function"&&(u=!!s,d=void 0,a=void 0);var g=this._events&&this._events[n];if(g&&g.length&&this._listens(n,d,a)!==!1)return!0;if(u){for(var v in this._eventParents)if(this._eventParents[v].listens(n,s,a,u))return!0}return!1},_listens:function(n,s,a){if(!this._events)return!1;var u=this._events[n]||[];if(!s)return!!u.length;a===this&&(a=void 0);for(var d=0,g=u.length;d<g;d++)if(u[d].fn===s&&u[d].ctx===a)return d;return!1},once:function(n,s,a){if(typeof n=="object")for(var u in n)this._on(u,n[u],s,!0);else{n=T(n);for(var d=0,g=n.length;d<g;d++)this._on(n[d],s,a,!0)}return this},addEventParent:function(n){return this._eventParents=this._eventParents||{},this._eventParents[f(n)]=n,this},removeEventParent:function(n){return this._eventParents&&delete this._eventParents[f(n)],this},_propagateEvent:function(n){for(var s in this._eventParents)this._eventParents[s].fire(n.type,o({layer:n.target,propagatedFrom:n.target},n),!0)}};H.addEventListener=H.on,H.removeEventListener=H.clearAllEventListeners=H.off,H.addOneTimeEventListener=H.once,H.fireEvent=H.fire,H.hasEventListeners=H.listens;var lt=Bt.extend(H);function Q(n,s,a){this.x=a?Math.round(n):n,this.y=a?Math.round(s):s}var Lt=Math.trunc||function(n){return n>0?Math.floor(n):Math.ceil(n)};Q.prototype={clone:function(){return new Q(this.x,this.y)},add:function(n){return this.clone()._add(Y(n))},_add:function(n){return this.x+=n.x,this.y+=n.y,this},subtract:function(n){return this.clone()._subtract(Y(n))},_subtract:function(n){return this.x-=n.x,this.y-=n.y,this},divideBy:function(n){return this.clone()._divideBy(n)},_divideBy:function(n){return this.x/=n,this.y/=n,this},multiplyBy:function(n){return this.clone()._multiplyBy(n)},_multiplyBy:function(n){return this.x*=n,this.y*=n,this},scaleBy:function(n){return new Q(this.x*n.x,this.y*n.y)},unscaleBy:function(n){return new Q(this.x/n.x,this.y/n.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Lt(this.x),this.y=Lt(this.y),this},distanceTo:function(n){n=Y(n);var s=n.x-this.x,a=n.y-this.y;return Math.sqrt(s*s+a*a)},equals:function(n){return n=Y(n),n.x===this.x&&n.y===this.y},contains:function(n){return n=Y(n),Math.abs(n.x)<=Math.abs(this.x)&&Math.abs(n.y)<=Math.abs(this.y)},toString:function(){return"Point("+b(this.x)+", "+b(this.y)+")"}};function Y(n,s,a){return n instanceof Q?n:F(n)?new Q(n[0],n[1]):n==null?n:typeof n=="object"&&"x"in n&&"y"in n?new Q(n.x,n.y):new Q(n,s,a)}function wt(n,s){if(n)for(var a=s?[n,s]:n,u=0,d=a.length;u<d;u++)this.extend(a[u])}wt.prototype={extend:function(n){var s,a;if(!n)return this;if(n instanceof Q||typeof n[0]=="number"||"x"in n)s=a=Y(n);else if(n=S(n),s=n.min,a=n.max,!s||!a)return this;return!this.min&&!this.max?(this.min=s.clone(),this.max=a.clone()):(this.min.x=Math.min(s.x,this.min.x),this.max.x=Math.max(a.x,this.max.x),this.min.y=Math.min(s.y,this.min.y),this.max.y=Math.max(a.y,this.max.y)),this},getCenter:function(n){return Y((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,n)},getBottomLeft:function(){return Y(this.min.x,this.max.y)},getTopRight:function(){return Y(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(n){var s,a;return typeof n[0]=="number"||n instanceof Q?n=Y(n):n=S(n),n instanceof wt?(s=n.min,a=n.max):s=a=n,s.x>=this.min.x&&a.x<=this.max.x&&s.y>=this.min.y&&a.y<=this.max.y},intersects:function(n){n=S(n);var s=this.min,a=this.max,u=n.min,d=n.max,g=d.x>=s.x&&u.x<=a.x,v=d.y>=s.y&&u.y<=a.y;return g&&v},overlaps:function(n){n=S(n);var s=this.min,a=this.max,u=n.min,d=n.max,g=d.x>s.x&&u.x<a.x,v=d.y>s.y&&u.y<a.y;return g&&v},isValid:function(){return!!(this.min&&this.max)},pad:function(n){var s=this.min,a=this.max,u=Math.abs(s.x-a.x)*n,d=Math.abs(s.y-a.y)*n;return S(Y(s.x-u,s.y-d),Y(a.x+u,a.y+d))},equals:function(n){return n?(n=S(n),this.min.equals(n.getTopLeft())&&this.max.equals(n.getBottomRight())):!1}};function S(n,s){return!n||n instanceof wt?n:new wt(n,s)}function q(n,s){if(n)for(var a=s?[n,s]:n,u=0,d=a.length;u<d;u++)this.extend(a[u])}q.prototype={extend:function(n){var s=this._southWest,a=this._northEast,u,d;if(n instanceof X)u=n,d=n;else if(n instanceof q){if(u=n._southWest,d=n._northEast,!u||!d)return this}else return n?this.extend(U(n)||z(n)):this;return!s&&!a?(this._southWest=new X(u.lat,u.lng),this._northEast=new X(d.lat,d.lng)):(s.lat=Math.min(u.lat,s.lat),s.lng=Math.min(u.lng,s.lng),a.lat=Math.max(d.lat,a.lat),a.lng=Math.max(d.lng,a.lng)),this},pad:function(n){var s=this._southWest,a=this._northEast,u=Math.abs(s.lat-a.lat)*n,d=Math.abs(s.lng-a.lng)*n;return new q(new X(s.lat-u,s.lng-d),new X(a.lat+u,a.lng+d))},getCenter:function(){return new X((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new X(this.getNorth(),this.getWest())},getSouthEast:function(){return new X(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(n){typeof n[0]=="number"||n instanceof X||"lat"in n?n=U(n):n=z(n);var s=this._southWest,a=this._northEast,u,d;return n instanceof q?(u=n.getSouthWest(),d=n.getNorthEast()):u=d=n,u.lat>=s.lat&&d.lat<=a.lat&&u.lng>=s.lng&&d.lng<=a.lng},intersects:function(n){n=z(n);var s=this._southWest,a=this._northEast,u=n.getSouthWest(),d=n.getNorthEast(),g=d.lat>=s.lat&&u.lat<=a.lat,v=d.lng>=s.lng&&u.lng<=a.lng;return g&&v},overlaps:function(n){n=z(n);var s=this._southWest,a=this._northEast,u=n.getSouthWest(),d=n.getNorthEast(),g=d.lat>s.lat&&u.lat<a.lat,v=d.lng>s.lng&&u.lng<a.lng;return g&&v},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(n,s){return n?(n=z(n),this._southWest.equals(n.getSouthWest(),s)&&this._northEast.equals(n.getNorthEast(),s)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function z(n,s){return n instanceof q?n:new q(n,s)}function X(n,s,a){if(isNaN(n)||isNaN(s))throw new Error("Invalid LatLng object: ("+n+", "+s+")");this.lat=+n,this.lng=+s,a!==void 0&&(this.alt=+a)}X.prototype={equals:function(n,s){if(!n)return!1;n=U(n);var a=Math.max(Math.abs(this.lat-n.lat),Math.abs(this.lng-n.lng));return a<=(s===void 0?1e-9:s)},toString:function(n){return"LatLng("+b(this.lat,n)+", "+b(this.lng,n)+")"},distanceTo:function(n){return Mt.distance(this,U(n))},wrap:function(){return Mt.wrapLatLng(this)},toBounds:function(n){var s=180*n/40075017,a=s/Math.cos(Math.PI/180*this.lat);return z([this.lat-s,this.lng-a],[this.lat+s,this.lng+a])},clone:function(){return new X(this.lat,this.lng,this.alt)}};function U(n,s,a){return n instanceof X?n:F(n)&&typeof n[0]!="object"?n.length===3?new X(n[0],n[1],n[2]):n.length===2?new X(n[0],n[1]):null:n==null?n:typeof n=="object"&&"lat"in n?new X(n.lat,"lng"in n?n.lng:n.lon,n.alt):s===void 0?null:new X(n,s,a)}var xt={latLngToPoint:function(n,s){var a=this.projection.project(n),u=this.scale(s);return this.transformation._transform(a,u)},pointToLatLng:function(n,s){var a=this.scale(s),u=this.transformation.untransform(n,a);return this.projection.unproject(u)},project:function(n){return this.projection.project(n)},unproject:function(n){return this.projection.unproject(n)},scale:function(n){return 256*Math.pow(2,n)},zoom:function(n){return Math.log(n/256)/Math.LN2},getProjectedBounds:function(n){if(this.infinite)return null;var s=this.projection.bounds,a=this.scale(n),u=this.transformation.transform(s.min,a),d=this.transformation.transform(s.max,a);return new wt(u,d)},infinite:!1,wrapLatLng:function(n){var s=this.wrapLng?_(n.lng,this.wrapLng,!0):n.lng,a=this.wrapLat?_(n.lat,this.wrapLat,!0):n.lat,u=n.alt;return new X(a,s,u)},wrapLatLngBounds:function(n){var s=n.getCenter(),a=this.wrapLatLng(s),u=s.lat-a.lat,d=s.lng-a.lng;if(u===0&&d===0)return n;var g=n.getSouthWest(),v=n.getNorthEast(),C=new X(g.lat-u,g.lng-d),I=new X(v.lat-u,v.lng-d);return new q(C,I)}},Mt=o({},xt,{wrapLng:[-180,180],R:6371e3,distance:function(n,s){var a=Math.PI/180,u=n.lat*a,d=s.lat*a,g=Math.sin((s.lat-n.lat)*a/2),v=Math.sin((s.lng-n.lng)*a/2),C=g*g+Math.cos(u)*Math.cos(d)*v*v,I=2*Math.atan2(Math.sqrt(C),Math.sqrt(1-C));return this.R*I}}),Gt=6378137,Ot={R:Gt,MAX_LATITUDE:85.0511287798,project:function(n){var s=Math.PI/180,a=this.MAX_LATITUDE,u=Math.max(Math.min(a,n.lat),-a),d=Math.sin(u*s);return new Q(this.R*n.lng*s,this.R*Math.log((1+d)/(1-d))/2)},unproject:function(n){var s=180/Math.PI;return new X((2*Math.atan(Math.exp(n.y/this.R))-Math.PI/2)*s,n.x*s/this.R)},bounds:function(){var n=Gt*Math.PI;return new wt([-n,-n],[n,n])}()};function Ct(n,s,a,u){if(F(n)){this._a=n[0],this._b=n[1],this._c=n[2],this._d=n[3];return}this._a=n,this._b=s,this._c=a,this._d=u}Ct.prototype={transform:function(n,s){return this._transform(n.clone(),s)},_transform:function(n,s){return s=s||1,n.x=s*(this._a*n.x+this._b),n.y=s*(this._c*n.y+this._d),n},untransform:function(n,s){return s=s||1,new Q((n.x/s-this._b)/this._a,(n.y/s-this._d)/this._c)}};function dt(n,s,a,u){return new Ct(n,s,a,u)}var ht=o({},Mt,{code:"EPSG:3857",projection:Ot,transformation:function(){var n=.5/(Math.PI*Ot.R);return dt(n,.5,-n,.5)}()}),tt=o({},ht,{code:"EPSG:900913"});function vt(n){return document.createElementNS("http://www.w3.org/2000/svg",n)}function Zt(n,s){var a="",u,d,g,v,C,I;for(u=0,g=n.length;u<g;u++){for(C=n[u],d=0,v=C.length;d<v;d++)I=C[d],a+=(d?"L":"M")+I.x+" "+I.y;a+=s?nt.svg?"z":"x":""}return a||"M0 0"}var Rt=document.documentElement.style,ot="ActiveXObject"in window,ie=ot&&!document.addEventListener,Le="msLaunchUri"in navigator&&!("documentMode"in document),$t=bn("webkit"),le=bn("android"),nn=bn("android 2")||bn("android 3"),rn=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),ya=le&&bn("Google")&&rn<537&&!("AudioNode"in window),sn=!!window.opera,Qr=!Le&&bn("chrome"),Jr=bn("gecko")&&!$t&&!sn&&!ot,Me=!Qr&&bn("safari"),Un=bn("phantom"),zn="OTransition"in Rt,gi=navigator.platform.indexOf("Win")===0,yi=ot&&"transition"in Rt,Hn="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!nn,_i="MozPerspective"in Rt,Gn=!window.L_DISABLE_3D&&(yi||Hn||_i)&&!zn&&!Un,Re=typeof orientation<"u"||bn("mobile"),Qt=Re&&$t,Ze=Re&&Hn,Zn=!window.PointerEvent&&window.MSPointerEvent,Wu=!!(window.PointerEvent||Zn),ju="ontouchstart"in window||!!window.TouchEvent,um=!window.L_NO_TOUCH&&(ju||Wu),hm=Re&&sn,fm=Re&&Jr,dm=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,pm=function(){var n=!1;try{var s=Object.defineProperty({},"passive",{get:function(){n=!0}});window.addEventListener("testPassiveEventSupport",y,s),window.removeEventListener("testPassiveEventSupport",y,s)}catch{}return n}(),mm=function(){return!!document.createElement("canvas").getContext}(),zc=!!(document.createElementNS&&vt("svg").createSVGRect),gm=!!zc&&function(){var n=document.createElement("div");return n.innerHTML="<svg/>",(n.firstChild&&n.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),ym=!zc&&function(){try{var n=document.createElement("div");n.innerHTML='<v:shape adj="1"/>';var s=n.firstChild;return s.style.behavior="url(#default#VML)",s&&typeof s.adj=="object"}catch{return!1}}(),_m=navigator.platform.indexOf("Mac")===0,wm=navigator.platform.indexOf("Linux")===0;function bn(n){return navigator.userAgent.toLowerCase().indexOf(n)>=0}var nt={ie:ot,ielt9:ie,edge:Le,webkit:$t,android:le,android23:nn,androidStock:ya,opera:sn,chrome:Qr,gecko:Jr,safari:Me,phantom:Un,opera12:zn,win:gi,ie3d:yi,webkit3d:Hn,gecko3d:_i,any3d:Gn,mobile:Re,mobileWebkit:Qt,mobileWebkit3d:Ze,msPointer:Zn,pointer:Wu,touch:um,touchNative:ju,mobileOpera:hm,mobileGecko:fm,retina:dm,passiveEvents:pm,canvas:mm,svg:zc,vml:ym,inlineSvg:gm,mac:_m,linux:wm},Yu=nt.msPointer?"MSPointerDown":"pointerdown",qu=nt.msPointer?"MSPointerMove":"pointermove",Xu=nt.msPointer?"MSPointerUp":"pointerup",$u=nt.msPointer?"MSPointerCancel":"pointercancel",Hc={touchstart:Yu,touchmove:qu,touchend:Xu,touchcancel:$u},th={touchstart:Pm,touchmove:_a,touchend:_a,touchcancel:_a},Kr={},eh=!1;function vm(n,s,a){return s==="touchstart"&&Em(),th[s]?(a=th[s].bind(this,a),n.addEventListener(Hc[s],a,!1),a):(console.warn("wrong event specified:",s),y)}function bm(n,s,a){if(!Hc[s]){console.warn("wrong event specified:",s);return}n.removeEventListener(Hc[s],a,!1)}function Am(n){Kr[n.pointerId]=n}function xm(n){Kr[n.pointerId]&&(Kr[n.pointerId]=n)}function nh(n){delete Kr[n.pointerId]}function Em(){eh||(document.addEventListener(Yu,Am,!0),document.addEventListener(qu,xm,!0),document.addEventListener(Xu,nh,!0),document.addEventListener($u,nh,!0),eh=!0)}function _a(n,s){if(s.pointerType!==(s.MSPOINTER_TYPE_MOUSE||"mouse")){s.touches=[];for(var a in Kr)s.touches.push(Kr[a]);s.changedTouches=[s],n(s)}}function Pm(n,s){s.MSPOINTER_TYPE_TOUCH&&s.pointerType===s.MSPOINTER_TYPE_TOUCH&&ue(s),_a(n,s)}function Tm(n){var s={},a,u;for(u in n)a=n[u],s[u]=a&&a.bind?a.bind(n):a;return n=s,s.type="dblclick",s.detail=2,s.isTrusted=!1,s._simulated=!0,s}var Lm=200;function Cm(n,s){n.addEventListener("dblclick",s);var a=0,u;function d(g){if(g.detail!==1){u=g.detail;return}if(!(g.pointerType==="mouse"||g.sourceCapabilities&&!g.sourceCapabilities.firesTouchEvents)){var v=ah(g);if(!(v.some(function(I){return I instanceof HTMLLabelElement&&I.attributes.for})&&!v.some(function(I){return I instanceof HTMLInputElement||I instanceof HTMLSelectElement}))){var C=Date.now();C-a<=Lm?(u++,u===2&&s(Tm(g))):u=1,a=C}}}return n.addEventListener("click",d),{dblclick:s,simDblclick:d}}function km(n,s){n.removeEventListener("dblclick",s.dblclick),n.removeEventListener("click",s.simDblclick)}var Gc=ba(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),mo=ba(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),ih=mo==="webkitTransition"||mo==="OTransition"?mo+"End":"transitionend";function rh(n){return typeof n=="string"?document.getElementById(n):n}function go(n,s){var a=n.style[s]||n.currentStyle&&n.currentStyle[s];if((!a||a==="auto")&&document.defaultView){var u=document.defaultView.getComputedStyle(n,null);a=u?u[s]:null}return a==="auto"?null:a}function kt(n,s,a){var u=document.createElement(n);return u.className=s||"",a&&a.appendChild(u),u}function Jt(n){var s=n.parentNode;s&&s.removeChild(n)}function wa(n){for(;n.firstChild;)n.removeChild(n.firstChild)}function Wr(n){var s=n.parentNode;s&&s.lastChild!==n&&s.appendChild(n)}function jr(n){var s=n.parentNode;s&&s.firstChild!==n&&s.insertBefore(n,s.firstChild)}function Zc(n,s){if(n.classList!==void 0)return n.classList.contains(s);var a=va(n);return a.length>0&&new RegExp("(^|\\s)"+s+"(\\s|$)").test(a)}function mt(n,s){if(n.classList!==void 0)for(var a=T(s),u=0,d=a.length;u<d;u++)n.classList.add(a[u]);else if(!Zc(n,s)){var g=va(n);Vc(n,(g?g+" ":"")+s)}}function Yt(n,s){n.classList!==void 0?n.classList.remove(s):Vc(n,E((" "+va(n)+" ").replace(" "+s+" "," ")))}function Vc(n,s){n.className.baseVal===void 0?n.className=s:n.className.baseVal=s}function va(n){return n.correspondingElement&&(n=n.correspondingElement),n.className.baseVal===void 0?n.className:n.className.baseVal}function Ve(n,s){"opacity"in n.style?n.style.opacity=s:"filter"in n.style&&Im(n,s)}function Im(n,s){var a=!1,u="DXImageTransform.Microsoft.Alpha";try{a=n.filters.item(u)}catch{if(s===1)return}s=Math.round(s*100),a?(a.Enabled=s!==100,a.Opacity=s):n.style.filter+=" progid:"+u+"(opacity="+s+")"}function ba(n){for(var s=document.documentElement.style,a=0;a<n.length;a++)if(n[a]in s)return n[a];return!1}function qi(n,s,a){var u=s||new Q(0,0);n.style[Gc]=(nt.ie3d?"translate("+u.x+"px,"+u.y+"px)":"translate3d("+u.x+"px,"+u.y+"px,0)")+(a?" scale("+a+")":"")}function te(n,s){n._leaflet_pos=s,nt.any3d?qi(n,s):(n.style.left=s.x+"px",n.style.top=s.y+"px")}function Xi(n){return n._leaflet_pos||new Q(0,0)}var yo,_o,Qc;if("onselectstart"in document)yo=function(){ft(window,"selectstart",ue)},_o=function(){Ut(window,"selectstart",ue)};else{var wo=ba(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);yo=function(){if(wo){var n=document.documentElement.style;Qc=n[wo],n[wo]="none"}},_o=function(){wo&&(document.documentElement.style[wo]=Qc,Qc=void 0)}}function Jc(){ft(window,"dragstart",ue)}function Kc(){Ut(window,"dragstart",ue)}var Aa,Wc;function jc(n){for(;n.tabIndex===-1;)n=n.parentNode;n.style&&(xa(),Aa=n,Wc=n.style.outlineStyle,n.style.outlineStyle="none",ft(window,"keydown",xa))}function xa(){Aa&&(Aa.style.outlineStyle=Wc,Aa=void 0,Wc=void 0,Ut(window,"keydown",xa))}function sh(n){do n=n.parentNode;while((!n.offsetWidth||!n.offsetHeight)&&n!==document.body);return n}function Yc(n){var s=n.getBoundingClientRect();return{x:s.width/n.offsetWidth||1,y:s.height/n.offsetHeight||1,boundingClientRect:s}}var Bm={__proto__:null,TRANSFORM:Gc,TRANSITION:mo,TRANSITION_END:ih,get:rh,getStyle:go,create:kt,remove:Jt,empty:wa,toFront:Wr,toBack:jr,hasClass:Zc,addClass:mt,removeClass:Yt,setClass:Vc,getClass:va,setOpacity:Ve,testProp:ba,setTransform:qi,setPosition:te,getPosition:Xi,get disableTextSelection(){return yo},get enableTextSelection(){return _o},disableImageDrag:Jc,enableImageDrag:Kc,preventOutline:jc,restoreOutline:xa,getSizedParentNode:sh,getScale:Yc};function ft(n,s,a,u){if(s&&typeof s=="object")for(var d in s)Xc(n,d,s[d],a);else{s=T(s);for(var g=0,v=s.length;g<v;g++)Xc(n,s[g],a,u)}return this}var An="_leaflet_events";function Ut(n,s,a,u){if(arguments.length===1)oh(n),delete n[An];else if(s&&typeof s=="object")for(var d in s)$c(n,d,s[d],a);else if(s=T(s),arguments.length===2)oh(n,function(C){return rt(s,C)!==-1});else for(var g=0,v=s.length;g<v;g++)$c(n,s[g],a,u);return this}function oh(n,s){for(var a in n[An]){var u=a.split(/\d/)[0];(!s||s(u))&&$c(n,u,null,null,a)}}var qc={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Xc(n,s,a,u){var d=s+f(a)+(u?"_"+f(u):"");if(n[An]&&n[An][d])return this;var g=function(C){return a.call(u||n,C||window.event)},v=g;!nt.touchNative&&nt.pointer&&s.indexOf("touch")===0?g=vm(n,s,g):nt.touch&&s==="dblclick"?g=Cm(n,g):"addEventListener"in n?s==="touchstart"||s==="touchmove"||s==="wheel"||s==="mousewheel"?n.addEventListener(qc[s]||s,g,nt.passiveEvents?{passive:!1}:!1):s==="mouseenter"||s==="mouseleave"?(g=function(C){C=C||window.event,el(n,C)&&v(C)},n.addEventListener(qc[s],g,!1)):n.addEventListener(s,v,!1):n.attachEvent("on"+s,g),n[An]=n[An]||{},n[An][d]=g}function $c(n,s,a,u,d){d=d||s+f(a)+(u?"_"+f(u):"");var g=n[An]&&n[An][d];if(!g)return this;!nt.touchNative&&nt.pointer&&s.indexOf("touch")===0?bm(n,s,g):nt.touch&&s==="dblclick"?km(n,g):"removeEventListener"in n?n.removeEventListener(qc[s]||s,g,!1):n.detachEvent("on"+s,g),n[An][d]=null}function $i(n){return n.stopPropagation?n.stopPropagation():n.originalEvent?n.originalEvent._stopped=!0:n.cancelBubble=!0,this}function tl(n){return Xc(n,"wheel",$i),this}function vo(n){return ft(n,"mousedown touchstart dblclick contextmenu",$i),n._leaflet_disable_click=!0,this}function ue(n){return n.preventDefault?n.preventDefault():n.returnValue=!1,this}function tr(n){return ue(n),$i(n),this}function ah(n){if(n.composedPath)return n.composedPath();for(var s=[],a=n.target;a;)s.push(a),a=a.parentNode;return s}function ch(n,s){if(!s)return new Q(n.clientX,n.clientY);var a=Yc(s),u=a.boundingClientRect;return new Q((n.clientX-u.left)/a.x-s.clientLeft,(n.clientY-u.top)/a.y-s.clientTop)}var Om=nt.linux&&nt.chrome?window.devicePixelRatio:nt.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function lh(n){return nt.edge?n.wheelDeltaY/2:n.deltaY&&n.deltaMode===0?-n.deltaY/Om:n.deltaY&&n.deltaMode===1?-n.deltaY*20:n.deltaY&&n.deltaMode===2?-n.deltaY*60:n.deltaX||n.deltaZ?0:n.wheelDelta?(n.wheelDeltaY||n.wheelDelta)/2:n.detail&&Math.abs(n.detail)<32765?-n.detail*20:n.detail?n.detail/-32765*60:0}function el(n,s){var a=s.relatedTarget;if(!a)return!0;try{for(;a&&a!==n;)a=a.parentNode}catch{return!1}return a!==n}var Sm={__proto__:null,on:ft,off:Ut,stopPropagation:$i,disableScrollPropagation:tl,disableClickPropagation:vo,preventDefault:ue,stop:tr,getPropagationPath:ah,getMousePosition:ch,getWheelDelta:lh,isExternalTarget:el,addListener:ft,removeListener:Ut},uh=lt.extend({run:function(n,s,a,u){this.stop(),this._el=n,this._inProgress=!0,this._duration=a||.25,this._easeOutPower=1/Math.max(u||.5,.2),this._startPos=Xi(n),this._offset=s.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=it(this._animate,this),this._step()},_step:function(n){var s=+new Date-this._startTime,a=this._duration*1e3;s<a?this._runFrame(this._easeOut(s/a),n):(this._runFrame(1),this._complete())},_runFrame:function(n,s){var a=this._startPos.add(this._offset.multiplyBy(n));s&&a._round(),te(this._el,a),this.fire("step")},_complete:function(){ct(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(n){return 1-Math.pow(1-n,this._easeOutPower)}}),Tt=lt.extend({options:{crs:ht,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(n,s){s=x(this,s),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(n),this._initLayout(),this._onResize=l(this._onResize,this),this._initEvents(),s.maxBounds&&this.setMaxBounds(s.maxBounds),s.zoom!==void 0&&(this._zoom=this._limitZoom(s.zoom)),s.center&&s.zoom!==void 0&&this.setView(U(s.center),s.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=mo&&nt.any3d&&!nt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),ft(this._proxy,ih,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(n,s,a){if(s=s===void 0?this._zoom:this._limitZoom(s),n=this._limitCenter(U(n),s,this.options.maxBounds),a=a||{},this._stop(),this._loaded&&!a.reset&&a!==!0){a.animate!==void 0&&(a.zoom=o({animate:a.animate},a.zoom),a.pan=o({animate:a.animate,duration:a.duration},a.pan));var u=this._zoom!==s?this._tryAnimatedZoom&&this._tryAnimatedZoom(n,s,a.zoom):this._tryAnimatedPan(n,a.pan);if(u)return clearTimeout(this._sizeTimer),this}return this._resetView(n,s,a.pan&&a.pan.noMoveStart),this},setZoom:function(n,s){return this._loaded?this.setView(this.getCenter(),n,{zoom:s}):(this._zoom=n,this)},zoomIn:function(n,s){return n=n||(nt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+n,s)},zoomOut:function(n,s){return n=n||(nt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-n,s)},setZoomAround:function(n,s,a){var u=this.getZoomScale(s),d=this.getSize().divideBy(2),g=n instanceof Q?n:this.latLngToContainerPoint(n),v=g.subtract(d).multiplyBy(1-1/u),C=this.containerPointToLatLng(d.add(v));return this.setView(C,s,{zoom:a})},_getBoundsCenterZoom:function(n,s){s=s||{},n=n.getBounds?n.getBounds():z(n);var a=Y(s.paddingTopLeft||s.padding||[0,0]),u=Y(s.paddingBottomRight||s.padding||[0,0]),d=this.getBoundsZoom(n,!1,a.add(u));if(d=typeof s.maxZoom=="number"?Math.min(s.maxZoom,d):d,d===1/0)return{center:n.getCenter(),zoom:d};var g=u.subtract(a).divideBy(2),v=this.project(n.getSouthWest(),d),C=this.project(n.getNorthEast(),d),I=this.unproject(v.add(C).divideBy(2).add(g),d);return{center:I,zoom:d}},fitBounds:function(n,s){if(n=z(n),!n.isValid())throw new Error("Bounds are not valid.");var a=this._getBoundsCenterZoom(n,s);return this.setView(a.center,a.zoom,s)},fitWorld:function(n){return this.fitBounds([[-90,-180],[90,180]],n)},panTo:function(n,s){return this.setView(n,this._zoom,{pan:s})},panBy:function(n,s){if(n=Y(n).round(),s=s||{},!n.x&&!n.y)return this.fire("moveend");if(s.animate!==!0&&!this.getSize().contains(n))return this._resetView(this.unproject(this.project(this.getCenter()).add(n)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new uh,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),s.noMoveStart||this.fire("movestart"),s.animate!==!1){mt(this._mapPane,"leaflet-pan-anim");var a=this._getMapPanePos().subtract(n).round();this._panAnim.run(this._mapPane,a,s.duration||.25,s.easeLinearity)}else this._rawPanBy(n),this.fire("move").fire("moveend");return this},flyTo:function(n,s,a){if(a=a||{},a.animate===!1||!nt.any3d)return this.setView(n,s,a);this._stop();var u=this.project(this.getCenter()),d=this.project(n),g=this.getSize(),v=this._zoom;n=U(n),s=s===void 0?v:s;var C=Math.max(g.x,g.y),I=C*this.getZoomScale(v,s),M=d.distanceTo(u)||1,J=1.42,at=J*J;function bt(ee){var Ma=ee?-1:1,bg=ee?I:C,Ag=I*I-C*C+Ma*at*at*M*M,xg=2*bg*at*M,fl=Ag/xg,Vh=Math.sqrt(fl*fl+1)-fl,Eg=Vh<1e-9?-18:Math.log(Vh);return Eg}function we(ee){return(Math.exp(ee)-Math.exp(-ee))/2}function se(ee){return(Math.exp(ee)+Math.exp(-ee))/2}function Je(ee){return we(ee)/se(ee)}var Ce=bt(0);function es(ee){return C*(se(Ce)/se(Ce+J*ee))}function yg(ee){return C*(se(Ce)*Je(Ce+J*ee)-we(Ce))/at}function _g(ee){return 1-Math.pow(1-ee,1.5)}var wg=Date.now(),Gh=(bt(1)-Ce)/J,vg=a.duration?1e3*a.duration:1e3*Gh*.8;function Zh(){var ee=(Date.now()-wg)/vg,Ma=_g(ee)*Gh;ee<=1?(this._flyToFrame=it(Zh,this),this._move(this.unproject(u.add(d.subtract(u).multiplyBy(yg(Ma)/M)),v),this.getScaleZoom(C/es(Ma),v),{flyTo:!0})):this._move(n,s)._moveEnd(!0)}return this._moveStart(!0,a.noMoveStart),Zh.call(this),this},flyToBounds:function(n,s){var a=this._getBoundsCenterZoom(n,s);return this.flyTo(a.center,a.zoom,s)},setMaxBounds:function(n){return n=z(n),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),n.isValid()?(this.options.maxBounds=n,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(n){var s=this.options.minZoom;return this.options.minZoom=n,this._loaded&&s!==n&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(n):this},setMaxZoom:function(n){var s=this.options.maxZoom;return this.options.maxZoom=n,this._loaded&&s!==n&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(n):this},panInsideBounds:function(n,s){this._enforcingBounds=!0;var a=this.getCenter(),u=this._limitCenter(a,this._zoom,z(n));return a.equals(u)||this.panTo(u,s),this._enforcingBounds=!1,this},panInside:function(n,s){s=s||{};var a=Y(s.paddingTopLeft||s.padding||[0,0]),u=Y(s.paddingBottomRight||s.padding||[0,0]),d=this.project(this.getCenter()),g=this.project(n),v=this.getPixelBounds(),C=S([v.min.add(a),v.max.subtract(u)]),I=C.getSize();if(!C.contains(g)){this._enforcingBounds=!0;var M=g.subtract(C.getCenter()),J=C.extend(g).getSize().subtract(I);d.x+=M.x<0?-J.x:J.x,d.y+=M.y<0?-J.y:J.y,this.panTo(this.unproject(d),s),this._enforcingBounds=!1}return this},invalidateSize:function(n){if(!this._loaded)return this;n=o({animate:!1,pan:!0},n===!0?{animate:!0}:n);var s=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var a=this.getSize(),u=s.divideBy(2).round(),d=a.divideBy(2).round(),g=u.subtract(d);return!g.x&&!g.y?this:(n.animate&&n.pan?this.panBy(g):(n.pan&&this._rawPanBy(g),this.fire("move"),n.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(l(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:s,newSize:a}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(n){if(n=this._locateOptions=o({timeout:1e4,watch:!1},n),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var s=l(this._handleGeolocationResponse,this),a=l(this._handleGeolocationError,this);return n.watch?this._locationWatchId=navigator.geolocation.watchPosition(s,a,n):navigator.geolocation.getCurrentPosition(s,a,n),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(n){if(this._container._leaflet_id){var s=n.code,a=n.message||(s===1?"permission denied":s===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:s,message:"Geolocation error: "+a+"."})}},_handleGeolocationResponse:function(n){if(this._container._leaflet_id){var s=n.coords.latitude,a=n.coords.longitude,u=new X(s,a),d=u.toBounds(n.coords.accuracy*2),g=this._locateOptions;if(g.setView){var v=this.getBoundsZoom(d);this.setView(u,g.maxZoom?Math.min(v,g.maxZoom):v)}var C={latlng:u,bounds:d,timestamp:n.timestamp};for(var I in n.coords)typeof n.coords[I]=="number"&&(C[I]=n.coords[I]);this.fire("locationfound",C)}},addHandler:function(n,s){if(!s)return this;var a=this[n]=new s(this);return this._handlers.push(a),this.options[n]&&a.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Jt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(ct(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var n;for(n in this._layers)this._layers[n].remove();for(n in this._panes)Jt(this._panes[n]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(n,s){var a="leaflet-pane"+(n?" leaflet-"+n.replace("Pane","")+"-pane":""),u=kt("div",a,s||this._mapPane);return n&&(this._panes[n]=u),u},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var n=this.getPixelBounds(),s=this.unproject(n.getBottomLeft()),a=this.unproject(n.getTopRight());return new q(s,a)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(n,s,a){n=z(n),a=Y(a||[0,0]);var u=this.getZoom()||0,d=this.getMinZoom(),g=this.getMaxZoom(),v=n.getNorthWest(),C=n.getSouthEast(),I=this.getSize().subtract(a),M=S(this.project(C,u),this.project(v,u)).getSize(),J=nt.any3d?this.options.zoomSnap:1,at=I.x/M.x,bt=I.y/M.y,we=s?Math.max(at,bt):Math.min(at,bt);return u=this.getScaleZoom(we,u),J&&(u=Math.round(u/(J/100))*(J/100),u=s?Math.ceil(u/J)*J:Math.floor(u/J)*J),Math.max(d,Math.min(g,u))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new Q(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(n,s){var a=this._getTopLeftPoint(n,s);return new wt(a,a.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(n){return this.options.crs.getProjectedBounds(n===void 0?this.getZoom():n)},getPane:function(n){return typeof n=="string"?this._panes[n]:n},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(n,s){var a=this.options.crs;return s=s===void 0?this._zoom:s,a.scale(n)/a.scale(s)},getScaleZoom:function(n,s){var a=this.options.crs;s=s===void 0?this._zoom:s;var u=a.zoom(n*a.scale(s));return isNaN(u)?1/0:u},project:function(n,s){return s=s===void 0?this._zoom:s,this.options.crs.latLngToPoint(U(n),s)},unproject:function(n,s){return s=s===void 0?this._zoom:s,this.options.crs.pointToLatLng(Y(n),s)},layerPointToLatLng:function(n){var s=Y(n).add(this.getPixelOrigin());return this.unproject(s)},latLngToLayerPoint:function(n){var s=this.project(U(n))._round();return s._subtract(this.getPixelOrigin())},wrapLatLng:function(n){return this.options.crs.wrapLatLng(U(n))},wrapLatLngBounds:function(n){return this.options.crs.wrapLatLngBounds(z(n))},distance:function(n,s){return this.options.crs.distance(U(n),U(s))},containerPointToLayerPoint:function(n){return Y(n).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(n){return Y(n).add(this._getMapPanePos())},containerPointToLatLng:function(n){var s=this.containerPointToLayerPoint(Y(n));return this.layerPointToLatLng(s)},latLngToContainerPoint:function(n){return this.layerPointToContainerPoint(this.latLngToLayerPoint(U(n)))},mouseEventToContainerPoint:function(n){return ch(n,this._container)},mouseEventToLayerPoint:function(n){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(n))},mouseEventToLatLng:function(n){return this.layerPointToLatLng(this.mouseEventToLayerPoint(n))},_initContainer:function(n){var s=this._container=rh(n);if(s){if(s._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");ft(s,"scroll",this._onScroll,this),this._containerId=f(s)},_initLayout:function(){var n=this._container;this._fadeAnimated=this.options.fadeAnimation&&nt.any3d,mt(n,"leaflet-container"+(nt.touch?" leaflet-touch":"")+(nt.retina?" leaflet-retina":"")+(nt.ielt9?" leaflet-oldie":"")+(nt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var s=go(n,"position");s!=="absolute"&&s!=="relative"&&s!=="fixed"&&s!=="sticky"&&(n.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var n=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),te(this._mapPane,new Q(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(mt(n.markerPane,"leaflet-zoom-hide"),mt(n.shadowPane,"leaflet-zoom-hide"))},_resetView:function(n,s,a){te(this._mapPane,new Q(0,0));var u=!this._loaded;this._loaded=!0,s=this._limitZoom(s),this.fire("viewprereset");var d=this._zoom!==s;this._moveStart(d,a)._move(n,s)._moveEnd(d),this.fire("viewreset"),u&&this.fire("load")},_moveStart:function(n,s){return n&&this.fire("zoomstart"),s||this.fire("movestart"),this},_move:function(n,s,a,u){s===void 0&&(s=this._zoom);var d=this._zoom!==s;return this._zoom=s,this._lastCenter=n,this._pixelOrigin=this._getNewPixelOrigin(n),u?a&&a.pinch&&this.fire("zoom",a):((d||a&&a.pinch)&&this.fire("zoom",a),this.fire("move",a)),this},_moveEnd:function(n){return n&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return ct(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(n){te(this._mapPane,this._getMapPanePos().subtract(n))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(n){this._targets={},this._targets[f(this._container)]=this;var s=n?Ut:ft;s(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&s(window,"resize",this._onResize,this),nt.any3d&&this.options.transform3DLimit&&(n?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){ct(this._resizeRequest),this._resizeRequest=it(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var n=this._getMapPanePos();Math.max(Math.abs(n.x),Math.abs(n.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(n,s){for(var a=[],u,d=s==="mouseout"||s==="mouseover",g=n.target||n.srcElement,v=!1;g;){if(u=this._targets[f(g)],u&&(s==="click"||s==="preclick")&&this._draggableMoved(u)){v=!0;break}if(u&&u.listens(s,!0)&&(d&&!el(g,n)||(a.push(u),d))||g===this._container)break;g=g.parentNode}return!a.length&&!v&&!d&&this.listens(s,!0)&&(a=[this]),a},_isClickDisabled:function(n){for(;n&&n!==this._container;){if(n._leaflet_disable_click)return!0;n=n.parentNode}},_handleDOMEvent:function(n){var s=n.target||n.srcElement;if(!(!this._loaded||s._leaflet_disable_events||n.type==="click"&&this._isClickDisabled(s))){var a=n.type;a==="mousedown"&&jc(s),this._fireDOMEvent(n,a)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(n,s,a){if(n.type==="click"){var u=o({},n);u.type="preclick",this._fireDOMEvent(u,u.type,a)}var d=this._findEventTargets(n,s);if(a){for(var g=[],v=0;v<a.length;v++)a[v].listens(s,!0)&&g.push(a[v]);d=g.concat(d)}if(d.length){s==="contextmenu"&&ue(n);var C=d[0],I={originalEvent:n};if(n.type!=="keypress"&&n.type!=="keydown"&&n.type!=="keyup"){var M=C.getLatLng&&(!C._radius||C._radius<=10);I.containerPoint=M?this.latLngToContainerPoint(C.getLatLng()):this.mouseEventToContainerPoint(n),I.layerPoint=this.containerPointToLayerPoint(I.containerPoint),I.latlng=M?C.getLatLng():this.layerPointToLatLng(I.layerPoint)}for(v=0;v<d.length;v++)if(d[v].fire(s,I,!0),I.originalEvent._stopped||d[v].options.bubblingMouseEvents===!1&&rt(this._mouseEvents,s)!==-1)return}},_draggableMoved:function(n){return n=n.dragging&&n.dragging.enabled()?n:this,n.dragging&&n.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var n=0,s=this._handlers.length;n<s;n++)this._handlers[n].disable()},whenReady:function(n,s){return this._loaded?n.call(s||this,{target:this}):this.on("load",n,s),this},_getMapPanePos:function(){return Xi(this._mapPane)||new Q(0,0)},_moved:function(){var n=this._getMapPanePos();return n&&!n.equals([0,0])},_getTopLeftPoint:function(n,s){var a=n&&s!==void 0?this._getNewPixelOrigin(n,s):this.getPixelOrigin();return a.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(n,s){var a=this.getSize()._divideBy(2);return this.project(n,s)._subtract(a)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(n,s,a){var u=this._getNewPixelOrigin(a,s);return this.project(n,s)._subtract(u)},_latLngBoundsToNewLayerBounds:function(n,s,a){var u=this._getNewPixelOrigin(a,s);return S([this.project(n.getSouthWest(),s)._subtract(u),this.project(n.getNorthWest(),s)._subtract(u),this.project(n.getSouthEast(),s)._subtract(u),this.project(n.getNorthEast(),s)._subtract(u)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(n){return this.latLngToLayerPoint(n).subtract(this._getCenterLayerPoint())},_limitCenter:function(n,s,a){if(!a)return n;var u=this.project(n,s),d=this.getSize().divideBy(2),g=new wt(u.subtract(d),u.add(d)),v=this._getBoundsOffset(g,a,s);return Math.abs(v.x)<=1&&Math.abs(v.y)<=1?n:this.unproject(u.add(v),s)},_limitOffset:function(n,s){if(!s)return n;var a=this.getPixelBounds(),u=new wt(a.min.add(n),a.max.add(n));return n.add(this._getBoundsOffset(u,s))},_getBoundsOffset:function(n,s,a){var u=S(this.project(s.getNorthEast(),a),this.project(s.getSouthWest(),a)),d=u.min.subtract(n.min),g=u.max.subtract(n.max),v=this._rebound(d.x,-g.x),C=this._rebound(d.y,-g.y);return new Q(v,C)},_rebound:function(n,s){return n+s>0?Math.round(n-s)/2:Math.max(0,Math.ceil(n))-Math.max(0,Math.floor(s))},_limitZoom:function(n){var s=this.getMinZoom(),a=this.getMaxZoom(),u=nt.any3d?this.options.zoomSnap:1;return u&&(n=Math.round(n/u)*u),Math.max(s,Math.min(a,n))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Yt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(n,s){var a=this._getCenterOffset(n)._trunc();return(s&&s.animate)!==!0&&!this.getSize().contains(a)?!1:(this.panBy(a,s),!0)},_createAnimProxy:function(){var n=this._proxy=kt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(n),this.on("zoomanim",function(s){var a=Gc,u=this._proxy.style[a];qi(this._proxy,this.project(s.center,s.zoom),this.getZoomScale(s.zoom,1)),u===this._proxy.style[a]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Jt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var n=this.getCenter(),s=this.getZoom();qi(this._proxy,this.project(n,s),this.getZoomScale(s,1))},_catchTransitionEnd:function(n){this._animatingZoom&&n.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(n,s,a){if(this._animatingZoom)return!0;if(a=a||{},!this._zoomAnimated||a.animate===!1||this._nothingToAnimate()||Math.abs(s-this._zoom)>this.options.zoomAnimationThreshold)return!1;var u=this.getZoomScale(s),d=this._getCenterOffset(n)._divideBy(1-1/u);return a.animate!==!0&&!this.getSize().contains(d)?!1:(it(function(){this._moveStart(!0,a.noMoveStart||!1)._animateZoom(n,s,!0)},this),!0)},_animateZoom:function(n,s,a,u){this._mapPane&&(a&&(this._animatingZoom=!0,this._animateToCenter=n,this._animateToZoom=s,mt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:n,zoom:s,noUpdate:u}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(l(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Yt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Nm(n,s){return new Tt(n,s)}var on=Bt.extend({options:{position:"topright"},initialize:function(n){x(this,n)},getPosition:function(){return this.options.position},setPosition:function(n){var s=this._map;return s&&s.removeControl(this),this.options.position=n,s&&s.addControl(this),this},getContainer:function(){return this._container},addTo:function(n){this.remove(),this._map=n;var s=this._container=this.onAdd(n),a=this.getPosition(),u=n._controlCorners[a];return mt(s,"leaflet-control"),a.indexOf("bottom")!==-1?u.insertBefore(s,u.firstChild):u.appendChild(s),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Jt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(n){this._map&&n&&n.screenX>0&&n.screenY>0&&this._map.getContainer().focus()}}),bo=function(n){return new on(n)};Tt.include({addControl:function(n){return n.addTo(this),this},removeControl:function(n){return n.remove(),this},_initControlPos:function(){var n=this._controlCorners={},s="leaflet-",a=this._controlContainer=kt("div",s+"control-container",this._container);function u(d,g){var v=s+d+" "+s+g;n[d+g]=kt("div",v,a)}u("top","left"),u("top","right"),u("bottom","left"),u("bottom","right")},_clearControlPos:function(){for(var n in this._controlCorners)Jt(this._controlCorners[n]);Jt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var hh=on.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(n,s,a,u){return a<u?-1:u<a?1:0}},initialize:function(n,s,a){x(this,a),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var u in n)this._addLayer(n[u],u);for(u in s)this._addLayer(s[u],u,!0)},onAdd:function(n){this._initLayout(),this._update(),this._map=n,n.on("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(n){return on.prototype.addTo.call(this,n),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var n=0;n<this._layers.length;n++)this._layers[n].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(n,s){return this._addLayer(n,s),this._map?this._update():this},addOverlay:function(n,s){return this._addLayer(n,s,!0),this._map?this._update():this},removeLayer:function(n){n.off("add remove",this._onLayerChange,this);var s=this._getLayer(f(n));return s&&this._layers.splice(this._layers.indexOf(s),1),this._map?this._update():this},expand:function(){mt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var n=this._map.getSize().y-(this._container.offsetTop+50);return n<this._section.clientHeight?(mt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=n+"px"):Yt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Yt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var n="leaflet-control-layers",s=this._container=kt("div",n),a=this.options.collapsed;s.setAttribute("aria-haspopup",!0),vo(s),tl(s);var u=this._section=kt("section",n+"-list");a&&(this._map.on("click",this.collapse,this),ft(s,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var d=this._layersLink=kt("a",n+"-toggle",s);d.href="#",d.title="Layers",d.setAttribute("role","button"),ft(d,{keydown:function(g){g.keyCode===13&&this._expandSafely()},click:function(g){ue(g),this._expandSafely()}},this),a||this.expand(),this._baseLayersList=kt("div",n+"-base",u),this._separator=kt("div",n+"-separator",u),this._overlaysList=kt("div",n+"-overlays",u),s.appendChild(u)},_getLayer:function(n){for(var s=0;s<this._layers.length;s++)if(this._layers[s]&&f(this._layers[s].layer)===n)return this._layers[s]},_addLayer:function(n,s,a){this._map&&n.on("add remove",this._onLayerChange,this),this._layers.push({layer:n,name:s,overlay:a}),this.options.sortLayers&&this._layers.sort(l(function(u,d){return this.options.sortFunction(u.layer,d.layer,u.name,d.name)},this)),this.options.autoZIndex&&n.setZIndex&&(this._lastZIndex++,n.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;wa(this._baseLayersList),wa(this._overlaysList),this._layerControlInputs=[];var n,s,a,u,d=0;for(a=0;a<this._layers.length;a++)u=this._layers[a],this._addItem(u),s=s||u.overlay,n=n||!u.overlay,d+=u.overlay?0:1;return this.options.hideSingleBase&&(n=n&&d>1,this._baseLayersList.style.display=n?"":"none"),this._separator.style.display=s&&n?"":"none",this},_onLayerChange:function(n){this._handlingClick||this._update();var s=this._getLayer(f(n.target)),a=s.overlay?n.type==="add"?"overlayadd":"overlayremove":n.type==="add"?"baselayerchange":null;a&&this._map.fire(a,s)},_createRadioElement:function(n,s){var a='<input type="radio" class="leaflet-control-layers-selector" name="'+n+'"'+(s?' checked="checked"':"")+"/>",u=document.createElement("div");return u.innerHTML=a,u.firstChild},_addItem:function(n){var s=document.createElement("label"),a=this._map.hasLayer(n.layer),u;n.overlay?(u=document.createElement("input"),u.type="checkbox",u.className="leaflet-control-layers-selector",u.defaultChecked=a):u=this._createRadioElement("leaflet-base-layers_"+f(this),a),this._layerControlInputs.push(u),u.layerId=f(n.layer),ft(u,"click",this._onInputClick,this);var d=document.createElement("span");d.innerHTML=" "+n.name;var g=document.createElement("span");s.appendChild(g),g.appendChild(u),g.appendChild(d);var v=n.overlay?this._overlaysList:this._baseLayersList;return v.appendChild(s),this._checkDisabledLayers(),s},_onInputClick:function(){if(!this._preventClick){var n=this._layerControlInputs,s,a,u=[],d=[];this._handlingClick=!0;for(var g=n.length-1;g>=0;g--)s=n[g],a=this._getLayer(s.layerId).layer,s.checked?u.push(a):s.checked||d.push(a);for(g=0;g<d.length;g++)this._map.hasLayer(d[g])&&this._map.removeLayer(d[g]);for(g=0;g<u.length;g++)this._map.hasLayer(u[g])||this._map.addLayer(u[g]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var n=this._layerControlInputs,s,a,u=this._map.getZoom(),d=n.length-1;d>=0;d--)s=n[d],a=this._getLayer(s.layerId).layer,s.disabled=a.options.minZoom!==void 0&&u<a.options.minZoom||a.options.maxZoom!==void 0&&u>a.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var n=this._section;this._preventClick=!0,ft(n,"click",ue),this.expand();var s=this;setTimeout(function(){Ut(n,"click",ue),s._preventClick=!1})}}),Mm=function(n,s,a){return new hh(n,s,a)},nl=on.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(n){var s="leaflet-control-zoom",a=kt("div",s+" leaflet-bar"),u=this.options;return this._zoomInButton=this._createButton(u.zoomInText,u.zoomInTitle,s+"-in",a,this._zoomIn),this._zoomOutButton=this._createButton(u.zoomOutText,u.zoomOutTitle,s+"-out",a,this._zoomOut),this._updateDisabled(),n.on("zoomend zoomlevelschange",this._updateDisabled,this),a},onRemove:function(n){n.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(n){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(n.shiftKey?3:1))},_zoomOut:function(n){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(n.shiftKey?3:1))},_createButton:function(n,s,a,u,d){var g=kt("a",a,u);return g.innerHTML=n,g.href="#",g.title=s,g.setAttribute("role","button"),g.setAttribute("aria-label",s),vo(g),ft(g,"click",tr),ft(g,"click",d,this),ft(g,"click",this._refocusOnMap,this),g},_updateDisabled:function(){var n=this._map,s="leaflet-disabled";Yt(this._zoomInButton,s),Yt(this._zoomOutButton,s),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||n._zoom===n.getMinZoom())&&(mt(this._zoomOutButton,s),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||n._zoom===n.getMaxZoom())&&(mt(this._zoomInButton,s),this._zoomInButton.setAttribute("aria-disabled","true"))}});Tt.mergeOptions({zoomControl:!0}),Tt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new nl,this.addControl(this.zoomControl))});var Rm=function(n){return new nl(n)},fh=on.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(n){var s="leaflet-control-scale",a=kt("div",s),u=this.options;return this._addScales(u,s+"-line",a),n.on(u.updateWhenIdle?"moveend":"move",this._update,this),n.whenReady(this._update,this),a},onRemove:function(n){n.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(n,s,a){n.metric&&(this._mScale=kt("div",s,a)),n.imperial&&(this._iScale=kt("div",s,a))},_update:function(){var n=this._map,s=n.getSize().y/2,a=n.distance(n.containerPointToLatLng([0,s]),n.containerPointToLatLng([this.options.maxWidth,s]));this._updateScales(a)},_updateScales:function(n){this.options.metric&&n&&this._updateMetric(n),this.options.imperial&&n&&this._updateImperial(n)},_updateMetric:function(n){var s=this._getRoundNum(n),a=s<1e3?s+" m":s/1e3+" km";this._updateScale(this._mScale,a,s/n)},_updateImperial:function(n){var s=n*3.2808399,a,u,d;s>5280?(a=s/5280,u=this._getRoundNum(a),this._updateScale(this._iScale,u+" mi",u/a)):(d=this._getRoundNum(s),this._updateScale(this._iScale,d+" ft",d/s))},_updateScale:function(n,s,a){n.style.width=Math.round(this.options.maxWidth*a)+"px",n.innerHTML=s},_getRoundNum:function(n){var s=Math.pow(10,(Math.floor(n)+"").length-1),a=n/s;return a=a>=10?10:a>=5?5:a>=3?3:a>=2?2:1,s*a}}),Fm=function(n){return new fh(n)},Dm='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',il=on.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(nt.inlineSvg?Dm+" ":"")+"Leaflet</a>"},initialize:function(n){x(this,n),this._attributions={}},onAdd:function(n){n.attributionControl=this,this._container=kt("div","leaflet-control-attribution"),vo(this._container);for(var s in n._layers)n._layers[s].getAttribution&&this.addAttribution(n._layers[s].getAttribution());return this._update(),n.on("layeradd",this._addAttribution,this),this._container},onRemove:function(n){n.off("layeradd",this._addAttribution,this)},_addAttribution:function(n){n.layer.getAttribution&&(this.addAttribution(n.layer.getAttribution()),n.layer.once("remove",function(){this.removeAttribution(n.layer.getAttribution())},this))},setPrefix:function(n){return this.options.prefix=n,this._update(),this},addAttribution:function(n){return n?(this._attributions[n]||(this._attributions[n]=0),this._attributions[n]++,this._update(),this):this},removeAttribution:function(n){return n?(this._attributions[n]&&(this._attributions[n]--,this._update()),this):this},_update:function(){if(this._map){var n=[];for(var s in this._attributions)this._attributions[s]&&n.push(s);var a=[];this.options.prefix&&a.push(this.options.prefix),n.length&&a.push(n.join(", ")),this._container.innerHTML=a.join(' <span aria-hidden="true">|</span> ')}}});Tt.mergeOptions({attributionControl:!0}),Tt.addInitHook(function(){this.options.attributionControl&&new il().addTo(this)});var Um=function(n){return new il(n)};on.Layers=hh,on.Zoom=nl,on.Scale=fh,on.Attribution=il,bo.layers=Mm,bo.zoom=Rm,bo.scale=Fm,bo.attribution=Um;var xn=Bt.extend({initialize:function(n){this._map=n},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});xn.addTo=function(n,s){return n.addHandler(s,this),this};var zm={Events:H},dh=nt.touch?"touchstart mousedown":"mousedown",wi=lt.extend({options:{clickTolerance:3},initialize:function(n,s,a,u){x(this,u),this._element=n,this._dragStartTarget=s||n,this._preventOutline=a},enable:function(){this._enabled||(ft(this._dragStartTarget,dh,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(wi._dragging===this&&this.finishDrag(!0),Ut(this._dragStartTarget,dh,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(n){if(this._enabled&&(this._moved=!1,!Zc(this._element,"leaflet-zoom-anim"))){if(n.touches&&n.touches.length!==1){wi._dragging===this&&this.finishDrag();return}if(!(wi._dragging||n.shiftKey||n.which!==1&&n.button!==1&&!n.touches)&&(wi._dragging=this,this._preventOutline&&jc(this._element),Jc(),yo(),!this._moving)){this.fire("down");var s=n.touches?n.touches[0]:n,a=sh(this._element);this._startPoint=new Q(s.clientX,s.clientY),this._startPos=Xi(this._element),this._parentScale=Yc(a);var u=n.type==="mousedown";ft(document,u?"mousemove":"touchmove",this._onMove,this),ft(document,u?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(n){if(this._enabled){if(n.touches&&n.touches.length>1){this._moved=!0;return}var s=n.touches&&n.touches.length===1?n.touches[0]:n,a=new Q(s.clientX,s.clientY)._subtract(this._startPoint);!a.x&&!a.y||Math.abs(a.x)+Math.abs(a.y)<this.options.clickTolerance||(a.x/=this._parentScale.x,a.y/=this._parentScale.y,ue(n),this._moved||(this.fire("dragstart"),this._moved=!0,mt(document.body,"leaflet-dragging"),this._lastTarget=n.target||n.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),mt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(a),this._moving=!0,this._lastEvent=n,this._updatePosition())}},_updatePosition:function(){var n={originalEvent:this._lastEvent};this.fire("predrag",n),te(this._element,this._newPos),this.fire("drag",n)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(n){Yt(document.body,"leaflet-dragging"),this._lastTarget&&(Yt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Ut(document,"mousemove touchmove",this._onMove,this),Ut(document,"mouseup touchend touchcancel",this._onUp,this),Kc(),_o();var s=this._moved&&this._moving;this._moving=!1,wi._dragging=!1,s&&this.fire("dragend",{noInertia:n,distance:this._newPos.distanceTo(this._startPos)})}});function ph(n,s,a){var u,d=[1,4,2,8],g,v,C,I,M,J,at,bt;for(g=0,J=n.length;g<J;g++)n[g]._code=er(n[g],s);for(C=0;C<4;C++){for(at=d[C],u=[],g=0,J=n.length,v=J-1;g<J;v=g++)I=n[g],M=n[v],I._code&at?M._code&at||(bt=Ea(M,I,at,s,a),bt._code=er(bt,s),u.push(bt)):(M._code&at&&(bt=Ea(M,I,at,s,a),bt._code=er(bt,s),u.push(bt)),u.push(I));n=u}return n}function mh(n,s){var a,u,d,g,v,C,I,M,J;if(!n||n.length===0)throw new Error("latlngs not passed");Qe(n)||(console.warn("latlngs are not flat! Only the first ring will be used"),n=n[0]);var at=U([0,0]),bt=z(n),we=bt.getNorthWest().distanceTo(bt.getSouthWest())*bt.getNorthEast().distanceTo(bt.getNorthWest());we<1700&&(at=rl(n));var se=n.length,Je=[];for(a=0;a<se;a++){var Ce=U(n[a]);Je.push(s.project(U([Ce.lat-at.lat,Ce.lng-at.lng])))}for(C=I=M=0,a=0,u=se-1;a<se;u=a++)d=Je[a],g=Je[u],v=d.y*g.x-g.y*d.x,I+=(d.x+g.x)*v,M+=(d.y+g.y)*v,C+=v*3;C===0?J=Je[0]:J=[I/C,M/C];var es=s.unproject(Y(J));return U([es.lat+at.lat,es.lng+at.lng])}function rl(n){for(var s=0,a=0,u=0,d=0;d<n.length;d++){var g=U(n[d]);s+=g.lat,a+=g.lng,u++}return U([s/u,a/u])}var Hm={__proto__:null,clipPolygon:ph,polygonCenter:mh,centroid:rl};function gh(n,s){if(!s||!n.length)return n.slice();var a=s*s;return n=Vm(n,a),n=Zm(n,a),n}function yh(n,s,a){return Math.sqrt(Ao(n,s,a,!0))}function Gm(n,s,a){return Ao(n,s,a)}function Zm(n,s){var a=n.length,u=typeof Uint8Array<"u"?Uint8Array:Array,d=new u(a);d[0]=d[a-1]=1,sl(n,d,s,0,a-1);var g,v=[];for(g=0;g<a;g++)d[g]&&v.push(n[g]);return v}function sl(n,s,a,u,d){var g=0,v,C,I;for(C=u+1;C<=d-1;C++)I=Ao(n[C],n[u],n[d],!0),I>g&&(v=C,g=I);g>a&&(s[v]=1,sl(n,s,a,u,v),sl(n,s,a,v,d))}function Vm(n,s){for(var a=[n[0]],u=1,d=0,g=n.length;u<g;u++)Qm(n[u],n[d])>s&&(a.push(n[u]),d=u);return d<g-1&&a.push(n[g-1]),a}var _h;function wh(n,s,a,u,d){var g=u?_h:er(n,a),v=er(s,a),C,I,M;for(_h=v;;){if(!(g|v))return[n,s];if(g&v)return!1;C=g||v,I=Ea(n,s,C,a,d),M=er(I,a),C===g?(n=I,g=M):(s=I,v=M)}}function Ea(n,s,a,u,d){var g=s.x-n.x,v=s.y-n.y,C=u.min,I=u.max,M,J;return a&8?(M=n.x+g*(I.y-n.y)/v,J=I.y):a&4?(M=n.x+g*(C.y-n.y)/v,J=C.y):a&2?(M=I.x,J=n.y+v*(I.x-n.x)/g):a&1&&(M=C.x,J=n.y+v*(C.x-n.x)/g),new Q(M,J,d)}function er(n,s){var a=0;return n.x<s.min.x?a|=1:n.x>s.max.x&&(a|=2),n.y<s.min.y?a|=4:n.y>s.max.y&&(a|=8),a}function Qm(n,s){var a=s.x-n.x,u=s.y-n.y;return a*a+u*u}function Ao(n,s,a,u){var d=s.x,g=s.y,v=a.x-d,C=a.y-g,I=v*v+C*C,M;return I>0&&(M=((n.x-d)*v+(n.y-g)*C)/I,M>1?(d=a.x,g=a.y):M>0&&(d+=v*M,g+=C*M)),v=n.x-d,C=n.y-g,u?v*v+C*C:new Q(d,g)}function Qe(n){return!F(n[0])||typeof n[0][0]!="object"&&typeof n[0][0]<"u"}function vh(n){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Qe(n)}function bh(n,s){var a,u,d,g,v,C,I,M;if(!n||n.length===0)throw new Error("latlngs not passed");Qe(n)||(console.warn("latlngs are not flat! Only the first ring will be used"),n=n[0]);var J=U([0,0]),at=z(n),bt=at.getNorthWest().distanceTo(at.getSouthWest())*at.getNorthEast().distanceTo(at.getNorthWest());bt<1700&&(J=rl(n));var we=n.length,se=[];for(a=0;a<we;a++){var Je=U(n[a]);se.push(s.project(U([Je.lat-J.lat,Je.lng-J.lng])))}for(a=0,u=0;a<we-1;a++)u+=se[a].distanceTo(se[a+1])/2;if(u===0)M=se[0];else for(a=0,g=0;a<we-1;a++)if(v=se[a],C=se[a+1],d=v.distanceTo(C),g+=d,g>u){I=(g-u)/d,M=[C.x-I*(C.x-v.x),C.y-I*(C.y-v.y)];break}var Ce=s.unproject(Y(M));return U([Ce.lat+J.lat,Ce.lng+J.lng])}var Jm={__proto__:null,simplify:gh,pointToSegmentDistance:yh,closestPointOnSegment:Gm,clipSegment:wh,_getEdgeIntersection:Ea,_getBitCode:er,_sqClosestPointOnSegment:Ao,isFlat:Qe,_flat:vh,polylineCenter:bh},ol={project:function(n){return new Q(n.lng,n.lat)},unproject:function(n){return new X(n.y,n.x)},bounds:new wt([-180,-90],[180,90])},al={R:6378137,R_MINOR:6356752314245179e-9,bounds:new wt([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(n){var s=Math.PI/180,a=this.R,u=n.lat*s,d=this.R_MINOR/a,g=Math.sqrt(1-d*d),v=g*Math.sin(u),C=Math.tan(Math.PI/4-u/2)/Math.pow((1-v)/(1+v),g/2);return u=-a*Math.log(Math.max(C,1e-10)),new Q(n.lng*s*a,u)},unproject:function(n){for(var s=180/Math.PI,a=this.R,u=this.R_MINOR/a,d=Math.sqrt(1-u*u),g=Math.exp(-n.y/a),v=Math.PI/2-2*Math.atan(g),C=0,I=.1,M;C<15&&Math.abs(I)>1e-7;C++)M=d*Math.sin(v),M=Math.pow((1-M)/(1+M),d/2),I=Math.PI/2-2*Math.atan(g*M)-v,v+=I;return new X(v*s,n.x*s/a)}},Km={__proto__:null,LonLat:ol,Mercator:al,SphericalMercator:Ot},Wm=o({},Mt,{code:"EPSG:3395",projection:al,transformation:function(){var n=.5/(Math.PI*al.R);return dt(n,.5,-n,.5)}()}),Ah=o({},Mt,{code:"EPSG:4326",projection:ol,transformation:dt(1/180,1,-1/180,.5)}),jm=o({},xt,{projection:ol,transformation:dt(1,0,-1,0),scale:function(n){return Math.pow(2,n)},zoom:function(n){return Math.log(n)/Math.LN2},distance:function(n,s){var a=s.lng-n.lng,u=s.lat-n.lat;return Math.sqrt(a*a+u*u)},infinite:!0});xt.Earth=Mt,xt.EPSG3395=Wm,xt.EPSG3857=ht,xt.EPSG900913=tt,xt.EPSG4326=Ah,xt.Simple=jm;var an=lt.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(n){return n.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(n){return n&&n.removeLayer(this),this},getPane:function(n){return this._map.getPane(n?this.options[n]||n:this.options.pane)},addInteractiveTarget:function(n){return this._map._targets[f(n)]=this,this},removeInteractiveTarget:function(n){return delete this._map._targets[f(n)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(n){var s=n.target;if(s.hasLayer(this)){if(this._map=s,this._zoomAnimated=s._zoomAnimated,this.getEvents){var a=this.getEvents();s.on(a,this),this.once("remove",function(){s.off(a,this)},this)}this.onAdd(s),this.fire("add"),s.fire("layeradd",{layer:this})}}});Tt.include({addLayer:function(n){if(!n._layerAdd)throw new Error("The provided object is not a Layer.");var s=f(n);return this._layers[s]?this:(this._layers[s]=n,n._mapToAdd=this,n.beforeAdd&&n.beforeAdd(this),this.whenReady(n._layerAdd,n),this)},removeLayer:function(n){var s=f(n);return this._layers[s]?(this._loaded&&n.onRemove(this),delete this._layers[s],this._loaded&&(this.fire("layerremove",{layer:n}),n.fire("remove")),n._map=n._mapToAdd=null,this):this},hasLayer:function(n){return f(n)in this._layers},eachLayer:function(n,s){for(var a in this._layers)n.call(s,this._layers[a]);return this},_addLayers:function(n){n=n?F(n)?n:[n]:[];for(var s=0,a=n.length;s<a;s++)this.addLayer(n[s])},_addZoomLimit:function(n){(!isNaN(n.options.maxZoom)||!isNaN(n.options.minZoom))&&(this._zoomBoundLayers[f(n)]=n,this._updateZoomLevels())},_removeZoomLimit:function(n){var s=f(n);this._zoomBoundLayers[s]&&(delete this._zoomBoundLayers[s],this._updateZoomLevels())},_updateZoomLevels:function(){var n=1/0,s=-1/0,a=this._getZoomSpan();for(var u in this._zoomBoundLayers){var d=this._zoomBoundLayers[u].options;n=d.minZoom===void 0?n:Math.min(n,d.minZoom),s=d.maxZoom===void 0?s:Math.max(s,d.maxZoom)}this._layersMaxZoom=s===-1/0?void 0:s,this._layersMinZoom=n===1/0?void 0:n,a!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Yr=an.extend({initialize:function(n,s){x(this,s),this._layers={};var a,u;if(n)for(a=0,u=n.length;a<u;a++)this.addLayer(n[a])},addLayer:function(n){var s=this.getLayerId(n);return this._layers[s]=n,this._map&&this._map.addLayer(n),this},removeLayer:function(n){var s=n in this._layers?n:this.getLayerId(n);return this._map&&this._layers[s]&&this._map.removeLayer(this._layers[s]),delete this._layers[s],this},hasLayer:function(n){var s=typeof n=="number"?n:this.getLayerId(n);return s in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(n){var s=Array.prototype.slice.call(arguments,1),a,u;for(a in this._layers)u=this._layers[a],u[n]&&u[n].apply(u,s);return this},onAdd:function(n){this.eachLayer(n.addLayer,n)},onRemove:function(n){this.eachLayer(n.removeLayer,n)},eachLayer:function(n,s){for(var a in this._layers)n.call(s,this._layers[a]);return this},getLayer:function(n){return this._layers[n]},getLayers:function(){var n=[];return this.eachLayer(n.push,n),n},setZIndex:function(n){return this.invoke("setZIndex",n)},getLayerId:function(n){return f(n)}}),Ym=function(n,s){return new Yr(n,s)},Vn=Yr.extend({addLayer:function(n){return this.hasLayer(n)?this:(n.addEventParent(this),Yr.prototype.addLayer.call(this,n),this.fire("layeradd",{layer:n}))},removeLayer:function(n){return this.hasLayer(n)?(n in this._layers&&(n=this._layers[n]),n.removeEventParent(this),Yr.prototype.removeLayer.call(this,n),this.fire("layerremove",{layer:n})):this},setStyle:function(n){return this.invoke("setStyle",n)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var n=new q;for(var s in this._layers){var a=this._layers[s];n.extend(a.getBounds?a.getBounds():a.getLatLng())}return n}}),qm=function(n,s){return new Vn(n,s)},qr=Bt.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(n){x(this,n)},createIcon:function(n){return this._createIcon("icon",n)},createShadow:function(n){return this._createIcon("shadow",n)},_createIcon:function(n,s){var a=this._getIconUrl(n);if(!a){if(n==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var u=this._createImg(a,s&&s.tagName==="IMG"?s:null);return this._setIconStyles(u,n),(this.options.crossOrigin||this.options.crossOrigin==="")&&(u.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),u},_setIconStyles:function(n,s){var a=this.options,u=a[s+"Size"];typeof u=="number"&&(u=[u,u]);var d=Y(u),g=Y(s==="shadow"&&a.shadowAnchor||a.iconAnchor||d&&d.divideBy(2,!0));n.className="leaflet-marker-"+s+" "+(a.className||""),g&&(n.style.marginLeft=-g.x+"px",n.style.marginTop=-g.y+"px"),d&&(n.style.width=d.x+"px",n.style.height=d.y+"px")},_createImg:function(n,s){return s=s||document.createElement("img"),s.src=n,s},_getIconUrl:function(n){return nt.retina&&this.options[n+"RetinaUrl"]||this.options[n+"Url"]}});function Xm(n){return new qr(n)}var xo=qr.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(n){return typeof xo.imagePath!="string"&&(xo.imagePath=this._detectIconPath()),(this.options.imagePath||xo.imagePath)+qr.prototype._getIconUrl.call(this,n)},_stripUrl:function(n){var s=function(a,u,d){var g=u.exec(a);return g&&g[d]};return n=s(n,/^url\((['"])?(.+)\1\)$/,2),n&&s(n,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var n=kt("div","leaflet-default-icon-path",document.body),s=go(n,"background-image")||go(n,"backgroundImage");if(document.body.removeChild(n),s=this._stripUrl(s),s)return s;var a=document.querySelector('link[href$="leaflet.css"]');return a?a.href.substring(0,a.href.length-11-1):""}}),xh=xn.extend({initialize:function(n){this._marker=n},addHooks:function(){var n=this._marker._icon;this._draggable||(this._draggable=new wi(n,n,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),mt(n,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Yt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(n){var s=this._marker,a=s._map,u=this._marker.options.autoPanSpeed,d=this._marker.options.autoPanPadding,g=Xi(s._icon),v=a.getPixelBounds(),C=a.getPixelOrigin(),I=S(v.min._subtract(C).add(d),v.max._subtract(C).subtract(d));if(!I.contains(g)){var M=Y((Math.max(I.max.x,g.x)-I.max.x)/(v.max.x-I.max.x)-(Math.min(I.min.x,g.x)-I.min.x)/(v.min.x-I.min.x),(Math.max(I.max.y,g.y)-I.max.y)/(v.max.y-I.max.y)-(Math.min(I.min.y,g.y)-I.min.y)/(v.min.y-I.min.y)).multiplyBy(u);a.panBy(M,{animate:!1}),this._draggable._newPos._add(M),this._draggable._startPos._add(M),te(s._icon,this._draggable._newPos),this._onDrag(n),this._panRequest=it(this._adjustPan.bind(this,n))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(n){this._marker.options.autoPan&&(ct(this._panRequest),this._panRequest=it(this._adjustPan.bind(this,n)))},_onDrag:function(n){var s=this._marker,a=s._shadow,u=Xi(s._icon),d=s._map.layerPointToLatLng(u);a&&te(a,u),s._latlng=d,n.latlng=d,n.oldLatLng=this._oldLatLng,s.fire("move",n).fire("drag",n)},_onDragEnd:function(n){ct(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",n)}}),Pa=an.extend({options:{icon:new xo,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(n,s){x(this,s),this._latlng=U(n)},onAdd:function(n){this._zoomAnimated=this._zoomAnimated&&n.options.markerZoomAnimation,this._zoomAnimated&&n.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(n){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&n.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(n){var s=this._latlng;return this._latlng=U(n),this.update(),this.fire("move",{oldLatLng:s,latlng:this._latlng})},setZIndexOffset:function(n){return this.options.zIndexOffset=n,this.update()},getIcon:function(){return this.options.icon},setIcon:function(n){return this.options.icon=n,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var n=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(n)}return this},_initIcon:function(){var n=this.options,s="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),a=n.icon.createIcon(this._icon),u=!1;a!==this._icon&&(this._icon&&this._removeIcon(),u=!0,n.title&&(a.title=n.title),a.tagName==="IMG"&&(a.alt=n.alt||"")),mt(a,s),n.keyboard&&(a.tabIndex="0",a.setAttribute("role","button")),this._icon=a,n.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ft(a,"focus",this._panOnFocus,this);var d=n.icon.createShadow(this._shadow),g=!1;d!==this._shadow&&(this._removeShadow(),g=!0),d&&(mt(d,s),d.alt=""),this._shadow=d,n.opacity<1&&this._updateOpacity(),u&&this.getPane().appendChild(this._icon),this._initInteraction(),d&&g&&this.getPane(n.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ut(this._icon,"focus",this._panOnFocus,this),Jt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Jt(this._shadow),this._shadow=null},_setPos:function(n){this._icon&&te(this._icon,n),this._shadow&&te(this._shadow,n),this._zIndex=n.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(n){this._icon&&(this._icon.style.zIndex=this._zIndex+n)},_animateZoom:function(n){var s=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center).round();this._setPos(s)},_initInteraction:function(){if(this.options.interactive&&(mt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),xh)){var n=this.options.draggable;this.dragging&&(n=this.dragging.enabled(),this.dragging.disable()),this.dragging=new xh(this),n&&this.dragging.enable()}},setOpacity:function(n){return this.options.opacity=n,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var n=this.options.opacity;this._icon&&Ve(this._icon,n),this._shadow&&Ve(this._shadow,n)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var n=this._map;if(n){var s=this.options.icon.options,a=s.iconSize?Y(s.iconSize):Y(0,0),u=s.iconAnchor?Y(s.iconAnchor):Y(0,0);n.panInside(this._latlng,{paddingTopLeft:u,paddingBottomRight:a.subtract(u)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function $m(n,s){return new Pa(n,s)}var vi=an.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(n){this._renderer=n.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(n){return x(this,n),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&n&&Object.prototype.hasOwnProperty.call(n,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Ta=vi.extend({options:{fill:!0,radius:10},initialize:function(n,s){x(this,s),this._latlng=U(n),this._radius=this.options.radius},setLatLng:function(n){var s=this._latlng;return this._latlng=U(n),this.redraw(),this.fire("move",{oldLatLng:s,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(n){return this.options.radius=this._radius=n,this.redraw()},getRadius:function(){return this._radius},setStyle:function(n){var s=n&&n.radius||this._radius;return vi.prototype.setStyle.call(this,n),this.setRadius(s),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var n=this._radius,s=this._radiusY||n,a=this._clickTolerance(),u=[n+a,s+a];this._pxBounds=new wt(this._point.subtract(u),this._point.add(u))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(n){return n.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function tg(n,s){return new Ta(n,s)}var cl=Ta.extend({initialize:function(n,s,a){if(typeof s=="number"&&(s=o({},a,{radius:s})),x(this,s),this._latlng=U(n),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(n){return this._mRadius=n,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var n=[this._radius,this._radiusY||this._radius];return new q(this._map.layerPointToLatLng(this._point.subtract(n)),this._map.layerPointToLatLng(this._point.add(n)))},setStyle:vi.prototype.setStyle,_project:function(){var n=this._latlng.lng,s=this._latlng.lat,a=this._map,u=a.options.crs;if(u.distance===Mt.distance){var d=Math.PI/180,g=this._mRadius/Mt.R/d,v=a.project([s+g,n]),C=a.project([s-g,n]),I=v.add(C).divideBy(2),M=a.unproject(I).lat,J=Math.acos((Math.cos(g*d)-Math.sin(s*d)*Math.sin(M*d))/(Math.cos(s*d)*Math.cos(M*d)))/d;(isNaN(J)||J===0)&&(J=g/Math.cos(Math.PI/180*s)),this._point=I.subtract(a.getPixelOrigin()),this._radius=isNaN(J)?0:I.x-a.project([M,n-J]).x,this._radiusY=I.y-v.y}else{var at=u.unproject(u.project(this._latlng).subtract([this._mRadius,0]));this._point=a.latLngToLayerPoint(this._latlng),this._radius=this._point.x-a.latLngToLayerPoint(at).x}this._updateBounds()}});function eg(n,s,a){return new cl(n,s,a)}var Qn=vi.extend({options:{smoothFactor:1,noClip:!1},initialize:function(n,s){x(this,s),this._setLatLngs(n)},getLatLngs:function(){return this._latlngs},setLatLngs:function(n){return this._setLatLngs(n),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(n){for(var s=1/0,a=null,u=Ao,d,g,v=0,C=this._parts.length;v<C;v++)for(var I=this._parts[v],M=1,J=I.length;M<J;M++){d=I[M-1],g=I[M];var at=u(n,d,g,!0);at<s&&(s=at,a=u(n,d,g))}return a&&(a.distance=Math.sqrt(s)),a},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return bh(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(n,s){return s=s||this._defaultShape(),n=U(n),s.push(n),this._bounds.extend(n),this.redraw()},_setLatLngs:function(n){this._bounds=new q,this._latlngs=this._convertLatLngs(n)},_defaultShape:function(){return Qe(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(n){for(var s=[],a=Qe(n),u=0,d=n.length;u<d;u++)a?(s[u]=U(n[u]),this._bounds.extend(s[u])):s[u]=this._convertLatLngs(n[u]);return s},_project:function(){var n=new wt;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,n),this._bounds.isValid()&&n.isValid()&&(this._rawPxBounds=n,this._updateBounds())},_updateBounds:function(){var n=this._clickTolerance(),s=new Q(n,n);this._rawPxBounds&&(this._pxBounds=new wt([this._rawPxBounds.min.subtract(s),this._rawPxBounds.max.add(s)]))},_projectLatlngs:function(n,s,a){var u=n[0]instanceof X,d=n.length,g,v;if(u){for(v=[],g=0;g<d;g++)v[g]=this._map.latLngToLayerPoint(n[g]),a.extend(v[g]);s.push(v)}else for(g=0;g<d;g++)this._projectLatlngs(n[g],s,a)},_clipPoints:function(){var n=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(n))){if(this.options.noClip){this._parts=this._rings;return}var s=this._parts,a,u,d,g,v,C,I;for(a=0,d=0,g=this._rings.length;a<g;a++)for(I=this._rings[a],u=0,v=I.length;u<v-1;u++)C=wh(I[u],I[u+1],n,u,!0),C&&(s[d]=s[d]||[],s[d].push(C[0]),(C[1]!==I[u+1]||u===v-2)&&(s[d].push(C[1]),d++))}},_simplifyPoints:function(){for(var n=this._parts,s=this.options.smoothFactor,a=0,u=n.length;a<u;a++)n[a]=gh(n[a],s)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(n,s){var a,u,d,g,v,C,I=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(n))return!1;for(a=0,g=this._parts.length;a<g;a++)for(C=this._parts[a],u=0,v=C.length,d=v-1;u<v;d=u++)if(!(!s&&u===0)&&yh(n,C[d],C[u])<=I)return!0;return!1}});function ng(n,s){return new Qn(n,s)}Qn._flat=vh;var Xr=Qn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return mh(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(n){var s=Qn.prototype._convertLatLngs.call(this,n),a=s.length;return a>=2&&s[0]instanceof X&&s[0].equals(s[a-1])&&s.pop(),s},_setLatLngs:function(n){Qn.prototype._setLatLngs.call(this,n),Qe(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Qe(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var n=this._renderer._bounds,s=this.options.weight,a=new Q(s,s);if(n=new wt(n.min.subtract(a),n.max.add(a)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(n))){if(this.options.noClip){this._parts=this._rings;return}for(var u=0,d=this._rings.length,g;u<d;u++)g=ph(this._rings[u],n,!0),g.length&&this._parts.push(g)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(n){var s=!1,a,u,d,g,v,C,I,M;if(!this._pxBounds||!this._pxBounds.contains(n))return!1;for(g=0,I=this._parts.length;g<I;g++)for(a=this._parts[g],v=0,M=a.length,C=M-1;v<M;C=v++)u=a[v],d=a[C],u.y>n.y!=d.y>n.y&&n.x<(d.x-u.x)*(n.y-u.y)/(d.y-u.y)+u.x&&(s=!s);return s||Qn.prototype._containsPoint.call(this,n,!0)}});function ig(n,s){return new Xr(n,s)}var Jn=Vn.extend({initialize:function(n,s){x(this,s),this._layers={},n&&this.addData(n)},addData:function(n){var s=F(n)?n:n.features,a,u,d;if(s){for(a=0,u=s.length;a<u;a++)d=s[a],(d.geometries||d.geometry||d.features||d.coordinates)&&this.addData(d);return this}var g=this.options;if(g.filter&&!g.filter(n))return this;var v=La(n,g);return v?(v.feature=Ia(n),v.defaultOptions=v.options,this.resetStyle(v),g.onEachFeature&&g.onEachFeature(n,v),this.addLayer(v)):this},resetStyle:function(n){return n===void 0?this.eachLayer(this.resetStyle,this):(n.options=o({},n.defaultOptions),this._setLayerStyle(n,this.options.style),this)},setStyle:function(n){return this.eachLayer(function(s){this._setLayerStyle(s,n)},this)},_setLayerStyle:function(n,s){n.setStyle&&(typeof s=="function"&&(s=s(n.feature)),n.setStyle(s))}});function La(n,s){var a=n.type==="Feature"?n.geometry:n,u=a?a.coordinates:null,d=[],g=s&&s.pointToLayer,v=s&&s.coordsToLatLng||ll,C,I,M,J;if(!u&&!a)return null;switch(a.type){case"Point":return C=v(u),Eh(g,n,C,s);case"MultiPoint":for(M=0,J=u.length;M<J;M++)C=v(u[M]),d.push(Eh(g,n,C,s));return new Vn(d);case"LineString":case"MultiLineString":return I=Ca(u,a.type==="LineString"?0:1,v),new Qn(I,s);case"Polygon":case"MultiPolygon":return I=Ca(u,a.type==="Polygon"?1:2,v),new Xr(I,s);case"GeometryCollection":for(M=0,J=a.geometries.length;M<J;M++){var at=La({geometry:a.geometries[M],type:"Feature",properties:n.properties},s);at&&d.push(at)}return new Vn(d);case"FeatureCollection":for(M=0,J=a.features.length;M<J;M++){var bt=La(a.features[M],s);bt&&d.push(bt)}return new Vn(d);default:throw new Error("Invalid GeoJSON object.")}}function Eh(n,s,a,u){return n?n(s,a):new Pa(a,u&&u.markersInheritOptions&&u)}function ll(n){return new X(n[1],n[0],n[2])}function Ca(n,s,a){for(var u=[],d=0,g=n.length,v;d<g;d++)v=s?Ca(n[d],s-1,a):(a||ll)(n[d]),u.push(v);return u}function ul(n,s){return n=U(n),n.alt!==void 0?[b(n.lng,s),b(n.lat,s),b(n.alt,s)]:[b(n.lng,s),b(n.lat,s)]}function ka(n,s,a,u){for(var d=[],g=0,v=n.length;g<v;g++)d.push(s?ka(n[g],Qe(n[g])?0:s-1,a,u):ul(n[g],u));return!s&&a&&d.length>0&&d.push(d[0].slice()),d}function $r(n,s){return n.feature?o({},n.feature,{geometry:s}):Ia(s)}function Ia(n){return n.type==="Feature"||n.type==="FeatureCollection"?n:{type:"Feature",properties:{},geometry:n}}var hl={toGeoJSON:function(n){return $r(this,{type:"Point",coordinates:ul(this.getLatLng(),n)})}};Pa.include(hl),cl.include(hl),Ta.include(hl),Qn.include({toGeoJSON:function(n){var s=!Qe(this._latlngs),a=ka(this._latlngs,s?1:0,!1,n);return $r(this,{type:(s?"Multi":"")+"LineString",coordinates:a})}}),Xr.include({toGeoJSON:function(n){var s=!Qe(this._latlngs),a=s&&!Qe(this._latlngs[0]),u=ka(this._latlngs,a?2:s?1:0,!0,n);return s||(u=[u]),$r(this,{type:(a?"Multi":"")+"Polygon",coordinates:u})}}),Yr.include({toMultiPoint:function(n){var s=[];return this.eachLayer(function(a){s.push(a.toGeoJSON(n).geometry.coordinates)}),$r(this,{type:"MultiPoint",coordinates:s})},toGeoJSON:function(n){var s=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(s==="MultiPoint")return this.toMultiPoint(n);var a=s==="GeometryCollection",u=[];return this.eachLayer(function(d){if(d.toGeoJSON){var g=d.toGeoJSON(n);if(a)u.push(g.geometry);else{var v=Ia(g);v.type==="FeatureCollection"?u.push.apply(u,v.features):u.push(v)}}}),a?$r(this,{geometries:u,type:"GeometryCollection"}):{type:"FeatureCollection",features:u}}});function Ph(n,s){return new Jn(n,s)}var rg=Ph,Ba=an.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(n,s,a){this._url=n,this._bounds=z(s),x(this,a)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(mt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Jt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(n){return this.options.opacity=n,this._image&&this._updateOpacity(),this},setStyle:function(n){return n.opacity&&this.setOpacity(n.opacity),this},bringToFront:function(){return this._map&&Wr(this._image),this},bringToBack:function(){return this._map&&jr(this._image),this},setUrl:function(n){return this._url=n,this._image&&(this._image.src=n),this},setBounds:function(n){return this._bounds=z(n),this._map&&this._reset(),this},getEvents:function(){var n={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},setZIndex:function(n){return this.options.zIndex=n,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var n=this._url.tagName==="IMG",s=this._image=n?this._url:kt("img");if(mt(s,"leaflet-image-layer"),this._zoomAnimated&&mt(s,"leaflet-zoom-animated"),this.options.className&&mt(s,this.options.className),s.onselectstart=y,s.onmousemove=y,s.onload=l(this.fire,this,"load"),s.onerror=l(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(s.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),n){this._url=s.src;return}s.src=this._url,s.alt=this.options.alt},_animateZoom:function(n){var s=this._map.getZoomScale(n.zoom),a=this._map._latLngBoundsToNewLayerBounds(this._bounds,n.zoom,n.center).min;qi(this._image,a,s)},_reset:function(){var n=this._image,s=new wt(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),a=s.getSize();te(n,s.min),n.style.width=a.x+"px",n.style.height=a.y+"px"},_updateOpacity:function(){Ve(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var n=this.options.errorOverlayUrl;n&&this._url!==n&&(this._url=n,this._image.src=n)},getCenter:function(){return this._bounds.getCenter()}}),sg=function(n,s,a){return new Ba(n,s,a)},Th=Ba.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var n=this._url.tagName==="VIDEO",s=this._image=n?this._url:kt("video");if(mt(s,"leaflet-image-layer"),this._zoomAnimated&&mt(s,"leaflet-zoom-animated"),this.options.className&&mt(s,this.options.className),s.onselectstart=y,s.onmousemove=y,s.onloadeddata=l(this.fire,this,"load"),n){for(var a=s.getElementsByTagName("source"),u=[],d=0;d<a.length;d++)u.push(a[d].src);this._url=a.length>0?u:[s.src];return}F(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(s.style,"objectFit")&&(s.style.objectFit="fill"),s.autoplay=!!this.options.autoplay,s.loop=!!this.options.loop,s.muted=!!this.options.muted,s.playsInline=!!this.options.playsInline;for(var g=0;g<this._url.length;g++){var v=kt("source");v.src=this._url[g],s.appendChild(v)}}});function og(n,s,a){return new Th(n,s,a)}var Lh=Ba.extend({_initImage:function(){var n=this._image=this._url;mt(n,"leaflet-image-layer"),this._zoomAnimated&&mt(n,"leaflet-zoom-animated"),this.options.className&&mt(n,this.options.className),n.onselectstart=y,n.onmousemove=y}});function ag(n,s,a){return new Lh(n,s,a)}var En=an.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(n,s){n&&(n instanceof X||F(n))?(this._latlng=U(n),x(this,s)):(x(this,n),this._source=s),this.options.content&&(this._content=this.options.content)},openOn:function(n){return n=arguments.length?n:this._source._map,n.hasLayer(this)||n.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(n){return this._map?this.close():(arguments.length?this._source=n:n=this._source,this._prepareOpen(),this.openOn(n._map)),this},onAdd:function(n){this._zoomAnimated=n._zoomAnimated,this._container||this._initLayout(),n._fadeAnimated&&Ve(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),n._fadeAnimated&&Ve(this._container,1),this.bringToFront(),this.options.interactive&&(mt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(n){n._fadeAnimated?(Ve(this._container,0),this._removeTimeout=setTimeout(l(Jt,void 0,this._container),200)):Jt(this._container),this.options.interactive&&(Yt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(n){return this._latlng=U(n),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(n){return this._content=n,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var n={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Wr(this._container),this},bringToBack:function(){return this._map&&jr(this._container),this},_prepareOpen:function(n){var s=this._source;if(!s._map)return!1;if(s instanceof Vn){s=null;var a=this._source._layers;for(var u in a)if(a[u]._map){s=a[u];break}if(!s)return!1;this._source=s}if(!n)if(s.getCenter)n=s.getCenter();else if(s.getLatLng)n=s.getLatLng();else if(s.getBounds)n=s.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(n),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var n=this._contentNode,s=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof s=="string")n.innerHTML=s;else{for(;n.hasChildNodes();)n.removeChild(n.firstChild);n.appendChild(s)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var n=this._map.latLngToLayerPoint(this._latlng),s=Y(this.options.offset),a=this._getAnchor();this._zoomAnimated?te(this._container,n.add(a)):s=s.add(n).add(a);var u=this._containerBottom=-s.y,d=this._containerLeft=-Math.round(this._containerWidth/2)+s.x;this._container.style.bottom=u+"px",this._container.style.left=d+"px"}},_getAnchor:function(){return[0,0]}});Tt.include({_initOverlay:function(n,s,a,u){var d=s;return d instanceof n||(d=new n(u).setContent(s)),a&&d.setLatLng(a),d}}),an.include({_initOverlay:function(n,s,a,u){var d=a;return d instanceof n?(x(d,u),d._source=this):(d=s&&!u?s:new n(u,this),d.setContent(a)),d}});var Oa=En.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(n){return n=arguments.length?n:this._source._map,!n.hasLayer(this)&&n._popup&&n._popup.options.autoClose&&n.removeLayer(n._popup),n._popup=this,En.prototype.openOn.call(this,n)},onAdd:function(n){En.prototype.onAdd.call(this,n),n.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof vi||this._source.on("preclick",$i))},onRemove:function(n){En.prototype.onRemove.call(this,n),n.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof vi||this._source.off("preclick",$i))},getEvents:function(){var n=En.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(n.preclick=this.close),this.options.keepInView&&(n.moveend=this._adjustPan),n},_initLayout:function(){var n="leaflet-popup",s=this._container=kt("div",n+" "+(this.options.className||"")+" leaflet-zoom-animated"),a=this._wrapper=kt("div",n+"-content-wrapper",s);if(this._contentNode=kt("div",n+"-content",a),vo(s),tl(this._contentNode),ft(s,"contextmenu",$i),this._tipContainer=kt("div",n+"-tip-container",s),this._tip=kt("div",n+"-tip",this._tipContainer),this.options.closeButton){var u=this._closeButton=kt("a",n+"-close-button",s);u.setAttribute("role","button"),u.setAttribute("aria-label","Close popup"),u.href="#close",u.innerHTML='<span aria-hidden="true">&#215;</span>',ft(u,"click",function(d){ue(d),this.close()},this)}},_updateLayout:function(){var n=this._contentNode,s=n.style;s.width="",s.whiteSpace="nowrap";var a=n.offsetWidth;a=Math.min(a,this.options.maxWidth),a=Math.max(a,this.options.minWidth),s.width=a+1+"px",s.whiteSpace="",s.height="";var u=n.offsetHeight,d=this.options.maxHeight,g="leaflet-popup-scrolled";d&&u>d?(s.height=d+"px",mt(n,g)):Yt(n,g),this._containerWidth=this._container.offsetWidth},_animateZoom:function(n){var s=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center),a=this._getAnchor();te(this._container,s.add(a))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var n=this._map,s=parseInt(go(this._container,"marginBottom"),10)||0,a=this._container.offsetHeight+s,u=this._containerWidth,d=new Q(this._containerLeft,-a-this._containerBottom);d._add(Xi(this._container));var g=n.layerPointToContainerPoint(d),v=Y(this.options.autoPanPadding),C=Y(this.options.autoPanPaddingTopLeft||v),I=Y(this.options.autoPanPaddingBottomRight||v),M=n.getSize(),J=0,at=0;g.x+u+I.x>M.x&&(J=g.x+u-M.x+I.x),g.x-J-C.x<0&&(J=g.x-C.x),g.y+a+I.y>M.y&&(at=g.y+a-M.y+I.y),g.y-at-C.y<0&&(at=g.y-C.y),(J||at)&&(this.options.keepInView&&(this._autopanning=!0),n.fire("autopanstart").panBy([J,at]))}},_getAnchor:function(){return Y(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),cg=function(n,s){return new Oa(n,s)};Tt.mergeOptions({closePopupOnClick:!0}),Tt.include({openPopup:function(n,s,a){return this._initOverlay(Oa,n,s,a).openOn(this),this},closePopup:function(n){return n=arguments.length?n:this._popup,n&&n.close(),this}}),an.include({bindPopup:function(n,s){return this._popup=this._initOverlay(Oa,this._popup,n,s),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(n){return this._popup&&(this instanceof Vn||(this._popup._source=this),this._popup._prepareOpen(n||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(n){return this._popup&&this._popup.setContent(n),this},getPopup:function(){return this._popup},_openPopup:function(n){if(!(!this._popup||!this._map)){tr(n);var s=n.layer||n.target;if(this._popup._source===s&&!(s instanceof vi)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(n.latlng);return}this._popup._source=s,this.openPopup(n.latlng)}},_movePopup:function(n){this._popup.setLatLng(n.latlng)},_onKeyPress:function(n){n.originalEvent.keyCode===13&&this._openPopup(n)}});var Sa=En.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(n){En.prototype.onAdd.call(this,n),this.setOpacity(this.options.opacity),n.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(n){En.prototype.onRemove.call(this,n),n.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var n=En.prototype.getEvents.call(this);return this.options.permanent||(n.preclick=this.close),n},_initLayout:function(){var n="leaflet-tooltip",s=n+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=kt("div",s),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+f(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(n){var s,a,u=this._map,d=this._container,g=u.latLngToContainerPoint(u.getCenter()),v=u.layerPointToContainerPoint(n),C=this.options.direction,I=d.offsetWidth,M=d.offsetHeight,J=Y(this.options.offset),at=this._getAnchor();C==="top"?(s=I/2,a=M):C==="bottom"?(s=I/2,a=0):C==="center"?(s=I/2,a=M/2):C==="right"?(s=0,a=M/2):C==="left"?(s=I,a=M/2):v.x<g.x?(C="right",s=0,a=M/2):(C="left",s=I+(J.x+at.x)*2,a=M/2),n=n.subtract(Y(s,a,!0)).add(J).add(at),Yt(d,"leaflet-tooltip-right"),Yt(d,"leaflet-tooltip-left"),Yt(d,"leaflet-tooltip-top"),Yt(d,"leaflet-tooltip-bottom"),mt(d,"leaflet-tooltip-"+C),te(d,n)},_updatePosition:function(){var n=this._map.latLngToLayerPoint(this._latlng);this._setPosition(n)},setOpacity:function(n){this.options.opacity=n,this._container&&Ve(this._container,n)},_animateZoom:function(n){var s=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center);this._setPosition(s)},_getAnchor:function(){return Y(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),lg=function(n,s){return new Sa(n,s)};Tt.include({openTooltip:function(n,s,a){return this._initOverlay(Sa,n,s,a).openOn(this),this},closeTooltip:function(n){return n.close(),this}}),an.include({bindTooltip:function(n,s){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Sa,this._tooltip,n,s),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(n){if(!(!n&&this._tooltipHandlersAdded)){var s=n?"off":"on",a={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?a.add=this._openTooltip:(a.mouseover=this._openTooltip,a.mouseout=this.closeTooltip,a.click=this._openTooltip,this._map?this._addFocusListeners():a.add=this._addFocusListeners),this._tooltip.options.sticky&&(a.mousemove=this._moveTooltip),this[s](a),this._tooltipHandlersAdded=!n}},openTooltip:function(n){return this._tooltip&&(this instanceof Vn||(this._tooltip._source=this),this._tooltip._prepareOpen(n)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(n){return this._tooltip&&this._tooltip.setContent(n),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(n){var s=typeof n.getElement=="function"&&n.getElement();s&&(ft(s,"focus",function(){this._tooltip._source=n,this.openTooltip()},this),ft(s,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(n){var s=typeof n.getElement=="function"&&n.getElement();s&&s.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(n){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var s=this;this._map.once("moveend",function(){s._openOnceFlag=!1,s._openTooltip(n)});return}this._tooltip._source=n.layer||n.target,this.openTooltip(this._tooltip.options.sticky?n.latlng:void 0)}},_moveTooltip:function(n){var s=n.latlng,a,u;this._tooltip.options.sticky&&n.originalEvent&&(a=this._map.mouseEventToContainerPoint(n.originalEvent),u=this._map.containerPointToLayerPoint(a),s=this._map.layerPointToLatLng(u)),this._tooltip.setLatLng(s)}});var Ch=qr.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(n){var s=n&&n.tagName==="DIV"?n:document.createElement("div"),a=this.options;if(a.html instanceof Element?(wa(s),s.appendChild(a.html)):s.innerHTML=a.html!==!1?a.html:"",a.bgPos){var u=Y(a.bgPos);s.style.backgroundPosition=-u.x+"px "+-u.y+"px"}return this._setIconStyles(s,"icon"),s},createShadow:function(){return null}});function ug(n){return new Ch(n)}qr.Default=xo;var Eo=an.extend({options:{tileSize:256,opacity:1,updateWhenIdle:nt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(n){x(this,n)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(n){n._addZoomLimit(this)},onRemove:function(n){this._removeAllTiles(),Jt(this._container),n._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Wr(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(jr(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(n){return this.options.opacity=n,this._updateOpacity(),this},setZIndex:function(n){return this.options.zIndex=n,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var n=this._clampZoom(this._map.getZoom());n!==this._tileZoom&&(this._tileZoom=n,this._updateLevels()),this._update()}return this},getEvents:function(){var n={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=m(this._onMoveEnd,this.options.updateInterval,this)),n.move=this._onMove),this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},createTile:function(){return document.createElement("div")},getTileSize:function(){var n=this.options.tileSize;return n instanceof Q?n:new Q(n,n)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(n){for(var s=this.getPane().children,a=-n(-1/0,1/0),u=0,d=s.length,g;u<d;u++)g=s[u].style.zIndex,s[u]!==this._container&&g&&(a=n(a,+g));isFinite(a)&&(this.options.zIndex=a+n(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!nt.ielt9){Ve(this._container,this.options.opacity);var n=+new Date,s=!1,a=!1;for(var u in this._tiles){var d=this._tiles[u];if(!(!d.current||!d.loaded)){var g=Math.min(1,(n-d.loaded)/200);Ve(d.el,g),g<1?s=!0:(d.active?a=!0:this._onOpaqueTile(d),d.active=!0)}}a&&!this._noPrune&&this._pruneTiles(),s&&(ct(this._fadeFrame),this._fadeFrame=it(this._updateOpacity,this))}},_onOpaqueTile:y,_initContainer:function(){this._container||(this._container=kt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var n=this._tileZoom,s=this.options.maxZoom;if(n!==void 0){for(var a in this._levels)a=Number(a),this._levels[a].el.children.length||a===n?(this._levels[a].el.style.zIndex=s-Math.abs(n-a),this._onUpdateLevel(a)):(Jt(this._levels[a].el),this._removeTilesAtZoom(a),this._onRemoveLevel(a),delete this._levels[a]);var u=this._levels[n],d=this._map;return u||(u=this._levels[n]={},u.el=kt("div","leaflet-tile-container leaflet-zoom-animated",this._container),u.el.style.zIndex=s,u.origin=d.project(d.unproject(d.getPixelOrigin()),n).round(),u.zoom=n,this._setZoomTransform(u,d.getCenter(),d.getZoom()),y(u.el.offsetWidth),this._onCreateLevel(u)),this._level=u,u}},_onUpdateLevel:y,_onRemoveLevel:y,_onCreateLevel:y,_pruneTiles:function(){if(this._map){var n,s,a=this._map.getZoom();if(a>this.options.maxZoom||a<this.options.minZoom){this._removeAllTiles();return}for(n in this._tiles)s=this._tiles[n],s.retain=s.current;for(n in this._tiles)if(s=this._tiles[n],s.current&&!s.active){var u=s.coords;this._retainParent(u.x,u.y,u.z,u.z-5)||this._retainChildren(u.x,u.y,u.z,u.z+2)}for(n in this._tiles)this._tiles[n].retain||this._removeTile(n)}},_removeTilesAtZoom:function(n){for(var s in this._tiles)this._tiles[s].coords.z===n&&this._removeTile(s)},_removeAllTiles:function(){for(var n in this._tiles)this._removeTile(n)},_invalidateAll:function(){for(var n in this._levels)Jt(this._levels[n].el),this._onRemoveLevel(Number(n)),delete this._levels[n];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(n,s,a,u){var d=Math.floor(n/2),g=Math.floor(s/2),v=a-1,C=new Q(+d,+g);C.z=+v;var I=this._tileCoordsToKey(C),M=this._tiles[I];return M&&M.active?(M.retain=!0,!0):(M&&M.loaded&&(M.retain=!0),v>u?this._retainParent(d,g,v,u):!1)},_retainChildren:function(n,s,a,u){for(var d=2*n;d<2*n+2;d++)for(var g=2*s;g<2*s+2;g++){var v=new Q(d,g);v.z=a+1;var C=this._tileCoordsToKey(v),I=this._tiles[C];if(I&&I.active){I.retain=!0;continue}else I&&I.loaded&&(I.retain=!0);a+1<u&&this._retainChildren(d,g,a+1,u)}},_resetView:function(n){var s=n&&(n.pinch||n.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),s,s)},_animateZoom:function(n){this._setView(n.center,n.zoom,!0,n.noUpdate)},_clampZoom:function(n){var s=this.options;return s.minNativeZoom!==void 0&&n<s.minNativeZoom?s.minNativeZoom:s.maxNativeZoom!==void 0&&s.maxNativeZoom<n?s.maxNativeZoom:n},_setView:function(n,s,a,u){var d=Math.round(s);this.options.maxZoom!==void 0&&d>this.options.maxZoom||this.options.minZoom!==void 0&&d<this.options.minZoom?d=void 0:d=this._clampZoom(d);var g=this.options.updateWhenZooming&&d!==this._tileZoom;(!u||g)&&(this._tileZoom=d,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),d!==void 0&&this._update(n),a||this._pruneTiles(),this._noPrune=!!a),this._setZoomTransforms(n,s)},_setZoomTransforms:function(n,s){for(var a in this._levels)this._setZoomTransform(this._levels[a],n,s)},_setZoomTransform:function(n,s,a){var u=this._map.getZoomScale(a,n.zoom),d=n.origin.multiplyBy(u).subtract(this._map._getNewPixelOrigin(s,a)).round();nt.any3d?qi(n.el,d,u):te(n.el,d)},_resetGrid:function(){var n=this._map,s=n.options.crs,a=this._tileSize=this.getTileSize(),u=this._tileZoom,d=this._map.getPixelWorldBounds(this._tileZoom);d&&(this._globalTileRange=this._pxBoundsToTileRange(d)),this._wrapX=s.wrapLng&&!this.options.noWrap&&[Math.floor(n.project([0,s.wrapLng[0]],u).x/a.x),Math.ceil(n.project([0,s.wrapLng[1]],u).x/a.y)],this._wrapY=s.wrapLat&&!this.options.noWrap&&[Math.floor(n.project([s.wrapLat[0],0],u).y/a.x),Math.ceil(n.project([s.wrapLat[1],0],u).y/a.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(n){var s=this._map,a=s._animatingZoom?Math.max(s._animateToZoom,s.getZoom()):s.getZoom(),u=s.getZoomScale(a,this._tileZoom),d=s.project(n,this._tileZoom).floor(),g=s.getSize().divideBy(u*2);return new wt(d.subtract(g),d.add(g))},_update:function(n){var s=this._map;if(s){var a=this._clampZoom(s.getZoom());if(n===void 0&&(n=s.getCenter()),this._tileZoom!==void 0){var u=this._getTiledPixelBounds(n),d=this._pxBoundsToTileRange(u),g=d.getCenter(),v=[],C=this.options.keepBuffer,I=new wt(d.getBottomLeft().subtract([C,-C]),d.getTopRight().add([C,-C]));if(!(isFinite(d.min.x)&&isFinite(d.min.y)&&isFinite(d.max.x)&&isFinite(d.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var M in this._tiles){var J=this._tiles[M].coords;(J.z!==this._tileZoom||!I.contains(new Q(J.x,J.y)))&&(this._tiles[M].current=!1)}if(Math.abs(a-this._tileZoom)>1){this._setView(n,a);return}for(var at=d.min.y;at<=d.max.y;at++)for(var bt=d.min.x;bt<=d.max.x;bt++){var we=new Q(bt,at);if(we.z=this._tileZoom,!!this._isValidTile(we)){var se=this._tiles[this._tileCoordsToKey(we)];se?se.current=!0:v.push(we)}}if(v.sort(function(Ce,es){return Ce.distanceTo(g)-es.distanceTo(g)}),v.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Je=document.createDocumentFragment();for(bt=0;bt<v.length;bt++)this._addTile(v[bt],Je);this._level.el.appendChild(Je)}}}},_isValidTile:function(n){var s=this._map.options.crs;if(!s.infinite){var a=this._globalTileRange;if(!s.wrapLng&&(n.x<a.min.x||n.x>a.max.x)||!s.wrapLat&&(n.y<a.min.y||n.y>a.max.y))return!1}if(!this.options.bounds)return!0;var u=this._tileCoordsToBounds(n);return z(this.options.bounds).overlaps(u)},_keyToBounds:function(n){return this._tileCoordsToBounds(this._keyToTileCoords(n))},_tileCoordsToNwSe:function(n){var s=this._map,a=this.getTileSize(),u=n.scaleBy(a),d=u.add(a),g=s.unproject(u,n.z),v=s.unproject(d,n.z);return[g,v]},_tileCoordsToBounds:function(n){var s=this._tileCoordsToNwSe(n),a=new q(s[0],s[1]);return this.options.noWrap||(a=this._map.wrapLatLngBounds(a)),a},_tileCoordsToKey:function(n){return n.x+":"+n.y+":"+n.z},_keyToTileCoords:function(n){var s=n.split(":"),a=new Q(+s[0],+s[1]);return a.z=+s[2],a},_removeTile:function(n){var s=this._tiles[n];s&&(Jt(s.el),delete this._tiles[n],this.fire("tileunload",{tile:s.el,coords:this._keyToTileCoords(n)}))},_initTile:function(n){mt(n,"leaflet-tile");var s=this.getTileSize();n.style.width=s.x+"px",n.style.height=s.y+"px",n.onselectstart=y,n.onmousemove=y,nt.ielt9&&this.options.opacity<1&&Ve(n,this.options.opacity)},_addTile:function(n,s){var a=this._getTilePos(n),u=this._tileCoordsToKey(n),d=this.createTile(this._wrapCoords(n),l(this._tileReady,this,n));this._initTile(d),this.createTile.length<2&&it(l(this._tileReady,this,n,null,d)),te(d,a),this._tiles[u]={el:d,coords:n,current:!0},s.appendChild(d),this.fire("tileloadstart",{tile:d,coords:n})},_tileReady:function(n,s,a){s&&this.fire("tileerror",{error:s,tile:a,coords:n});var u=this._tileCoordsToKey(n);a=this._tiles[u],a&&(a.loaded=+new Date,this._map._fadeAnimated?(Ve(a.el,0),ct(this._fadeFrame),this._fadeFrame=it(this._updateOpacity,this)):(a.active=!0,this._pruneTiles()),s||(mt(a.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:a.el,coords:n})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),nt.ielt9||!this._map._fadeAnimated?it(this._pruneTiles,this):setTimeout(l(this._pruneTiles,this),250)))},_getTilePos:function(n){return n.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(n){var s=new Q(this._wrapX?_(n.x,this._wrapX):n.x,this._wrapY?_(n.y,this._wrapY):n.y);return s.z=n.z,s},_pxBoundsToTileRange:function(n){var s=this.getTileSize();return new wt(n.min.unscaleBy(s).floor(),n.max.unscaleBy(s).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var n in this._tiles)if(!this._tiles[n].loaded)return!1;return!0}});function hg(n){return new Eo(n)}var ts=Eo.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(n,s){this._url=n,s=x(this,s),s.detectRetina&&nt.retina&&s.maxZoom>0?(s.tileSize=Math.floor(s.tileSize/2),s.zoomReverse?(s.zoomOffset--,s.minZoom=Math.min(s.maxZoom,s.minZoom+1)):(s.zoomOffset++,s.maxZoom=Math.max(s.minZoom,s.maxZoom-1)),s.minZoom=Math.max(0,s.minZoom)):s.zoomReverse?s.minZoom=Math.min(s.maxZoom,s.minZoom):s.maxZoom=Math.max(s.minZoom,s.maxZoom),typeof s.subdomains=="string"&&(s.subdomains=s.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(n,s){return this._url===n&&s===void 0&&(s=!0),this._url=n,s||this.redraw(),this},createTile:function(n,s){var a=document.createElement("img");return ft(a,"load",l(this._tileOnLoad,this,s,a)),ft(a,"error",l(this._tileOnError,this,s,a)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(a.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(a.referrerPolicy=this.options.referrerPolicy),a.alt="",a.src=this.getTileUrl(n),a},getTileUrl:function(n){var s={r:nt.retina?"@2x":"",s:this._getSubdomain(n),x:n.x,y:n.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var a=this._globalTileRange.max.y-n.y;this.options.tms&&(s.y=a),s["-y"]=a}return G(this._url,o(s,this.options))},_tileOnLoad:function(n,s){nt.ielt9?setTimeout(l(n,this,null,s),0):n(null,s)},_tileOnError:function(n,s,a){var u=this.options.errorTileUrl;u&&s.getAttribute("src")!==u&&(s.src=u),n(a,s)},_onTileRemove:function(n){n.tile.onload=null},_getZoomForUrl:function(){var n=this._tileZoom,s=this.options.maxZoom,a=this.options.zoomReverse,u=this.options.zoomOffset;return a&&(n=s-n),n+u},_getSubdomain:function(n){var s=Math.abs(n.x+n.y)%this.options.subdomains.length;return this.options.subdomains[s]},_abortLoading:function(){var n,s;for(n in this._tiles)if(this._tiles[n].coords.z!==this._tileZoom&&(s=this._tiles[n].el,s.onload=y,s.onerror=y,!s.complete)){s.src=K;var a=this._tiles[n].coords;Jt(s),delete this._tiles[n],this.fire("tileabort",{tile:s,coords:a})}},_removeTile:function(n){var s=this._tiles[n];if(s)return s.el.setAttribute("src",K),Eo.prototype._removeTile.call(this,n)},_tileReady:function(n,s,a){if(!(!this._map||a&&a.getAttribute("src")===K))return Eo.prototype._tileReady.call(this,n,s,a)}});function kh(n,s){return new ts(n,s)}var Ih=ts.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(n,s){this._url=n;var a=o({},this.defaultWmsParams);for(var u in s)u in this.options||(a[u]=s[u]);s=x(this,s);var d=s.detectRetina&&nt.retina?2:1,g=this.getTileSize();a.width=g.x*d,a.height=g.y*d,this.wmsParams=a},onAdd:function(n){this._crs=this.options.crs||n.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var s=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[s]=this._crs.code,ts.prototype.onAdd.call(this,n)},getTileUrl:function(n){var s=this._tileCoordsToNwSe(n),a=this._crs,u=S(a.project(s[0]),a.project(s[1])),d=u.min,g=u.max,v=(this._wmsVersion>=1.3&&this._crs===Ah?[d.y,d.x,g.y,g.x]:[d.x,d.y,g.x,g.y]).join(","),C=ts.prototype.getTileUrl.call(this,n);return C+O(this.wmsParams,C,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+v},setParams:function(n,s){return o(this.wmsParams,n),s||this.redraw(),this}});function fg(n,s){return new Ih(n,s)}ts.WMS=Ih,kh.wms=fg;var Kn=an.extend({options:{padding:.1},initialize:function(n){x(this,n),f(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),mt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var n={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(n.zoomanim=this._onAnimZoom),n},_onAnimZoom:function(n){this._updateTransform(n.center,n.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(n,s){var a=this._map.getZoomScale(s,this._zoom),u=this._map.getSize().multiplyBy(.5+this.options.padding),d=this._map.project(this._center,s),g=u.multiplyBy(-a).add(d).subtract(this._map._getNewPixelOrigin(n,s));nt.any3d?qi(this._container,g,a):te(this._container,g)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var n in this._layers)this._layers[n]._reset()},_onZoomEnd:function(){for(var n in this._layers)this._layers[n]._project()},_updatePaths:function(){for(var n in this._layers)this._layers[n]._update()},_update:function(){var n=this.options.padding,s=this._map.getSize(),a=this._map.containerPointToLayerPoint(s.multiplyBy(-n)).round();this._bounds=new wt(a,a.add(s.multiplyBy(1+n*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Bh=Kn.extend({options:{tolerance:0},getEvents:function(){var n=Kn.prototype.getEvents.call(this);return n.viewprereset=this._onViewPreReset,n},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Kn.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var n=this._container=document.createElement("canvas");ft(n,"mousemove",this._onMouseMove,this),ft(n,"click dblclick mousedown mouseup contextmenu",this._onClick,this),ft(n,"mouseout",this._handleMouseOut,this),n._leaflet_disable_events=!0,this._ctx=n.getContext("2d")},_destroyContainer:function(){ct(this._redrawRequest),delete this._ctx,Jt(this._container),Ut(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var n;this._redrawBounds=null;for(var s in this._layers)n=this._layers[s],n._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Kn.prototype._update.call(this);var n=this._bounds,s=this._container,a=n.getSize(),u=nt.retina?2:1;te(s,n.min),s.width=u*a.x,s.height=u*a.y,s.style.width=a.x+"px",s.style.height=a.y+"px",nt.retina&&this._ctx.scale(2,2),this._ctx.translate(-n.min.x,-n.min.y),this.fire("update")}},_reset:function(){Kn.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(n){this._updateDashArray(n),this._layers[f(n)]=n;var s=n._order={layer:n,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=s),this._drawLast=s,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(n){this._requestRedraw(n)},_removePath:function(n){var s=n._order,a=s.next,u=s.prev;a?a.prev=u:this._drawLast=u,u?u.next=a:this._drawFirst=a,delete n._order,delete this._layers[f(n)],this._requestRedraw(n)},_updatePath:function(n){this._extendRedrawBounds(n),n._project(),n._update(),this._requestRedraw(n)},_updateStyle:function(n){this._updateDashArray(n),this._requestRedraw(n)},_updateDashArray:function(n){if(typeof n.options.dashArray=="string"){var s=n.options.dashArray.split(/[, ]+/),a=[],u,d;for(d=0;d<s.length;d++){if(u=Number(s[d]),isNaN(u))return;a.push(u)}n.options._dashArray=a}else n.options._dashArray=n.options.dashArray},_requestRedraw:function(n){this._map&&(this._extendRedrawBounds(n),this._redrawRequest=this._redrawRequest||it(this._redraw,this))},_extendRedrawBounds:function(n){if(n._pxBounds){var s=(n.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new wt,this._redrawBounds.extend(n._pxBounds.min.subtract([s,s])),this._redrawBounds.extend(n._pxBounds.max.add([s,s]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var n=this._redrawBounds;if(n){var s=n.getSize();this._ctx.clearRect(n.min.x,n.min.y,s.x,s.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var n,s=this._redrawBounds;if(this._ctx.save(),s){var a=s.getSize();this._ctx.beginPath(),this._ctx.rect(s.min.x,s.min.y,a.x,a.y),this._ctx.clip()}this._drawing=!0;for(var u=this._drawFirst;u;u=u.next)n=u.layer,(!s||n._pxBounds&&n._pxBounds.intersects(s))&&n._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(n,s){if(this._drawing){var a,u,d,g,v=n._parts,C=v.length,I=this._ctx;if(C){for(I.beginPath(),a=0;a<C;a++){for(u=0,d=v[a].length;u<d;u++)g=v[a][u],I[u?"lineTo":"moveTo"](g.x,g.y);s&&I.closePath()}this._fillStroke(I,n)}}},_updateCircle:function(n){if(!(!this._drawing||n._empty())){var s=n._point,a=this._ctx,u=Math.max(Math.round(n._radius),1),d=(Math.max(Math.round(n._radiusY),1)||u)/u;d!==1&&(a.save(),a.scale(1,d)),a.beginPath(),a.arc(s.x,s.y/d,u,0,Math.PI*2,!1),d!==1&&a.restore(),this._fillStroke(a,n)}},_fillStroke:function(n,s){var a=s.options;a.fill&&(n.globalAlpha=a.fillOpacity,n.fillStyle=a.fillColor||a.color,n.fill(a.fillRule||"evenodd")),a.stroke&&a.weight!==0&&(n.setLineDash&&n.setLineDash(s.options&&s.options._dashArray||[]),n.globalAlpha=a.opacity,n.lineWidth=a.weight,n.strokeStyle=a.color,n.lineCap=a.lineCap,n.lineJoin=a.lineJoin,n.stroke())},_onClick:function(n){for(var s=this._map.mouseEventToLayerPoint(n),a,u,d=this._drawFirst;d;d=d.next)a=d.layer,a.options.interactive&&a._containsPoint(s)&&(!(n.type==="click"||n.type==="preclick")||!this._map._draggableMoved(a))&&(u=a);this._fireEvent(u?[u]:!1,n)},_onMouseMove:function(n){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var s=this._map.mouseEventToLayerPoint(n);this._handleMouseHover(n,s)}},_handleMouseOut:function(n){var s=this._hoveredLayer;s&&(Yt(this._container,"leaflet-interactive"),this._fireEvent([s],n,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(n,s){if(!this._mouseHoverThrottled){for(var a,u,d=this._drawFirst;d;d=d.next)a=d.layer,a.options.interactive&&a._containsPoint(s)&&(u=a);u!==this._hoveredLayer&&(this._handleMouseOut(n),u&&(mt(this._container,"leaflet-interactive"),this._fireEvent([u],n,"mouseover"),this._hoveredLayer=u)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,n),this._mouseHoverThrottled=!0,setTimeout(l(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(n,s,a){this._map._fireDOMEvent(s,a||s.type,n)},_bringToFront:function(n){var s=n._order;if(s){var a=s.next,u=s.prev;if(a)a.prev=u;else return;u?u.next=a:a&&(this._drawFirst=a),s.prev=this._drawLast,this._drawLast.next=s,s.next=null,this._drawLast=s,this._requestRedraw(n)}},_bringToBack:function(n){var s=n._order;if(s){var a=s.next,u=s.prev;if(u)u.next=a;else return;a?a.prev=u:u&&(this._drawLast=u),s.prev=null,s.next=this._drawFirst,this._drawFirst.prev=s,this._drawFirst=s,this._requestRedraw(n)}}});function Oh(n){return nt.canvas?new Bh(n):null}var Po=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(n){return document.createElement("<lvml:"+n+' class="lvml">')}}catch{}return function(n){return document.createElement("<"+n+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),dg={_initContainer:function(){this._container=kt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Kn.prototype._update.call(this),this.fire("update"))},_initPath:function(n){var s=n._container=Po("shape");mt(s,"leaflet-vml-shape "+(this.options.className||"")),s.coordsize="1 1",n._path=Po("path"),s.appendChild(n._path),this._updateStyle(n),this._layers[f(n)]=n},_addPath:function(n){var s=n._container;this._container.appendChild(s),n.options.interactive&&n.addInteractiveTarget(s)},_removePath:function(n){var s=n._container;Jt(s),n.removeInteractiveTarget(s),delete this._layers[f(n)]},_updateStyle:function(n){var s=n._stroke,a=n._fill,u=n.options,d=n._container;d.stroked=!!u.stroke,d.filled=!!u.fill,u.stroke?(s||(s=n._stroke=Po("stroke")),d.appendChild(s),s.weight=u.weight+"px",s.color=u.color,s.opacity=u.opacity,u.dashArray?s.dashStyle=F(u.dashArray)?u.dashArray.join(" "):u.dashArray.replace(/( *, *)/g," "):s.dashStyle="",s.endcap=u.lineCap.replace("butt","flat"),s.joinstyle=u.lineJoin):s&&(d.removeChild(s),n._stroke=null),u.fill?(a||(a=n._fill=Po("fill")),d.appendChild(a),a.color=u.fillColor||u.color,a.opacity=u.fillOpacity):a&&(d.removeChild(a),n._fill=null)},_updateCircle:function(n){var s=n._point.round(),a=Math.round(n._radius),u=Math.round(n._radiusY||a);this._setPath(n,n._empty()?"M0 0":"AL "+s.x+","+s.y+" "+a+","+u+" 0,"+65535*360)},_setPath:function(n,s){n._path.v=s},_bringToFront:function(n){Wr(n._container)},_bringToBack:function(n){jr(n._container)}},Na=nt.vml?Po:vt,To=Kn.extend({_initContainer:function(){this._container=Na("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Na("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Jt(this._container),Ut(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Kn.prototype._update.call(this);var n=this._bounds,s=n.getSize(),a=this._container;(!this._svgSize||!this._svgSize.equals(s))&&(this._svgSize=s,a.setAttribute("width",s.x),a.setAttribute("height",s.y)),te(a,n.min),a.setAttribute("viewBox",[n.min.x,n.min.y,s.x,s.y].join(" ")),this.fire("update")}},_initPath:function(n){var s=n._path=Na("path");n.options.className&&mt(s,n.options.className),n.options.interactive&&mt(s,"leaflet-interactive"),this._updateStyle(n),this._layers[f(n)]=n},_addPath:function(n){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(n._path),n.addInteractiveTarget(n._path)},_removePath:function(n){Jt(n._path),n.removeInteractiveTarget(n._path),delete this._layers[f(n)]},_updatePath:function(n){n._project(),n._update()},_updateStyle:function(n){var s=n._path,a=n.options;s&&(a.stroke?(s.setAttribute("stroke",a.color),s.setAttribute("stroke-opacity",a.opacity),s.setAttribute("stroke-width",a.weight),s.setAttribute("stroke-linecap",a.lineCap),s.setAttribute("stroke-linejoin",a.lineJoin),a.dashArray?s.setAttribute("stroke-dasharray",a.dashArray):s.removeAttribute("stroke-dasharray"),a.dashOffset?s.setAttribute("stroke-dashoffset",a.dashOffset):s.removeAttribute("stroke-dashoffset")):s.setAttribute("stroke","none"),a.fill?(s.setAttribute("fill",a.fillColor||a.color),s.setAttribute("fill-opacity",a.fillOpacity),s.setAttribute("fill-rule",a.fillRule||"evenodd")):s.setAttribute("fill","none"))},_updatePoly:function(n,s){this._setPath(n,Zt(n._parts,s))},_updateCircle:function(n){var s=n._point,a=Math.max(Math.round(n._radius),1),u=Math.max(Math.round(n._radiusY),1)||a,d="a"+a+","+u+" 0 1,0 ",g=n._empty()?"M0 0":"M"+(s.x-a)+","+s.y+d+a*2+",0 "+d+-a*2+",0 ";this._setPath(n,g)},_setPath:function(n,s){n._path.setAttribute("d",s)},_bringToFront:function(n){Wr(n._path)},_bringToBack:function(n){jr(n._path)}});nt.vml&&To.include(dg);function Sh(n){return nt.svg||nt.vml?new To(n):null}Tt.include({getRenderer:function(n){var s=n.options.renderer||this._getPaneRenderer(n.options.pane)||this.options.renderer||this._renderer;return s||(s=this._renderer=this._createRenderer()),this.hasLayer(s)||this.addLayer(s),s},_getPaneRenderer:function(n){if(n==="overlayPane"||n===void 0)return!1;var s=this._paneRenderers[n];return s===void 0&&(s=this._createRenderer({pane:n}),this._paneRenderers[n]=s),s},_createRenderer:function(n){return this.options.preferCanvas&&Oh(n)||Sh(n)}});var Nh=Xr.extend({initialize:function(n,s){Xr.prototype.initialize.call(this,this._boundsToLatLngs(n),s)},setBounds:function(n){return this.setLatLngs(this._boundsToLatLngs(n))},_boundsToLatLngs:function(n){return n=z(n),[n.getSouthWest(),n.getNorthWest(),n.getNorthEast(),n.getSouthEast()]}});function pg(n,s){return new Nh(n,s)}To.create=Na,To.pointsToPath=Zt,Jn.geometryToLayer=La,Jn.coordsToLatLng=ll,Jn.coordsToLatLngs=Ca,Jn.latLngToCoords=ul,Jn.latLngsToCoords=ka,Jn.getFeature=$r,Jn.asFeature=Ia,Tt.mergeOptions({boxZoom:!0});var Mh=xn.extend({initialize:function(n){this._map=n,this._container=n._container,this._pane=n._panes.overlayPane,this._resetStateTimeout=0,n.on("unload",this._destroy,this)},addHooks:function(){ft(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Ut(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Jt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(n){if(!n.shiftKey||n.which!==1&&n.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),yo(),Jc(),this._startPoint=this._map.mouseEventToContainerPoint(n),ft(document,{contextmenu:tr,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(n){this._moved||(this._moved=!0,this._box=kt("div","leaflet-zoom-box",this._container),mt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(n);var s=new wt(this._point,this._startPoint),a=s.getSize();te(this._box,s.min),this._box.style.width=a.x+"px",this._box.style.height=a.y+"px"},_finish:function(){this._moved&&(Jt(this._box),Yt(this._container,"leaflet-crosshair")),_o(),Kc(),Ut(document,{contextmenu:tr,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(n){if(!(n.which!==1&&n.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(l(this._resetState,this),0);var s=new q(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(s).fire("boxzoomend",{boxZoomBounds:s})}},_onKeyDown:function(n){n.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Tt.addInitHook("addHandler","boxZoom",Mh),Tt.mergeOptions({doubleClickZoom:!0});var Rh=xn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(n){var s=this._map,a=s.getZoom(),u=s.options.zoomDelta,d=n.originalEvent.shiftKey?a-u:a+u;s.options.doubleClickZoom==="center"?s.setZoom(d):s.setZoomAround(n.containerPoint,d)}});Tt.addInitHook("addHandler","doubleClickZoom",Rh),Tt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Fh=xn.extend({addHooks:function(){if(!this._draggable){var n=this._map;this._draggable=new wi(n._mapPane,n._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),n.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),n.on("zoomend",this._onZoomEnd,this),n.whenReady(this._onZoomEnd,this))}mt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Yt(this._map._container,"leaflet-grab"),Yt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var n=this._map;if(n._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var s=z(this._map.options.maxBounds);this._offsetLimit=S(this._map.latLngToContainerPoint(s.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(s.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;n.fire("movestart").fire("dragstart"),n.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(n){if(this._map.options.inertia){var s=this._lastTime=+new Date,a=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(a),this._times.push(s),this._prunePositions(s)}this._map.fire("move",n).fire("drag",n)},_prunePositions:function(n){for(;this._positions.length>1&&n-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var n=this._map.getSize().divideBy(2),s=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=s.subtract(n).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(n,s){return n-(n-s)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var n=this._draggable._newPos.subtract(this._draggable._startPos),s=this._offsetLimit;n.x<s.min.x&&(n.x=this._viscousLimit(n.x,s.min.x)),n.y<s.min.y&&(n.y=this._viscousLimit(n.y,s.min.y)),n.x>s.max.x&&(n.x=this._viscousLimit(n.x,s.max.x)),n.y>s.max.y&&(n.y=this._viscousLimit(n.y,s.max.y)),this._draggable._newPos=this._draggable._startPos.add(n)}},_onPreDragWrap:function(){var n=this._worldWidth,s=Math.round(n/2),a=this._initialWorldOffset,u=this._draggable._newPos.x,d=(u-s+a)%n+s-a,g=(u+s+a)%n-s-a,v=Math.abs(d+a)<Math.abs(g+a)?d:g;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=v},_onDragEnd:function(n){var s=this._map,a=s.options,u=!a.inertia||n.noInertia||this._times.length<2;if(s.fire("dragend",n),u)s.fire("moveend");else{this._prunePositions(+new Date);var d=this._lastPos.subtract(this._positions[0]),g=(this._lastTime-this._times[0])/1e3,v=a.easeLinearity,C=d.multiplyBy(v/g),I=C.distanceTo([0,0]),M=Math.min(a.inertiaMaxSpeed,I),J=C.multiplyBy(M/I),at=M/(a.inertiaDeceleration*v),bt=J.multiplyBy(-at/2).round();!bt.x&&!bt.y?s.fire("moveend"):(bt=s._limitOffset(bt,s.options.maxBounds),it(function(){s.panBy(bt,{duration:at,easeLinearity:v,noMoveStart:!0,animate:!0})}))}}});Tt.addInitHook("addHandler","dragging",Fh),Tt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Dh=xn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(n){this._map=n,this._setPanDelta(n.options.keyboardPanDelta),this._setZoomDelta(n.options.zoomDelta)},addHooks:function(){var n=this._map._container;n.tabIndex<=0&&(n.tabIndex="0"),ft(n,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Ut(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var n=document.body,s=document.documentElement,a=n.scrollTop||s.scrollTop,u=n.scrollLeft||s.scrollLeft;this._map._container.focus(),window.scrollTo(u,a)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(n){var s=this._panKeys={},a=this.keyCodes,u,d;for(u=0,d=a.left.length;u<d;u++)s[a.left[u]]=[-1*n,0];for(u=0,d=a.right.length;u<d;u++)s[a.right[u]]=[n,0];for(u=0,d=a.down.length;u<d;u++)s[a.down[u]]=[0,n];for(u=0,d=a.up.length;u<d;u++)s[a.up[u]]=[0,-1*n]},_setZoomDelta:function(n){var s=this._zoomKeys={},a=this.keyCodes,u,d;for(u=0,d=a.zoomIn.length;u<d;u++)s[a.zoomIn[u]]=n;for(u=0,d=a.zoomOut.length;u<d;u++)s[a.zoomOut[u]]=-n},_addHooks:function(){ft(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Ut(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(n){if(!(n.altKey||n.ctrlKey||n.metaKey)){var s=n.keyCode,a=this._map,u;if(s in this._panKeys){if(!a._panAnim||!a._panAnim._inProgress)if(u=this._panKeys[s],n.shiftKey&&(u=Y(u).multiplyBy(3)),a.options.maxBounds&&(u=a._limitOffset(Y(u),a.options.maxBounds)),a.options.worldCopyJump){var d=a.wrapLatLng(a.unproject(a.project(a.getCenter()).add(u)));a.panTo(d)}else a.panBy(u)}else if(s in this._zoomKeys)a.setZoom(a.getZoom()+(n.shiftKey?3:1)*this._zoomKeys[s]);else if(s===27&&a._popup&&a._popup.options.closeOnEscapeKey)a.closePopup();else return;tr(n)}}});Tt.addInitHook("addHandler","keyboard",Dh),Tt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Uh=xn.extend({addHooks:function(){ft(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Ut(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(n){var s=lh(n),a=this._map.options.wheelDebounceTime;this._delta+=s,this._lastMousePos=this._map.mouseEventToContainerPoint(n),this._startTime||(this._startTime=+new Date);var u=Math.max(a-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(l(this._performZoom,this),u),tr(n)},_performZoom:function(){var n=this._map,s=n.getZoom(),a=this._map.options.zoomSnap||0;n._stop();var u=this._delta/(this._map.options.wheelPxPerZoomLevel*4),d=4*Math.log(2/(1+Math.exp(-Math.abs(u))))/Math.LN2,g=a?Math.ceil(d/a)*a:d,v=n._limitZoom(s+(this._delta>0?g:-g))-s;this._delta=0,this._startTime=null,v&&(n.options.scrollWheelZoom==="center"?n.setZoom(s+v):n.setZoomAround(this._lastMousePos,s+v))}});Tt.addInitHook("addHandler","scrollWheelZoom",Uh);var mg=600;Tt.mergeOptions({tapHold:nt.touchNative&&nt.safari&&nt.mobile,tapTolerance:15});var zh=xn.extend({addHooks:function(){ft(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Ut(this._map._container,"touchstart",this._onDown,this)},_onDown:function(n){if(clearTimeout(this._holdTimeout),n.touches.length===1){var s=n.touches[0];this._startPos=this._newPos=new Q(s.clientX,s.clientY),this._holdTimeout=setTimeout(l(function(){this._cancel(),this._isTapValid()&&(ft(document,"touchend",ue),ft(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",s))},this),mg),ft(document,"touchend touchcancel contextmenu",this._cancel,this),ft(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function n(){Ut(document,"touchend",ue),Ut(document,"touchend touchcancel",n)},_cancel:function(){clearTimeout(this._holdTimeout),Ut(document,"touchend touchcancel contextmenu",this._cancel,this),Ut(document,"touchmove",this._onMove,this)},_onMove:function(n){var s=n.touches[0];this._newPos=new Q(s.clientX,s.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(n,s){var a=new MouseEvent(n,{bubbles:!0,cancelable:!0,view:window,screenX:s.screenX,screenY:s.screenY,clientX:s.clientX,clientY:s.clientY});a._simulated=!0,s.target.dispatchEvent(a)}});Tt.addInitHook("addHandler","tapHold",zh),Tt.mergeOptions({touchZoom:nt.touch,bounceAtZoomLimits:!0});var Hh=xn.extend({addHooks:function(){mt(this._map._container,"leaflet-touch-zoom"),ft(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Yt(this._map._container,"leaflet-touch-zoom"),Ut(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(n){var s=this._map;if(!(!n.touches||n.touches.length!==2||s._animatingZoom||this._zooming)){var a=s.mouseEventToContainerPoint(n.touches[0]),u=s.mouseEventToContainerPoint(n.touches[1]);this._centerPoint=s.getSize()._divideBy(2),this._startLatLng=s.containerPointToLatLng(this._centerPoint),s.options.touchZoom!=="center"&&(this._pinchStartLatLng=s.containerPointToLatLng(a.add(u)._divideBy(2))),this._startDist=a.distanceTo(u),this._startZoom=s.getZoom(),this._moved=!1,this._zooming=!0,s._stop(),ft(document,"touchmove",this._onTouchMove,this),ft(document,"touchend touchcancel",this._onTouchEnd,this),ue(n)}},_onTouchMove:function(n){if(!(!n.touches||n.touches.length!==2||!this._zooming)){var s=this._map,a=s.mouseEventToContainerPoint(n.touches[0]),u=s.mouseEventToContainerPoint(n.touches[1]),d=a.distanceTo(u)/this._startDist;if(this._zoom=s.getScaleZoom(d,this._startZoom),!s.options.bounceAtZoomLimits&&(this._zoom<s.getMinZoom()&&d<1||this._zoom>s.getMaxZoom()&&d>1)&&(this._zoom=s._limitZoom(this._zoom)),s.options.touchZoom==="center"){if(this._center=this._startLatLng,d===1)return}else{var g=a._add(u)._divideBy(2)._subtract(this._centerPoint);if(d===1&&g.x===0&&g.y===0)return;this._center=s.unproject(s.project(this._pinchStartLatLng,this._zoom).subtract(g),this._zoom)}this._moved||(s._moveStart(!0,!1),this._moved=!0),ct(this._animRequest);var v=l(s._move,s,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=it(v,this,!0),ue(n)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,ct(this._animRequest),Ut(document,"touchmove",this._onTouchMove,this),Ut(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Tt.addInitHook("addHandler","touchZoom",Hh),Tt.BoxZoom=Mh,Tt.DoubleClickZoom=Rh,Tt.Drag=Fh,Tt.Keyboard=Dh,Tt.ScrollWheelZoom=Uh,Tt.TapHold=zh,Tt.TouchZoom=Hh,e.Bounds=wt,e.Browser=nt,e.CRS=xt,e.Canvas=Bh,e.Circle=cl,e.CircleMarker=Ta,e.Class=Bt,e.Control=on,e.DivIcon=Ch,e.DivOverlay=En,e.DomEvent=Sm,e.DomUtil=Bm,e.Draggable=wi,e.Evented=lt,e.FeatureGroup=Vn,e.GeoJSON=Jn,e.GridLayer=Eo,e.Handler=xn,e.Icon=qr,e.ImageOverlay=Ba,e.LatLng=X,e.LatLngBounds=q,e.Layer=an,e.LayerGroup=Yr,e.LineUtil=Jm,e.Map=Tt,e.Marker=Pa,e.Mixin=zm,e.Path=vi,e.Point=Q,e.PolyUtil=Hm,e.Polygon=Xr,e.Polyline=Qn,e.Popup=Oa,e.PosAnimation=uh,e.Projection=Km,e.Rectangle=Nh,e.Renderer=Kn,e.SVG=To,e.SVGOverlay=Lh,e.TileLayer=ts,e.Tooltip=Sa,e.Transformation=Ct,e.Util=Ht,e.VideoOverlay=Th,e.bind=l,e.bounds=S,e.canvas=Oh,e.circle=eg,e.circleMarker=tg,e.control=bo,e.divIcon=ug,e.extend=o,e.featureGroup=qm,e.geoJSON=Ph,e.geoJson=rg,e.gridLayer=hg,e.icon=Xm,e.imageOverlay=sg,e.latLng=U,e.latLngBounds=z,e.layerGroup=Ym,e.map=Nm,e.marker=$m,e.point=Y,e.polygon=ig,e.polyline=ng,e.popup=cg,e.rectangle=pg,e.setOptions=x,e.stamp=f,e.svg=Sh,e.svgOverlay=ag,e.tileLayer=kh,e.tooltip=lg,e.transformation=dt,e.version=i,e.videoOverlay=og;var gg=window.L;e.noConflict=function(){return window.L=gg,this},window.L=e})}(Ro,Ro.exports)),Ro.exports}var Ov=Bv();const Qi=om(Ov);function cm(r,t,e){let i;t===r.owner?i=new Qi.Icon({iconUrl:"cricket-circle.png",iconSize:[45,35],popupAnchor:[0,-5]}):i=new Qi.Icon({iconUrl:"cricket-blue.png",iconSize:[35,25],popupAnchor:[0,-5]});let o=Qi.marker([r.latitude,r.longitude],{icon:i}).bindPopup(`<b>${r.name}</b><br>Built by ${r.owner}`).addTo(e);Yo.push(o)}function Sv(r){if(r>180)for(;!(r>-180&&r<180);)r-=360;else if(r<-180)for(;!(r>-180&&r<180);)r+=360;return r}function lm(){en=Qi.map("map").setView([30,0],0),Qi.tileLayer("https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions"></a>',subdomains:"abcd",maxZoom:12,minZoom:2}).addTo(en);function r(t){Nv.setLatLng(t.latlng).addTo(en),Fl=t.latlng,Fl.lng=Sv(Fl.lng)}return window.location.pathname.includes("farm")?en.on("click",r):en.setMaxBounds(en.getBounds()),en}async function cd(){en?(Yo.forEach(e=>en.removeLayer(e)),Yo=[]):lm();const r=await Gu();(await Zu()).forEach(e=>{const i=rm(e);cm(i,r,en)})}let en,Fl,Nv=Qi.marker(),Yo=[];if(window.ethereum){window.ethereum.on("accountsChanged",cd),cd();const r=ga(),t=r.filters.BuildFarm();r.on(t,async e=>{const i=rm(e),o=await Gu();cm(i,o,en)})}else{lm();for(let r=0;r<42;r++){let t=Math.round(Math.random()*90);t%2&&(t*=-1);let e=Math.round(Math.random()*180);e%2&&(e*=-1),Yo.push([t,e])}Yo.forEach(r=>{Qi.marker(r,{icon:new Qi.Icon({iconUrl:"cricket-blue.png",iconSize:[35,25],popupAnchor:[0,-5]})}).addTo(en)})}
